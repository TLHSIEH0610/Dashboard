(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{10:function(e,a,t){e.exports={up:"topology_up__3frHP",critical:"topology_critical__2gRr_",warning:"topology_warning__2T2al",offline:"topology_offline__3KWiK",desc:"topology_desc___vLvg",Tabs:"topology_Tabs__1FbM9",tabpane:"topology_tabpane__3PTJj",connection:"topology_connection__332da",alarmlog:"topology_alarmlog__2T5Lo",disabled:"topology_disabled__1TMLS",IoT:"topology_IoT__2hPub",Status:"topology_Status__K-cUo",Map:"topology_Map__3-SlI",Setting:"topology_Setting__wVm7Q",alarmtable:"topology_alarmtable__1iA9n",echartBar:"topology_echartBar__SoJvN",IoTinput:"topology_IoTinput__1JL4B",rename:"topology_rename__rpX_E",renameIcon:"topology_renameIcon__2U7Y7"}},112:function(e,a,t){e.exports={addbtn:"fota_input_addbtn__3If-n",actionbtn:"fota_input_actionbtn__2JxKq",card:"fota_input_card__1EuPU",table:"fota_input_table__gEEQw",disable:"fota_input_disable__3n9BU",form:"fota_input_form__30OBN",input:"fota_input_input__TqB1P",group:"fota_input_group__LJFGU",EdtiDeleBtn:"fota_input_EdtiDeleBtn__2z0eG",EdtiBtn:"fota_input_EdtiBtn__ax0xB"}},166:function(e,a,t){e.exports={card:"login_card__xfxjg",registerBtn:"login_registerBtn__1JoJv"}},175:function(e,a,t){e.exports={marker:"track_map_marker__2aV8g",circle:"track_map_circle__27jVe",circleText:"track_map_circleText__3Rs27",leafletContainer:"track_map_leafletContainer__ShS4b",SlideBar:"track_map_SlideBar__2mK-7"}},183:function(e,a,t){e.exports={table:"cloud_table__tY0gC",clickBtn:"cloud_clickBtn__2lN-H",card:"cloud_card__2sLD2",actionCol:"cloud_actionCol__OD-FX"}},222:function(e,a,t){e.exports={PieWrapper:"Pie_PieWrapper__ntsUT",IotMapWrapper:"Pie_IotMapWrapper__1Bt7b",PieCard:"Pie_PieCard__3Laxp",donC:"Pie_donC__2YSfD"}},33:function(e,a,t){e.exports={subHeader:"management_subHeader__2oILI",stepsContent:"management_stepsContent__1oogI",stepsAction:"management_stepsAction__10O0x",formwrap:"management_formwrap__hbQtg",formDiv:"management_formDiv__3D1hW",submitBtn:"management_submitBtn__3ihLn",NotifiForm:"management_NotifiForm__36Sk0",InformationBtnWrapper:"management_InformationBtnWrapper__1YF46",NewUserInfoBtn:"management_NewUserInfoBtn__2D1e1",EditIcon:"management_EditIcon__2pnlx",TokenIcon:"management_TokenIcon__SsBVD",NotificationIcon:"management_NotificationIcon__5atnT",CreateUserIcon:"management_CreateUserIcon__2YpV4",DeleteIcon:"management_DeleteIcon__-fJ6n",ViewSchemeIcon:"management_ViewSchemeIcon__3DLkA",EditGroupIcon:"management_EditGroupIcon__1UTTv",groupPane:"management_groupPane__EYwpE"}},376:function(e,a,t){e.exports=t(673)},47:function(e,a,t){e.exports={stepsContent:"register_stepsContent__v5qa5",stepsAction:"register_stepsAction__2UaNy",ContentWrapper:"register_ContentWrapper__WiG_Q",ListHeader:"register_ListHeader__XhlJR",HeaderIcon:"register_HeaderIcon__23xS2",HeaderRate:"register_HeaderRate__1tKs8",ListFooter:"register_ListFooter__2rEzU",Btnbackgroupd:"register_Btnbackgroupd__3h9Us",planBtn:"register_planBtn__3ZeDi",listItems:"register_listItems__3mf_C",Essentialv:"register_Essentialv__1RZqp",Essentialx:"register_Essentialx__al13N",Deluxev:"register_Deluxev__1Wza_",Deluxex:"register_Deluxex__2l2G9",Platinumv:"register_Platinumv__21CcK"}},63:function(e,a,t){e.exports={card:"devicebackup_card__1umPS",Form:"devicebackup_Form__kvSWO",step:"devicebackup_step__1gsa2",outerspace:"devicebackup_outerspace__1-fFL",clickBtn:"devicebackup_clickBtn__pKW5u",fileinput:"devicebackup_fileinput__3Y30-",actioninput:"devicebackup_actioninput__AHt-_",deviceinput:"devicebackup_deviceinput__2aORH",modelinput:"devicebackup_modelinput__1VPml",formwrap:"devicebackup_formwrap__1iU6B",formDiv:"devicebackup_formDiv__1EZ6Z",submitBtn:"devicebackup_submitBtn__2QxLC"}},667:function(e,a,t){},673:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),r=t(37),c=t.n(r),o=t(90),i=t(62),s=t(56),m=t.n(s),u=t(74),d=t(7),p=t(87),g=t.n(p),E=t(222),f=t.n(E),b=t(690),_=t(35),h=t.n(_),v=t(32),y=Object(n.createContext)(),k=y,w={Global:{innerWidth:"",innerHeight:"",IsMD:!1,showNav:!0},Login:{IsLogin:!1,LogPath:"/",User:null,Cid:""},Topology:{id:"id",deviceStatusByID:"",health:null,strength:null},BackupRestore:{BackupReq:"",ActionStatusList:"",IsActionUpdated:"false"}},I=function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setWindow":return(e=Object(v.a)({},a)).Global.innerWidth=t.payload.innerWidth,e.Global.innerHeight=t.payload.innerHeight,e;case"setLogin":return(e=Object(v.a)({},a)).Login.IsLogin=t.payload.IsLogin,e;case"setUser":return(e=Object(v.a)({},a)).Login.User=t.payload.User,e;case"setCid":return(e=Object(v.a)({},a)).Login.Cid=t.payload.Cid,e;case"LogPath":return(e=Object(v.a)({},a)).Login.LogPath=t.payload.LogPath,e;case"id":return(e=Object(v.a)({},a)).Topology.id=t.payload.id,e;case"deviceStatusByID":return(e=Object(v.a)({},a)).Topology.deviceStatusByID=t.payload.deviceStatusByID,e;case"updateCloud":return(e=Object(v.a)({},a)).BackupRestore.BackupReq=t.payload.BackupReq,e;case"ActionStatusList":return(e=Object(v.a)({},a)).BackupRestore.ActionStatusList=t.payload.ActionStatusList,e;case"IsActionUpdated":return(e=Object(v.a)({},a)).BackupRestore.IsActionUpdated=t.payload.IsActionUpdated,e;case"setPietoTopo":return(e=Object(v.a)({},a)).Topology.health=t.payload.health,e.Topology.strength=t.payload.strength,e;case"setIsMD":return(e=Object(v.a)({},a)).Global.IsMD=t.payload.IsMD,e;case"setShowNav":return(e=Object(v.a)({},a)).Global.showNav=t.payload.showNav,e;default:return a}},O=function(e){var a=e.children,t=Object(n.useReducer)(I,w),r=Object(d.a)(t,2),c=r[0],o=r[1];return l.a.createElement(y.Provider,{value:{state:c,dispatch:o}},a)};function T(e){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(m.a.mark((function e(a){var t,n,l,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify(a),n="/login?user=".concat(t),e.prev=2,e.next=5,fetch(n,{credentials:"include"});case 5:return l=e.sent,e.next=8,l.json();case 8:return r=e.sent,e.abrupt("return",[l,r.response]);case 12:return e.prev=12,e.t0=e.catch(2),console.log("error: ",e.t0),e.abrupt("return",[l,r]);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function C(){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(m.a.mark((function e(){var a,t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="/logout",e.prev=1,localStorage.getItem("authUser.cid")){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,fetch(a,{credentials:"include"});case 7:return t=e.sent,console.log(t),localStorage.clear(),e.abrupt("return",t);case 13:return e.prev=13,e.t0=e.catch(1),console.log("error: ",e.t0),t=e.t0,e.abrupt("return",t);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}var j=function(e,a){var t=Object(n.useState)(null),l=Object(d.a)(t,2),r=l[0],c=l[1],o=Object(n.useState)(!1),s=Object(d.a)(o,2),m=s[0],u=s[1],p=Object(i.g)(),g=Object(n.useContext)(k).dispatch,E=Object(i.h)();return Object(n.useEffect)((function(){u(!0),h.a.get(e).then((function(a){console.log("\u57f7\u884c\u4e86",e),c(a.data),u(!1)})).catch((function(e){if(console.log(e),u(!1),401===e.response.status){if(!localStorage.getItem("auth.isAuthed"))return;g({type:"LogPath",payload:{LogPath:E.pathname}}),C(),p.push("/login")}}))}),[a,e]),[m,r]},x=(t(401),t(200)),M=t.n(x),A=t(58),P=t.n(A),G=(t(307),t(314),t(315),function(e){var a=e.dataSource,t=e.data,r=e.name,c=Object(i.g)(),o=Object(n.useContext)(k).dispatch,s={click:function(e){"excellent"===e.data.name?o({type:"setPietoTopo",payload:{strength:"".concat(e.data.name)}}):o({type:"setPietoTopo",payload:{health:"".concat(e.data.name)}}),c.push("./topology")}};return l.a.createElement(M.a,{echarts:P.a,option:{title:{text:r,left:"center",padding:[0,0]},color:["#28a745","#ffc107","#dc3545","#343a40"],tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"horizontal",left:"20%",data:t,align:"auto",padding:[30,0]},series:[{name:"Number",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!0,top:50,label:{show:!0,position:"outer",bleedMargin:5,alignTo:"none",formatter:"{b} : {c}",fontWeight:"bold",fontSize:"15"},emphasis:{label:{show:!0,fontSize:"30",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:a?a[0]:null,name:t[0],label:{show:!!a&&a[0]}},{value:a?a[1]:null,name:t[1],label:{show:!!a&&a[1]}},{value:a?a[2]:null,name:t[2],label:{show:!!a&&a[2]}},{value:a?a[3]:null,name:t[3],label:{show:!!a&&a[3]}}]}]},notMerge:!0,lazyUpdate:!0,theme:"theme_name",onEvents:s})}),D=function(){var e=Object(n.useContext)(k).state,a=localStorage.getItem("authUser.cid"),t="proscend"===a?'/cmd?get={"statistic":{"filter":{'.concat(e.Login.Cid,"}}}"):'/cmd?get={"statistic":{"filter":{"cid":"'.concat(a,'"}}}'),r=j(t),c=Object(d.a)(r,2),o=c[0],i=c[1],s=Object(n.useState)([]),m=Object(d.a)(s,2),u=m[0],p=m[1];return Object(n.useEffect)((function(){i&&p(i.response.statistic.obj)}),[i]),l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:f.a.PieWrapper},l.a.createElement(b.a,{className:f.a.PieCard,loading:o},l.a.createElement(G,{dataSource:u.health&&[u.health.up,u.health.warning,u.health.critical,u.health.offline],data:["up","warning","critical","offline"],name:"Devices Health"})),l.a.createElement(b.a,{className:f.a.PieCard,loading:o},l.a.createElement(G,{dataSource:u.sim&&[u.sim.excellent,u.sim.good,u.sim.failr,u.sim.poor],data:["excellent","good","fair","poor"],name:"Devices Strength"}))))},F=t(75),L=t(175),B=t.n(L),R=t(676),U=t(322),V=t(326),H=t(324),W=t(323),z=t(325),q=t(341),K=t.n(q),J=t(23),Y=t(374),Z=new J.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[35,50],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),Q=new J.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[35,50],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),X=function(e){var a=e.centerPosition,t=e.currentZoom,r=e.coordinates,c=e.PolylineData,o=j("/api/track.json"),i=Object(d.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)(null),p=Object(d.a)(u,2),g=(p[0],p[1]);return Object(n.useEffect)((function(){m&&(console.log(m),g(m[Object.keys(m)[0]].position),console.log(m[Object.keys(m)[0]].position))}),[m]),l.a.createElement(b.a,{loading:s},l.a.createElement(U.a,{center:a,zoom:t,className:B.a.leafletContainer},l.a.createElement(V.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),c&&l.a.createElement(H.a,{positions:c}),l.a.createElement(K.a,{disableClusteringAtZoom:18,removeOutsideVisibleBounds:!0},r&&r.map((function(e,a){return l.a.createElement(W.a,{key:a,position:[e.lat,e.lng],icon:"up"===e.health?Q:Z},l.a.createElement(z.a,null,l.a.createElement(Y.a,{color:"up"===e.health?"green":"red"},"Health: ",e.health),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Y.a,{color:"up"===e.strength?"green":"red"},"Singnal:  ",e.strength)))})))))},$=(R.a.RangePicker,function(){var e=j("/api/track.json"),a=Object(d.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(13),o=Object(d.a)(c,2),i=o[0],s=(o[1],Object(n.useState)([24.774222535724427,121.00916565583707])),m=Object(d.a)(s,2),u=m[0],p=(m[1],Object(n.useState)([])),g=Object(d.a)(p,2),E=g[0],f=g[1],_=Object(n.useRef)(0);Object(n.useEffect)((function(){if(r){_.current++,console.log(r);var e=Object(F.a)(r.position);e.forEach((function(e,a){e.key=a;var t=new Date(1e3*e.time);e.readableTime="".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate(),"_").concat(t.getHours(),":").concat(t.getMinutes())})),console.log(e),f(e)}}),[r]);return l.a.createElement("div",null,l.a.createElement(b.a,{loading:t,bordered:!1,style:{padding:"0"},bodyStyle:{padding:"0"}},l.a.createElement(X,{centerPosition:u,currentZoom:i,coordinates:E})))}),ee=function(){return l.a.createElement("div",null,l.a.createElement(D,null),l.a.createElement($,null))},ae=t(155),te=t(133),ne=t(678),le=t(683),re=t(372),ce=t(693),oe=t(694),ie=t(50),se=t(109),me=t(679),ue=t(677),de=t(111),pe=t(10),ge=t.n(pe),Ee=t(696),fe=t(125),be=t.n(fe),_e=t(254),he=t(182),ve=t(686),ye=_e.a.TabPane,ke=he.a.Option,we={labelCol:{span:10},wrapperCol:{span:16}},Ie=l.a.memo((function(e){var a=e.IoTvisible,t=e.setIoTvisible,r=e.IoTresponse,c=e.deviceindex,o=e.handleDeviceChange;console.log("\u57f7\u884c\u4e86 TopoIoTC");var i=ne.a.useForm(),s=Object(d.a)(i,1)[0];Object(n.useEffect)((function(){r&&s.setFieldsValue({battery_capacity_ah:r[0].eeprom.battery_capacity_ah,battery_type:r[0].eeprom.battery_type,charge_limit_voltage_v:r[0].eeprom.charge_limit_voltage_v,discharge_limit_voltage_v:r[0].eeprom.discharge_limit_voltage_v,equalizing_charge_interval_day:r[0].eeprom.equalizing_charge_interval_day,equalizing_charge_time_min:r[0].eeprom.equalizing_charge_time_min,equalizing_charge_voltage_v:r[0].eeprom.equalizing_charge_voltage_v,folating_charge_voltage_v:r[0].eeprom.folating_charge_voltage_v,low_voltage_warning_voltage_v:r[0].eeprom.low_voltage_warning_voltage_v,over_discharge_delay_s:r[0].eeprom.over_discharge_delay_s,over_discharge_reverse_voltage_v:r[0].eeprom.over_discharge_reverse_voltage_v,over_discharge_voltage_v:r[0].eeprom.over_discharge_voltage_v,overvoltage_voltage_v:r[0].eeprom.overvoltage_voltage_v,rasing_charge_reverse_voltage_v:r[0].eeprom.rasing_charge_reverse_voltage_v,rasing_charge_time_min:r[0].eeprom.rasing_charge_time_min,rasing_charge_voltage_v:r[0].eeprom.rasing_charge_voltage_v,recognized_voltage_v:r[0].eeprom.recognized_voltage_v,system_voltage_v:r[0].eeprom.system_voltage_v,temperature_coefficient:r[0].eeprom.temperature_coefficient})}),[r]);return l.a.createElement(me.a,{visible:a,onOk:function(){return t(!1)},onCancel:function(){return t(!1)},okText:"confirm",cancelText:"cancel",centered:!0,width:"50%",destroyOnClose:!0},l.a.createElement(he.a,{defaultValue:"485_0",style:{width:120},onChange:o},r&&r.map((function(e,a){return l.a.createElement(ke,{key:a,value:a},"485_".concat(a))}))),l.a.createElement(_e.a,{defaultActiveKey:"Today",onChange:function(e){console.log(e)}},l.a.createElement(ye,{tab:"Today",key:"Today",className:ge.a.tabpane},l.a.createElement(ve.a,{bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1},className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Battery",className:ge.a.descItem},"Voltage_max:",r[c].controller.today.battery.min_voltage_v,"(V)",l.a.createElement("br",null),"Voltage_max:",r[c].controller.today.battery.max_voltage_v,"(V)",l.a.createElement("br",null))),l.a.createElement(ve.a,{bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1},className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Charge",className:ge.a.descItem},"Current_max:",r[c].controller.today.charge.max_current_a,"(A)",l.a.createElement("br",null),"Ampere_Hour:"," ",r[c].controller.today.charge.ampere_hour_ah,"(A/H)",l.a.createElement("br",null),"Watt: ",r[c].controller.today.charge.watt_w,"(W)",l.a.createElement("br",null),"Watt_max:"," ",r[c].controller.today.charge.max_watt_w,"(W)",l.a.createElement("br",null),"Watt_total:"," ",r[c].controller.today.charge.total_watt_w,"(W)",l.a.createElement("br",null))),l.a.createElement(ve.a,{bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1},className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Discharge",className:ge.a.descItem},"Current_max:"," ",r[c].controller.today.discharge.max_current_a," ","(A)",l.a.createElement("br",null),"Ampere_Hour:"," ",r[c].controller.today.discharge.ampere_hour_ah,"(A/H)",l.a.createElement("br",null),"Watt: ",r[c].controller.today.discharge.watt_w,"(W)",l.a.createElement("br",null),"Watt_max:"," ",r[c].controller.today.discharge.max_watt_w,"(W)",l.a.createElement("br",null),"Watt_total:"," ",r[c].controller.today.discharge.total_watt_w,"(W)",l.a.createElement("br",null)))),l.a.createElement(ye,{tab:"Pannel",key:"Pannel",className:ge.a.tabpane},l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Current"},r[c].controller.solar_pannel.current_a," (A)")),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Voltage"},r[c].controller.solar_pannel.voltage_v," (V)")),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Watt"},r[c].controller.solar_pannel.watt_w," (W)")),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Temperature"},r[c].controller.solar_pannel.temperature_c," ","(C)"))),l.a.createElement(ye,{tab:"Battery",key:"Battery",className:ge.a.tabpane},l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Charge Current"},r[c].controller.battery.charge_current_a," (A)")),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"FullCharge Time"},r[c].controller.battery.full_charged_time)),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"OverDischarge Time"},r[c].controller.battery.over_discharged_time)),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"SOC"},r[c].controller.battery.soc_percentage," (%)")),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Temperature"},r[c].controller.battery.temperature_c," (C)")),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Total Charge"},r[c].controller.battery.total_charge_ah," ","(A/H)")),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Total DisCharge"},r[c].controller.battery.total_discharge_ah," ","(A/H)")),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Voltage"},r[c].controller.battery.voltage_v," (V)")),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Charge State"},r[c].controller.battery.charge_state," (W)"))),l.a.createElement(ye,{tab:"Load",key:"Load",className:ge.a.tabpane},l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Current"},r[c].controller.load.current_a," (A)")),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Voltage"},r[c].controller.load.voltage_v," (V)")),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Watt"},r[c].controller.load.watt_w," (W)")),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Load Light"},r[c].controller.load.load_light_percentage," ","(%)")),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Load On_Off"},r[c].controller.load.load_on_off))),l.a.createElement(ye,{tab:"eeprom",key:"eeprom",className:ge.a.tabpane},l.a.createElement(ne.a,Object.assign({},we,{name:"nest-messages",onFinish:function(e){console.log(e)},form:s}),l.a.createElement(ne.a.Item,{name:"battery_capacity_ah",label:"battery_capacity_ah"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"battery_type",label:"battery_type"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"charge_limit_voltage_v",label:"Charge limit(V)"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"discharge_limit_voltage_v",label:"DisCharge limit(V)"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"equalizing_charge_interval_day",label:"Equalizing Charge Interval(day)"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"equalizing_charge_time_min",label:"Equalizing Charge time(min)"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"equalizing_charge_voltage_v",label:"Equalizing Charge(V)"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"folating_charge_voltage_v",label:"Folating Charge(V)"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"low_voltage_warning_voltage_v",label:"Low Voltage warning(V)"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"over_discharge_delay_s",label:"Over DisCharge delay(s)"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"over_discharge_reverse_voltage_v",label:"Over DisCharge reverse(V)"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"over_discharge_voltage_v",label:"Over DisCharge(V)"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"overvoltage_voltage_v",label:"Overvoltage(V)"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"rasing_charge_reverse_voltage_v",label:"Rasing charge reverse(V)"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"rasing_charge_time_min",label:"Rasing charge time min"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"rasing_charge_voltage_v",label:"Rasing charge(V)"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"recognized_voltage_v",label:"Recognized Voltage(V)"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"system_voltage_v",label:"System Voltage(V)"},l.a.createElement(re.a,{className:ge.a.IoTinput})),l.a.createElement(ne.a.Item,{name:"temperature_coefficient",label:"Temp Coefficient"},l.a.createElement(re.a,{className:ge.a.IoTinput})))),l.a.createElement(ye,{tab:"system",key:"system",className:ge.a.tabpane},l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Charge Current"},r[c].system.charge_current_a," (A)")),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"DisCharge Current"},r[c].system.discharge_current_a," (A)")),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Voltage_max"},r[c].system.max_voltage_v," (V)")),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Hardware Version"},r[c].system.hardware_version)),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Serial Number"},r[c].system.serial_number)),l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Software Version"},r[c].system.software_version)))))})),Oe=t(141),Te=t(44),Se=t(142),Ce=function(e){var a=e.getColumnSearchProps,t=e.dataSource,n=e.setAlarmTablevisible,r=e.AlarmTablevisible,c=[Object(v.a)({title:"Level",dataIndex:"level",key:"level"},a("level")),Object(v.a)({title:"Message",dataIndex:"message",key:"message"},a("message")),Object(v.a)({title:"TrigerTime",dataIndex:"trigger_time",key:"trigger_time"},a("trigger_time")),Object(v.a)({title:"RecoverTime",dataIndex:"recover_time",key:"recover_time"},a("recover_time"))];return l.a.createElement(l.a.Fragment,null,l.a.createElement(me.a,{visible:r,onCancel:function(){return n(!1)},centered:!0,width:"70%",className:ge.a.modal,destroyOnClose:!0,footer:[l.a.createElement(ie.a,{key:"confirm",type:"primary",onClick:function(){return n(!1)}},"Confirm")]},l.a.createElement(ue.a,{className:ge.a.alarmtable,dataSource:t,columns:c,pagination:!0,scroll:{y:400},size:"middle"})))},Ne=(t(634),function(e){var a=e.dataSource.sim[0];return l.a.createElement("div",null,l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Strength"},"EARFCN:",a.EARFCN,l.a.createElement("br",null),"IMSI: ",a.IMSI,l.a.createElement("br",null),"PLMN : ",a.PLMN,l.a.createElement("br",null),"access : ",a.access,l.a.createElement("br",null),"active : ",a.active,l.a.createElement("br",null),"band: ",a.band,l.a.createElement("br",null),"operator: ",a.operator,l.a.createElement("br",null),"phone_number: ",a.phone_number,l.a.createElement("br",null),"roaming: ",a.roaming,l.a.createElement("br",null),"rssi_dbm:",a.rssi_dbm,l.a.createElement("br",null),"status:",a.status,l.a.createElement("br",null))))}),je=function(e){var a=e.dataSource.gps;return l.a.createElement("div",null,l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"GPS"},"altitude:",a.altitude,l.a.createElement("br",null),"date: ",a.date,l.a.createElement("br",null),"horizontal : ",a.horizontal,l.a.createElement("br",null),"latitude : ",a.latitude,l.a.createElement("br",null),"longitude : ",a.longitude,l.a.createElement("br",null),"satellite: ",a.satellite,l.a.createElement("br",null),"utc-time: ",a["utc-time"],l.a.createElement("br",null))))},xe=function(e){var a=e.dataSource.dns;return l.a.createElement("div",null,l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"DNS"},"wan_ip4_1:",a.wan[0].ipv4[0],l.a.createElement("br",null),"wan_ip4_2: ",a.wan[0].ipv4[1],l.a.createElement("br",null),"wan_ip4_3:",a.wan[0].ipv4[2],l.a.createElement("br",null),"wan_ip6_1:",a.wan[0].ipv6[0],l.a.createElement("br",null),"wan_ip6_2: ",a.wan[0].ipv6[1],l.a.createElement("br",null),"wan_ip6_3: ",a.wan[0].ipv6[2],l.a.createElement("br",null))))},Me=function(e){var a=e.dataSource.connection;return l.a.createElement("div",null,l.a.createElement(ve.a,{bordered:!0,className:ge.a.desc,column:{xxl:2,xl:2,lg:2,md:2,sm:1,xs:1}},l.a.createElement(ve.a.Item,{label:"LAN"},"ip4_adress: ",a.lan.ipv4.adress,l.a.createElement("br",null),"ip4_netmask: ",a.lan.ipv4.netmask,l.a.createElement("br",null),"ip6_adress: ",a.lan.ipv6.address,l.a.createElement("br",null),"ip6_up_time:",a.lan.ipv6.uptime,l.a.createElement("br",null)),l.a.createElement(ve.a.Item,{label:"LTE"},"active: ",a.lte.active,l.a.createElement("br",null),"ip4_apn_address: ",a.lte.apn[0].ipv4.address,l.a.createElement("br",null),"ip4_apn_gateway: ",a.lte.apn[0].ipv4.gateway,l.a.createElement("br",null),"ip4_apn_netmask: ",a.lte.apn[0].ipv4.netmask,l.a.createElement("br",null),"ip4_apn_uptime: ",a.lte.apn[0].ipv4.uptime,l.a.createElement("br",null),"ip4_address: ",a.lte.ipv4.address,l.a.createElement("br",null),"ip4_gateway: ",a.lte.ipv4.gateway,l.a.createElement("br",null),"ip4_netmask: ",a.lte.ipv4.netmask,l.a.createElement("br",null),"ip4_uptime: ",a.lte.ipv4.uptime,l.a.createElement("br",null)),l.a.createElement(ve.a.Item,{label:"WAN"},"active: ",a.wan.active,l.a.createElement("br",null),"ip4_address: ",a.wan.ipv4.address,l.a.createElement("br",null),"ip4_gateway: ",a.wan.ipv4.gateway,l.a.createElement("br",null),"ip4_netmask:",a.wan.ipv4.netmask,l.a.createElement("br",null),"ip4_up_time:",a.wan.ipv4.uptime,l.a.createElement("br",null)),l.a.createElement(ve.a.Item,{label:"WWAN"},"active: ",a.wwan.active,l.a.createElement("br",null),"ip4_MAC: ",a.wwan.ipv4.MAC,l.a.createElement("br",null),"ip4_SSID: ",a.wwan.ipv4.SSID,l.a.createElement("br",null),"ip4_address:",a.wwan.ipv4.address,l.a.createElement("br",null),"ip4_channel:",a.wwan.ipv4.channel,l.a.createElement("br",null),"ip4_gateway:",a.wwan.ipv4.gateway,l.a.createElement("br",null),"ip4_netmask:",a.wwan.ipv4.netmask,l.a.createElement("br",null),"ip4_up_time:",a.wwan.ipv4.uptime,l.a.createElement("br",null))))},Ae=function(e){var a=e.dataSource.statistic;return l.a.createElement(M.a,{echarts:P.a,option:{title:{show:!0,text:"DataUsage",textStyle:{fontWeight:"bold",fontFamily:"sans-serif"},right:"auto",left:"center"},legend:{show:!0,right:"10%"},tooltip:{},dataset:{source:[["product","tx","rx"],["LTE",a.lte.tx_kbytes,a.lte.rx_kbytes],["WAN",a.wan.tx_kbytes,a.wan.rx_kbytes],["LAN",a.lan.tx_kbytes,a.lan.rx_kbytes]]},xAxis:{type:"category"},yAxis:{},series:[{type:"bar"},{type:"bar"}]},notMerge:!0,lazyUpdate:!0,theme:"theme_name",className:ge.a.echartBar})},Pe=_e.a.TabPane,Ge=function(e){var a=e.record,t=e.setDeviceStatevisible,n=e.DeviceStatevisible;return l.a.createElement(me.a,{visible:n,onCancel:function(){return t(!1)},centered:!0,width:"50%",footer:[l.a.createElement(ie.a,{key:"confirm",type:"primary",onClick:function(){return t(!1)}},"Confirm")]},l.a.createElement(_e.a,{defaultActiveKey:"1",className:ge.a.Tabs},l.a.createElement(Pe,{tab:"Statistic",key:"1",className:ge.a.tabpane},l.a.createElement(Ae,{dataSource:a})),l.a.createElement(Pe,{tab:"Connection",key:"2",className:ge.a.tabpane},l.a.createElement(Me,{dataSource:a,className:ge.a.connection})),l.a.createElement(Pe,{tab:"Strength",key:"3",className:ge.a.tabpane},l.a.createElement(Ne,{dataSource:a})),l.a.createElement(Pe,{tab:"GPS",key:"4",className:ge.a.tabpane},l.a.createElement(je,{dataSource:a})),l.a.createElement(Pe,{tab:"DNS",key:"5",className:ge.a.tabpane},l.a.createElement(xe,{dataSource:a}))))},De=t(219),Fe=t(692),Le=he.a.Option,Be=function(e){var a=e.identity;return l.a.createElement(ve.a,{bordered:!0,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1},className:ge.a.desc},l.a.createElement(ve.a.Item,{label:"Identity"},"IMEI: ",a.IMEI,l.a.createElement("br",null),"bootloader_version: ",a.bootloader_version,l.a.createElement("br",null),"hardware_mcsv: ",a.hardware_mcsv,l.a.createElement("br",null),"hostname: ",a.hostname,l.a.createElement("br",null),"lan_eth_mac: ",a.lan_eth_mac,l.a.createElement("br",null),"modem_firmware_version: ",a.modem_firmware_version,l.a.createElement("br",null),"serial_number: ",a.serial_number,l.a.createElement("br",null),"wan_eth_mac: ",a.wan_eth_mac,l.a.createElement("br",null),"wifi_ap_mac: ",a.wifi_ap_mac,l.a.createElement("br",null)))},Re=function(e){var a=e.layout,t=e.onFinish,n=ne.a.useForm(),r=Object(d.a)(n,1)[0];return l.a.createElement(ne.a,Object.assign({},a,{onFinish:t,form:r}),l.a.createElement(ne.a.Item,{name:"ip4_address",label:"ipv4_address",rules:[{required:!0}]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"ip4_netmask",label:"ip4_netmask",rules:[{required:!0}]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"ip4_dhcpmodel",label:"ip4_dhcpmodel",rules:[{required:!0}]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"ip4_dhcp_start",label:"ip4_dhcp_start",rules:[{required:!0}]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"ip4_dhcp_end",label:"ip4_dhcp_end",rules:[{required:!0}]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"ip6_type",label:"ip6_type",rules:[{required:!0}]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"ip6_assignment",label:"ip6_assignment",rules:[{required:!0}]},l.a.createElement(re.a,null)))},Ue=function(e){var a=e.layout,t=e.onFinish,n=ne.a.useForm(),r=Object(d.a)(n,1)[0];return l.a.createElement(ne.a,Object.assign({},a,{onFinish:t,form:r}),l.a.createElement(ne.a.Item,{label:"Ethernet dhcp dns(1)"},l.a.createElement(re.a.Group,{compact:!0},l.a.createElement(ne.a.Item,{name:"ipv4_type"},l.a.createElement(De.a.Group,null,l.a.createElement(De.a,{value:"ISP"},"ISP"),l.a.createElement(De.a,{value:"manual"},"Manual"),l.a.createElement(De.a,{value:"nonec"},"none"))),l.a.createElement(ne.a.Item,{name:["ip4","adress"],noStyle:!0},l.a.createElement(re.a,{style:{width:"50%"},placeholder:"Input adress"})))),l.a.createElement(ne.a.Item,{label:"ethernet_dhcp_dns_2"},l.a.createElement(re.a.Group,{compact:!0},l.a.createElement(ne.a.Item,{name:"ipv4_type"},l.a.createElement(De.a.Group,null,l.a.createElement(De.a,{value:"ISP"},"ISP"),l.a.createElement(De.a,{value:"manual"},"Manual"),l.a.createElement(De.a,{value:"nonec"},"none"))),l.a.createElement(ne.a.Item,{name:["ip4","adress"],noStyle:!0},l.a.createElement(re.a,{style:{width:"50%"},placeholder:"Input adress"})))),l.a.createElement(ne.a.Item,{label:"ethernet_dhcp_dns_3"},l.a.createElement(re.a.Group,{compact:!0},l.a.createElement(ne.a.Item,{name:"ipv4_type"},l.a.createElement(De.a.Group,null,l.a.createElement(De.a,{value:"ISP"},"ISP"),l.a.createElement(De.a,{value:"manual"},"Manual"),l.a.createElement(De.a,{value:"nonec"},"none"))),l.a.createElement(ne.a.Item,{name:["ip4","adress"],noStyle:!0},l.a.createElement(re.a,{style:{width:"50%"},placeholder:"Input adress"})))),l.a.createElement(ne.a.Item,{label:"Priority Order"},l.a.createElement(re.a.Group,{compact:!0},l.a.createElement(ne.a.Item,{name:"1",noStyle:!0,label:"1"},l.a.createElement(he.a,{placeholder:"Please select"},l.a.createElement(Le,{value:"lte"},"lte"),l.a.createElement(Le,{value:"eth"},"eth"),l.a.createElement(Le,{value:"wifi-2.4G"},"wifi-2.4G"))),l.a.createElement(ne.a.Item,{name:"2",noStyle:!0,label:"2"},l.a.createElement(he.a,{placeholder:"Please select"},l.a.createElement(Le,{value:"lte"},"lte"),l.a.createElement(Le,{value:"eth"},"eth"),l.a.createElement(Le,{value:"wifi-2.4G"},"wifi-2.4G"))),l.a.createElement(ne.a.Item,{name:"3",noStyle:!0,label:"3"},l.a.createElement(he.a,{placeholder:"Please select"},l.a.createElement(Le,{value:"lte"},"lte"),l.a.createElement(Le,{value:"eth"},"eth"),l.a.createElement(Le,{value:"wifi-2.4G"},"wifi-2.4G"))))),l.a.createElement(ne.a.Item,{name:"LTE Model",label:"LTE Model"},l.a.createElement(De.a.Group,null,l.a.createElement(De.a,{value:"bridge"},"bridge"),l.a.createElement(De.a,{value:"router"},"router"))),l.a.createElement(ne.a.Item,{name:"Ethernet Type",label:"Ethernet Type"},l.a.createElement(De.a.Group,null,l.a.createElement(De.a,{value:"dhcp"},"dhcp"),l.a.createElement(De.a,{value:"pppoe"},"pppoe"),l.a.createElement(De.a,{value:"static"},"static"))))},Ve=function(e){var a=e.layout,t=e.onFinish,n=ne.a.useForm(),r=Object(d.a)(n,1)[0];function c(e){console.log("switch to ".concat(e))}return l.a.createElement(ne.a,Object.assign({},a,{onFinish:t,form:r}),l.a.createElement(ne.a.Item,{name:"mode",label:"Model"},l.a.createElement(De.a.Group,null,l.a.createElement(De.a,{value:"auto"},"Auto"),l.a.createElement(De.a,{value:"2G-only"},"2G-only"),l.a.createElement(De.a,{value:"3G-only"},"3G-only"),l.a.createElement(De.a,{value:"4G-only"},"4G-only"))),l.a.createElement(ne.a.Item,{name:"mtu",label:"mtu"},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"pin",label:"pin"},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"puk",label:"puk"},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{valuePropName:"checked",name:"pin_enabled",label:"pin enabled"},l.a.createElement(Fe.a,{defaultChecked:!0,onChange:function(e){console.log("switch to ".concat(e))}})),l.a.createElement(ne.a.Item,{name:"apn",label:"apn"},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{valuePropName:"checked",name:"ipv6_enabled",label:"ipv6 enabled"},l.a.createElement(Fe.a,{defaultChecked:!0,onChange:c})),l.a.createElement(ne.a.Item,{name:"auth",label:"Auth Type"},l.a.createElement(De.a.Group,null,l.a.createElement(De.a,{value:"none"},"none"),l.a.createElement(De.a,{value:"pap"},"pap"),l.a.createElement(De.a,{value:"chap"},"chap"))),l.a.createElement(ne.a.Item,{name:"username",label:"Auth_UserName"},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"password",label:"Auth_Password"},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{valuePropName:"checked",name:"limit_enabled",label:"limit enabled"},l.a.createElement(Fe.a,{onChange:c})),l.a.createElement(ne.a.Item,{name:"limit_mbyte",label:"Mbyte"},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"limit_mbyte",label:"Reset Day"},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"limit_mbyte",label:"Reset Hour"},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"limit_mbyte",label:"Reset Minute"},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"limit_mbyte",label:"Reset Second"},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{valuePropName:"checked",name:"roaming",label:"Roaming"},l.a.createElement(Fe.a,{onChange:function(e){console.log("switch to ".concat(e))}})),l.a.createElement(ne.a.Item,{name:"limit_mbyte",label:"Recovery DownTimes"},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{valuePropName:"checked",name:"roaming",label:"Recovery apn"},l.a.createElement(Fe.a,{onChange:function(e){console.log("switch to ".concat(e))}})),l.a.createElement(ne.a.Item,{name:"action",label:"Recovery apn action"},l.a.createElement(De.a.Group,null,l.a.createElement(De.a,{value:"reboot"},"reboot"),l.a.createElement(De.a,{value:"default-apn"},"default-apn"),l.a.createElement(De.a,{value:"previous-apn"},"previous-apn"))))},He=_e.a.TabPane,We={labelCol:{span:8},wrapperCol:{span:12}},ze=function(e){var a=e.DeviceSettingvisible,t=e.setDeviceSettingvisible,n=e.DeviceStateloading,r=e.identity,c=function(e){console.log(e)};return l.a.createElement(me.a,{visible:a,onOk:function(){return t(!1)},onCancel:function(){return t(!1)},okText:"confirm",cancelText:"cancel",centered:!0,width:"40%",className:ge.a.modal},l.a.createElement(_e.a,{defaultActiveKey:"1"},l.a.createElement(He,{tab:"Identity",key:"identity",className:ge.a.tabpane},l.a.createElement(b.a,{bordered:!1,loading:n},l.a.createElement(Be,{identity:r}))),l.a.createElement(He,{tab:"LAN",key:"lan",className:ge.a.tabpane},l.a.createElement(Re,{layout:We,onFinish:c})),l.a.createElement(He,{tab:"WAN",key:"wan",className:ge.a.tabpane},l.a.createElement(Ue,{layout:We,onFinish:c})),l.a.createElement(He,{tab:"LTE",key:"lte",className:ge.a.tabpane},l.a.createElement(Ve,{layout:We,onFinish:c}))))},qe=t(180),Ke=t(181);var Je=t(165),Ye=t(102),Ze=he.a.Option,Qe=function(e){var a=e.setDataSource,t=e.dataSource,r=ne.a.useForm(),c=Object(d.a)(r,1)[0],o=Object(n.useContext)(k).state,i=Object(n.useState)([]),s=Object(d.a)(i,2),m=s[0],u=s[1],p=Object(n.useState)(""),g=Object(d.a)(p,2),E=g[0],f=g[1],b=Object(n.useRef)(0);Object(n.useEffect)((function(){console.log(b.current),0===b.current&&(u(t),c.setFieldsValue({device:[],model:[],health:[],strength:[]}))}));Object(n.useEffect)((function(){if(0!==m.length){var e=new Set;m.filter((function(a){return!e.has(a.model)&&e.add(a.model)}));var a=Array.from(e).map((function(e){return{value:e}}));f(a),o.Topology.health&&(c.setFieldsValue({health:["".concat(o.Topology.health)]}),c.submit()),o.Topology.strength&&(c.setFieldsValue({strength:["".concat(o.Topology.strength)]}),c.submit())}}),[m]);function _(e){return"up"===e||"excellent"===e?"#28a745":"critical"===e||"good"===e?"#ffc107":"warning"===e||"fair"===e?"#dc3545":"offline"===e||"poor"===e?"#343a40":"gray"}function h(e){var a=e.label,t=(e.value,e.closable),n=e.onClose;return l.a.createElement(Y.a,{color:_(a),closable:t,onClose:n,style:{marginRight:3}},a)}return l.a.createElement(ne.a,{onFinish:function(e){b.current++;var t=m;console.log(e),e.health.length&&e.strength.length&&e.model.length&&e.device.length||a(m),t=t.filter((function(a){return(!e.device.length||(e.device.includes(a.name)||e.device.includes(a.id)))&&(!e.model.length||e.model.includes(a.model))&&(!e.health.length||e.health.includes(a.health))&&(!e.strength.length||e.strength.includes(a.strength))})),a(t)},form:c},l.a.createElement(Je.a,{gutter:24,type:"flex"},l.a.createElement(Ye.a,{span:6},l.a.createElement(ne.a.Item,{name:"device",label:"Device"},l.a.createElement(he.a,{mode:"multiple",placeholder:"search devices",showArrow:!0,tagRender:h,onFocus:function(){},onBlur:function(){return c.submit()}},m.map((function(e,a){return l.a.createElement(Ze,{key:a,value:e.name?e.name:e.id},e.name?e.name:e.id)}))))),l.a.createElement(Ye.a,{span:4},l.a.createElement(ne.a.Item,{name:"model",label:"Model"},l.a.createElement(he.a,{mode:"multiple",showArrow:!0,tagRender:h,style:{width:"100%"},options:E,onChange:function(){return c.submit()}}))),l.a.createElement(Ye.a,{span:4},l.a.createElement(ne.a.Item,{name:"health",label:"Health"},l.a.createElement(he.a,{mode:"multiple",showArrow:!0,tagRender:h,style:{width:"100%"},options:[{value:"up"},{value:"critical"},{value:"warning"},{value:"offline"}],onChange:function(){return c.submit()}}))),l.a.createElement(Ye.a,{span:4},l.a.createElement(ne.a.Item,{name:"strength",label:"Strength"},l.a.createElement(he.a,{mode:"multiple",showArrow:!0,tagRender:h,style:{width:"100%"},options:[{value:"excellent"},{value:"good"},{value:"fair"},{value:"poor"}],onChange:function(){return c.submit()}}))),l.a.createElement(Ye.a,{span:2},l.a.createElement(ne.a.Item,null,l.a.createElement(ie.a,{onClick:function(){console.log(m),a(m),c.setFieldsValue({device:[],model:[],health:[],strength:[]})}},"Reset")))))},Xe=t(684),$e=R.a.RangePicker,ea=function(e){var a=e.drawerVisible,t=e.setDrawerVisible,r=ne.a.useForm(),c=Object(d.a)(r,1)[0],o=j("/api/track.json"),i=Object(d.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)([]),p=Object(d.a)(u,2),g=p[0],E=p[1],f=Object(n.useState)(17),_=Object(d.a)(f,2),h=_[0],v=_[1],y=Object(n.useState)([24.774222535724427,121.00916565583707]),k=Object(d.a)(y,2),w=k[0],I=k[1],O=Object(n.useState)([]),T=Object(d.a)(O,2),S=T[0],C=T[1],N=Object(n.useState)([]),x=Object(d.a)(N,2),M=x[0],A=x[1],P=Object(n.useState)([]),G=Object(d.a)(P,2),D=G[0],L=G[1],R=Object(n.useRef)(0);function U(e){return"up"===e||"excellent"===e?"#28a745":"critical"===e||"good"===e?"#ffc107":"warning"===e||"fair"===e?"#dc3545":"offline"===e||"poor"===e?"#343a40":"gray"}Object(n.useEffect)((function(){if(m){R.current++,console.log(m);var e=Object(F.a)(m.position);e.forEach((function(e,a){e.key=a;var t=new Date(1e3*e.time);e.readableTime="".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()," ").concat(t.getHours(),":").concat(t.getMinutes())})),console.log(e),C([e[e.length-1]]),I([e[e.length-1].lat,e[e.length-1].lng]),1===R.current&&A(e)}}),[m]),Object(n.useEffect)((function(){if(g){var e=[];g.forEach((function(a){e.push([a.lat,a.lng])})),L(e),console.log(e)}}),[g]);var V=[{title:"Time",dataIndex:"readableTime",key:"readableTime",render:function(e){return l.a.createElement("a",null,e)}},{title:"Health",dataIndex:"health",key:"health",render:function(e){return l.a.createElement(Y.a,{color:U(e)},e)}},{title:"Signal",dataIndex:"strength",key:"strength",render:function(e){return l.a.createElement(Y.a,{color:U(e)},e)}},{title:"Height",dataIndex:"height",key:"height",responsive:["sm"]},{title:"Latitude",dataIndex:"lat",key:"lat",responsive:["md"]},{title:"Longitude",dataIndex:"lng",key:"lng",responsive:["md"]}];return l.a.createElement("div",null,l.a.createElement(b.a,{bordered:!1,style:{padding:"0"},bodyStyle:{padding:"0"}},l.a.createElement(Xe.a,{placement:"top",closable:!0,onClose:function(){t(!1),C([M[M.length-1]]),I([M[M.length-1].lat,M[M.length-1].lng]),L([])},visible:a,destroyOnClose:!0,mask:!1,maskClosable:!1},l.a.createElement(ue.a,{columns:V,dataSource:g,className:B.a.drawertable,pagination:!1,onRow:function(e){return{onClick:function(a){console.log(a,e),I([e.lat,e.lng]),C([{lat:e.lat,lng:e.lng,health:e.health,strength:e.strength}]),v(17)}}}})),l.a.createElement(ne.a,{name:"SelectTime",onFinish:function(e){console.log(e);var a=e.RangePicker[0]._d,n=e.RangePicker[1]._d,l=M.filter((function(e){return a.getTime()<parseInt(1e3*e.time)&&parseInt(1e3*e.time)<n.getTime()}));E(l),console.log(l),t(!0)},form:c,style:{display:"flex"}},l.a.createElement(ne.a.Item,{name:"RangePicker"},l.a.createElement($e,null)),l.a.createElement(ne.a.Item,{name:"DateSubmite",style:{marginLeft:"3%"}},l.a.createElement(ie.a,{type:"primary",htmlType:"submit"},"Submit")))),l.a.createElement(b.a,{loading:s,bordered:!1,style:{padding:"0"},bodyStyle:{padding:"0"}},l.a.createElement(X,{centerPosition:w,currentZoom:h,coordinates:S,PolylineData:D})))},aa=function(){var e=Object(i.g)(),a=Object(n.useContext)(k).state,t=localStorage.getItem("authUser.cid"),r="proscend"===t?'/cmd?get={"device_status":{"filter":{'.concat(a.Login.Cid,"}}}"):'/cmd?get={"device_status":{"filter":{"cid":"'.concat(t,'"}}}'),c=j(r),o=Object(d.a)(c,2),s=o[0],p=o[1],g=j("api/IoT_solar.json"),E=Object(d.a)(g,2),f=(E[0],E[1]),_=Object(n.useState)([]),y=Object(d.a)(_,2),w=y[0],I=y[1],O=Object(n.useState)([]),T=Object(d.a)(O,2),S=T[0],N=T[1],x=Object(n.useState)([]),M=Object(d.a)(x,2),A=M[0],P=M[1],G=Object(n.useState)([]),D=Object(d.a)(G,2),L=D[0],B=D[1],R=Object(n.useState)(!1),U=Object(d.a)(R,2),V=U[0],H=U[1],W=Object(n.useState)(!1),z=Object(d.a)(W,2),q=z[0],K=z[1],J=Object(n.useState)(!1),Y=Object(d.a)(J,2),Z=Y[0],Q=Y[1],X=Object(n.useState)(!1),$=Object(d.a)(X,2),ee=$[0],pe=$[1],fe=Object(n.useState)(!1),_e=Object(d.a)(fe,2),he=_e[0],ve=_e[1],ye=Object(n.useState)(0),ke=Object(d.a)(ye,2),we=ke[0],Ne=ke[1],je=l.a.createContext(),xe=Object(n.useState)(!1),Me=Object(d.a)(xe,2),Ae=Me[0],Pe=Me[1],De={body:{row:function(e){e.index;var a=Object(te.a)(e,["index"]),t=ne.a.useForm(),n=Object(d.a)(t,1)[0];return l.a.createElement(ne.a,{form:n,component:!1},l.a.createElement(je.Provider,{value:n},l.a.createElement("tr",a)))},cell:function(e){var t=e.title,r=e.editable,c=e.children,o=e.dataIndex,i=e.record,s=e.handleSave,p=Object(te.a)(e,["title","editable","children","dataIndex","record","handleSave"]),g=Object(n.useState)(!1),E=Object(d.a)(g,2),f=E[0],b=E[1],_=Object(n.useRef)(),y=Object(n.useContext)(je);Object(n.useEffect)((function(){f&&_.current.focus()}),[f]);var k=function(){b(!f),y.setFieldsValue(Object(ae.a)({},o,i[o]))},w=function(){var e=Object(u.a)(m.a.mark((function e(t){var n,l,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.validateFields();case 3:if(n=e.sent,k(),i.name!==n.name){e.next=7;break}return e.abrupt("return");case 7:s(Object(v.a)(Object(v.a)({},i),n)),l=localStorage.getItem("authUser.cid"),r="proscend"===l?'/cmd?set={"node_name":{"filter":{'.concat(a.Login.Cid,'},"list":[{"id":"').concat(i.id,'","name":"').concat(n.name,'"}]}}'):'/cmd?set={"node_name":{"filter":{"cid":"'.concat(l,'"},"list":[{"id":"').concat(i.id,'","name":"').concat(n.name,'"}]}}'),h.a.get(r).then((function(e){console.log(e),le.b.success("rename successfully.")})).catch((function(e){console.log(e),le.b.error("rename fail.")})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("Save failed:",e.t0),le.b.error("rename fail.");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(a){return e.apply(this,arguments)}}(),I=c;return r&&(I=f?l.a.createElement(ne.a.Item,{style:{margin:0},name:o,rules:[{required:!0,message:"".concat(t," is required.")}]},l.a.createElement(re.a,{ref:_,onPressEnter:w,onBlur:w})):l.a.createElement(ce.a,{placement:"bottom",title:"sure to rename?",onConfirm:function(){return k()},okText:"Yes",cancelText:"No"},l.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24}},c))),l.a.createElement("td",p,I)}}},Fe=function(e){var a=Object(F.a)(w),t=a.findIndex((function(a){return e.key===a.key})),n=a[t];a.splice(t,1,Object(v.a)(Object(v.a)({},n),e)),I(a)};Object(n.useEffect)((function(){if(p){var e=p.response.device_status,a=[];e.forEach((function(e,t){e.obj.status.alarm.forEach((function(e,a){return e.key=a})),a.push({key:t,id:e.nodeInf.id,name:e.nodeInf.name,health:e.nodeInf.health,model:e.nodeInf.model,strength:e.nodeInf.sim,alarm:e.obj.status.alarm,connection:e.obj.status.connection,statistic:e.obj.status.statistic,dns:e.obj.status.dns,gps:e.obj.status.gps,sim:e.obj.status.sim})})),I(a)}}),[p]),Object(n.useEffect)((function(){if(f){var e=[];f.forEach((function(a){e.push(a.id)})),B(e)}}),[f]);var Le=Object(n.useState)(""),Be=Object(d.a)(Le,2),Re=Be[0],Ue=Be[1],Ve=Object(n.useState)(""),He=Object(d.a)(Ve,2),We=He[0],Je=He[1],Ye=function(e,a,t){a(),Ue(e[0]),Je(t)},Ze=function(e){e(),Ue("")},Xe=Object(n.useRef)("");var $e=[{title:"Device",dataIndex:"name",width:"35%",editable:!0,key:"name",render:function(e,a){return l.a.createElement("div",{className:ge.a.rename},l.a.createElement(se.a,{title:a.id},a.name?l.a.createElement("p",null,a.name):l.a.createElement("p",null,a.id)),l.a.createElement(se.a,{title:"rename"},l.a.createElement(Oe.b,{className:ge.a.renameIcon,onClick:function(e){e.preventDefault()}})))}},{title:"Model",dataIndex:"model",width:"15%",key:"2"},{title:"Information",dataIndex:"information",width:"50%",key:"information",render:function(a,t,n){var r=t.alarm.length;return l.a.createElement(l.a.Fragment,null,l.a.createElement(se.a,{title:"health: ".concat(t.health)},function(e){switch(e){case"up":return l.a.createElement(qe.b,{className:ge.a.up});case"critical":return l.a.createElement(Ke.a,{className:ge.a.critical});case"warning":return l.a.createElement(Ke.a,{className:ge.a.warning});case"offline":return l.a.createElement(qe.a,{className:ge.a.offline});default:return}}(t.health)),l.a.createElement(se.a,{title:"signal: ".concat(t.strength)},function(e){switch(e){case"excellent":return l.a.createElement(de.f,{className:ge.a.up});case"good":return l.a.createElement(de.e,{className:ge.a.critical});case"fair":return l.a.createElement(de.d,{className:ge.a.warning});case"poor":return l.a.createElement(de.g,{className:ge.a.offline});default:return}}(t.strength)),l.a.createElement(se.a,{title:"Alarm Log"},l.a.createElement("a",{disabled:!r,href:"/#",key:n,onClick:function(e){e.preventDefault(),H(!0),N(t)}},l.a.createElement(Oe.a,{className:r?"".concat(ge.a.alarmlog):"".concat(ge.a.alarmlog," ").concat(ge.a.disabled)}))),l.a.createElement(se.a,{title:"Device Status"},l.a.createElement("a",{href:"/#",key:n,onClick:function(e){e.preventDefault(),K(!0),N(t)}},l.a.createElement(Te.e,{className:ge.a.Status}))),l.a.createElement(se.a,{title:"Map"},l.a.createElement("a",{href:"/#",key:n,onClick:function(e){e.preventDefault(),ve(!0),N(t)}},l.a.createElement(Se.d,{className:ge.a.Map}))),l.a.createElement(se.a,{title:"View IoT"},l.a.createElement("a",{disabled:!L.includes(t.id),href:"/#",key:n,onClick:function(e){e.preventDefault(),pe(!0),N(t),console.log(t)}},l.a.createElement(de.b,{className:ge.a.IoT}))),l.a.createElement(se.a,{title:"Setting"},l.a.createElement("a",{href:"/#",key:n,onClick:function(a){a.preventDefault(),Q(!0),N(t);var n='/cmd?get={"device_identity":{"filter":{"id":"'.concat(t.id,'"},"nodeInf":{},"obj":{"identity":{}}}}');h.a.get(n).then((function(e){console.log(e.data.response.device_identity[0].obj.identity);var a=e.data.response.device_identity[0].obj.identity,t={IMEI:a.IMEI,bootloader_version:a.bootloader_version,hardware_mcsv:a.hardware_mcsv,hostname:a.hostname,lan_eth_mac:a.lan_eth_mac,modem_firmware_version:a.modem_firmware_version,serial_number:a.serial_number,wan_eth_mac:a.wan_eth_mac,wifi_ap_mac:a.wifi_ap_mac};console.log(t),P(t)})).catch((function(a){console.log(a),401===a.response.status&&(C(),e.push("/login"))}))}},l.a.createElement(Te.r,{className:ge.a.Setting}))))}}];return $e=$e.map((function(e){return e.editable?Object(v.a)(Object(v.a)({},e),{},{onCell:function(a){return{record:a,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:Fe}}}):e})),l.a.createElement(n.Fragment,null,l.a.createElement(Ce,{dataSource:S.alarm,getColumnSearchProps:function(e){return{filterDropdown:function(a){var t=a.setSelectedKeys,n=a.selectedKeys,r=a.confirm,c=a.clearFilters;return l.a.createElement("div",{style:{padding:8}},l.a.createElement(re.a,{ref:function(e){Xe.current=e},placeholder:"Search ".concat(e),value:n[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:function(){return Ye(n,r,e)},style:{width:188,marginBottom:8,display:"block"}}),l.a.createElement(oe.b,null,l.a.createElement(ie.a,{size:"small",type:"primary",onClick:function(){return Ye(n,r,e)},icon:l.a.createElement(Ee.a,null),style:{width:90}},"Search"),l.a.createElement(ie.a,{onClick:function(){return Ze(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return l.a.createElement(Ee.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(a,t){return t[e]?t[e].toString().toLowerCase().includes(a.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return Xe.current.select()}),100)},render:function(a){return We===e?l.a.createElement(be.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[Re],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},AlarmTablevisible:V,setAlarmTablevisible:H}),l.a.createElement(Ge,{record:S,DeviceStatevisible:q,setDeviceStatevisible:K}),f&&l.a.createElement(Ie,{IoTvisible:ee,setIoTvisible:pe,IoTresponse:f,deviceindex:we,handleDeviceChange:function(e){console.log("selected ".concat(e)),Ne(e)}}),l.a.createElement(me.a,{visible:he,onCancel:function(){ve(!1),Pe(!1)},centered:!0,width:"80%",title:"GPS Tracker",footer:[l.a.createElement(ie.a,{key:"confirm",type:"primary",onClick:function(){ve(!1),Pe(!1)}},"Confirm")]},l.a.createElement(ea,{drawerVisible:Ae,setDrawerVisible:Pe})),l.a.createElement(ze,{DeviceSettingvisible:Z,setDeviceSettingvisible:Q,DeviceStateloading:s,identity:A}),l.a.createElement(b.a,{style:{marginBottom:"10px"}},l.a.createElement(Qe,{setDataSource:I,dataSource:w})),l.a.createElement(b.a,null,l.a.createElement(ue.a,{components:De,rowClassName:function(){return"editable-row"},bordered:!0,loading:s,dataSource:w,columns:$e})))},ta=function(){return l.a.createElement(n.Fragment,null,l.a.createElement(aa,null))},na=t(63),la=t.n(na),ra=t(84),ca=t.n(ra),oa=function(){var e=Object(n.useContext)(k),a=e.state,t=e.dispatch,r=ne.a.useForm(),c=Object(d.a)(r,1)[0],o=Object(i.g)(),s=Object(n.useState)([{nodeInf:{id:"",model:""}}]),m=Object(d.a)(s,2),u=m[0],p=m[1],g=Object(n.useState)([]),E=Object(d.a)(g,2),f=E[0],_=E[1],v=Object(n.useState)([]),y=Object(d.a)(v,2),w=y[0],I=y[1],O=Object(n.useState)(""),T=Object(d.a)(O,2),S=T[0],N=T[1],j=[],x=new Set,M=Object(n.useState)([]),A=Object(d.a)(M,2),P=A[0],G=A[1],D=Object(n.useState)(null),F=Object(d.a)(D,2),L=F[0],B=F[1],R=Object(n.useState)(!1),U=Object(d.a)(R,2),V=U[0],H=U[1];u.forEach((function(e){j.push({key:e.nodeInf.id,id:e.nodeInf.id,model:e.nodeInf.model}),!x.has(e.nodeInf.model)&&x.add(e.nodeInf.model)})),Object(n.useEffect)((function(){H(!0),h.a.get('/cmd?get={"device_status":{}}').then((function(e){p(e.data.response.device_status),H(!1)})).catch((function(e){console.log(e.response.status),401===e.response.status&&(C(),o.push("/login"))}))}),[o]),Object(n.useEffect)((function(){var e=localStorage.getItem("authUser.cid"),a='repository?list_file={"cid":"'.concat(e,'"}');h.a.get(a).then((function(e){e.data.response.repository&&_(e.data.response.repository[0].list)}))}),[]);var W=he.a.Option;function z(){}function q(){}function K(e){console.log("search:",e)}return l.a.createElement(n.Fragment,null,l.a.createElement(b.a,{bordered:!0,title:"Action Request",className:la.a.card,loading:V},l.a.createElement(ne.a,{name:"dynamic_form_nest_item",onFinish:function(e){H(!0),console.log("Received values of form:",e),console.log(a);var n=a.BackupRestore.ActionStatusList.filter((function(e){return"FILE_UPLOAD"!==e.state&&"START_REBOOT"!==e.state}));console.log(n);var l=localStorage.getItem("authUser.cid"),r=[],o=[],i=[];e.Device_ID.forEach((function(a){n.id&&n.id.includes(a)?alert("duplicated action!"):("restore"===e.Action&&r.push({cid:l,id:a,type:"cfg",name:e.Repostiry}),"upgrade"===e.Action&&o.push({cid:l,id:a,type:"fw",name:e.Repostiry}),"backup"===e.Action&&i.push({cid:l,id:a,name:"".concat(a,"_").concat(Date.now()),type:"cfg",inf:{model:e.Model}}))}));var s='/cmd?set={"'.concat(e.Action,'":').concat("restore"===e.Action?JSON.stringify(r):"upgrade"===e.Action?JSON.stringify(o):JSON.stringify(i),"}");console.log(s),h.a.get(s).then((function(e){console.log(e),ca.a.fire({title:"Action submitted! please check action status",icon:"success",showConfirmButton:!0}),H(!1),c.resetFields(),t({type:"IsActionUpdated",payload:{IsActionUpdated:!0}})})).catch((function(e){console.log(e),ca.a.fire({title:"Fail, please try again later",icon:"error",showConfirmButton:!0}),H(!1),c.resetFields()}))},autoComplete:"off",form:c,className:la.a.Form},l.a.createElement("div",{className:la.a.formwrap},l.a.createElement("div",{className:la.a.formDiv},l.a.createElement("p",null,"Model"),l.a.createElement(ne.a.Item,{name:"Model",className:la.a.formitem,rules:[{required:!0,message:"Model is required"}]},l.a.createElement(he.a,{loading:V,showSearch:!0,showArrow:!0,className:la.a.modelinput,placeholder:"Select a model",optionFilterProp:"children",onChange:function(e){c.resetFields([["Device_ID"]]);var a=[];j.forEach((function(t){t.model===e&&a.push(t.id)})),G(a),N(e)},onFocus:function(){I(Array.from(x))},onBlur:z,onSearch:K,filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},w.map((function(e,a){return l.a.createElement(W,{key:a,value:e},e)}))))),l.a.createElement("div",{className:la.a.formDiv},l.a.createElement("p",null,"Device"),l.a.createElement(ne.a.Item,{className:la.a.formitem,name:"Device_ID",rules:[{required:!0,message:"Deivce Id is required!"}]},l.a.createElement(he.a,{mode:"multiple",placeholder:"Select devices",showArrow:!0,tagRender:function(e){var a=e.label,t=(e._,e.closable),n=e.onClose;return l.a.createElement(Y.a,{color:"black",closable:t,onClose:n,style:{marginRight:3}},a)},className:la.a.deviceinput,onFocus:function(){}},P.map((function(e,a){return l.a.createElement(W,{key:a,value:e},e)}))))),l.a.createElement("div",{className:la.a.formDiv},l.a.createElement("p",null,"Action"),l.a.createElement(ne.a.Item,{className:la.a.formitem,name:"Action",rules:[{required:!0,message:"Action is required"}]},l.a.createElement(he.a,{showSearch:!0,showArrow:!0,className:la.a.actioninput,placeholder:"Select an action",optionFilterProp:"children",onChange:function(e){B(e),c.resetFields([["Repostiry"]])},onFocus:q,onBlur:z,onSearch:K,filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},l.a.createElement(W,{value:"backup"},"BackUp"),l.a.createElement(W,{value:"restore"},"Restore"),l.a.createElement(W,{value:"upgrade"},"Upgrade")))),l.a.createElement("div",{className:la.a.formDiv},l.a.createElement("p",null,"File"),l.a.createElement(ne.a.Item,{className:la.a.formitem,name:"Repostiry",rules:[{required:"backup"!==L,message:"File is required!"}]},l.a.createElement(he.a,{disabled:"backup"===L,showSearch:!0,className:la.a.fileinput,placeholder:"Select a file",optionFilterProp:"children",notFoundContent:"Not available",onChange:function(e){},onFocus:function(){},onBlur:z,onSearch:K,filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},null!==L&&("backup"===L?"":"restore"===L?f.map((function(e,a){if("cfg"===e.type&&e.inf.model===S)return l.a.createElement(W,{key:a,value:e.name},e.name)})):f.map((function(e,a){if("fw"===e.type&&e.inf.model===S)return l.a.createElement(W,{key:a,value:e.name},e.name)})))))),l.a.createElement(ne.a.Item,{className:la.a.submitBtn},l.a.createElement(ie.a,{type:"primary",htmlType:"submit",className:la.a.clickBtn},"Submit"))))))},ia=t(687),sa=t(697),ma=t(698),ua=t(699),da=t(700),pa=ia.a.Step,ga=function(){var e=Object(n.useContext)(k),a=e.state,t=e.dispatch,r=Object(n.useState)(!1),c=Object(d.a)(r,2),o=c[0],i=c[1],s=Object(n.useState)([{name:"",action:"",key:"",model:"",state:""}]),m=Object(d.a)(s,2),u=m[0],p=m[1],g=Object(n.useState)(0),E=Object(d.a)(g,2),f=E[0],_=E[1],y=a.BackupRestore.IsActionUpdated;Object(n.useEffect)((function(){var e=localStorage.getItem("authUser.cid"),n="proscend?"===e?'/cmd?set={"bck_rst_upg_list":{"list":{ '.concat(a.Login.Cid,"}}}"):'/cmd?set={"bck_rst_upg_list":{"list":{ "cid":'.concat(e,"}}}");h.a.get(n).then((function(e){var a=[];e.data.response&&e.data.response.bck_rst_upg.forEach((function(e,t){a.push({name:e.name,action:e.action,key:t,model:e.model,state:e.state,id:e.id})})),JSON.stringify(a)!==JSON.stringify(u)?(p(a),t({type:"ActionStatusList",payload:{ActionStatusList:a}}),t({type:"IsActionUpdated",payload:{IsActionUpdated:!1}}),i(!1)):i(!1)}));var l=setInterval((function(){_((function(e){return e+1}))}),1e4);return function(){return clearInterval(l)}}),[f,y]);var w=function(e){return{filterDropdown:function(a){var t=a.setSelectedKeys,n=a.selectedKeys,r=a.confirm,c=a.clearFilters;return l.a.createElement("div",{style:{padding:8}},l.a.createElement(re.a,{ref:function(e){P.current=e},placeholder:"Search ".concat(e),value:n[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:function(){return M(n,r,e)},style:{width:188,marginBottom:8,display:"block"}}),l.a.createElement(oe.b,null,l.a.createElement(ie.a,{size:"small",type:"primary",onClick:function(){return M(n,r,e)},icon:l.a.createElement(Ee.a,null),style:{width:90}},"Search"),l.a.createElement(ie.a,{onClick:function(){return A(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return l.a.createElement(Ee.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(a,t){return t[e]?t[e].toString().toLowerCase().includes(a.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return P.current.select()}),100)},render:function(a){return j===e?l.a.createElement(be.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[T],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},I=Object(n.useState)(""),O=Object(d.a)(I,2),T=O[0],S=O[1],C=Object(n.useState)(""),N=Object(d.a)(C,2),j=N[0],x=N[1],M=function(e,a,t){a(),S(e[0]),x(t)},A=function(e){e(),S("")},P=Object(n.useRef)("");var G=[Object(v.a)({title:"Device",dataIndex:"id",width:"30%"},w("id")),Object(v.a)({title:"Model",dataIndex:"model",width:"15%"},w("model")),Object(v.a)({title:"Action",dataIndex:"action",width:"15%"},w("action")),Object(v.a)({title:"State",dataIndex:"state",width:"20%"},w("state")),{title:"History",dataIndex:"History",width:"20%",render:function(e,a,t){return l.a.createElement(n.Fragment,null,l.a.createElement(ce.a,{title:"Sure to delete?",onConfirm:function(){return function(e){i(!0);var a='/cmd?set={"bck_rst_upg_list":{"delete":{"id":"'.concat(e,'"}}}');h.a.get(a).then((function(e){console.log(e),_((function(e){return e+1})),i(!1),le.b.success("clear successfully.")})).then((function(){i(!0)})).catch((function(e){console.log(e),i(!1),le.b.error("operation failed.")}))}(a.id)}},l.a.createElement(ie.a,{key:t},"clear")))}}];return l.a.createElement(n.Fragment,null,l.a.createElement(b.a,{title:"Action Status",bordered:!0},l.a.createElement(ue.a,{columns:G,dataSource:u,pagination:!1,className:la.a.table,loading:o,expandable:{expandedRowRender:function(e){return l.a.createElement("div",{className:la.a.step},l.a.createElement(ia.a,null,l.a.createElement(pa,{status:"RECEIVE_COMMAND"===e.state?"process":"finish",title:"RECEIVE_COMMAND",icon:"RECEIVE_COMMAND"===e.state?l.a.createElement(sa.a,null):l.a.createElement(ma.a,null)}),l.a.createElement(pa,{status:"FILE_UPLOADING"===e.state?"process":"wait",title:"Processing",icon:"FILE_UPLOADING"===e.state?l.a.createElement(sa.a,null):l.a.createElement(ua.a,null)}),l.a.createElement(pa,{status:"wait",title:"Complete",icon:l.a.createElement(da.a,null)})))},rowExpandable:function(e){return"START_REBOOT"!==e.state&&"FILE_UPLOAD"!==e.state}}})))},Ea=t(95),fa=t.n(Ea),ba=t(364),_a=t(112),ha=t.n(_a),va={labelCol:{span:8},wrapperCol:{span:16}},ya=function(e){var a=e.onFinish,t=e.validateMessages,n=e.form,r=e.id,c=e.name;return console.log(r),l.a.createElement(ne.a,Object.assign({},va,{onFinish:a,validateMessages:t,form:n,id:r,className:ha.a.form,name:c}),l.a.createElement("div",null,l.a.createElement(ne.a.Item,{name:"ModelName",label:"ModelName",rules:[{required:!0}]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"Version",label:"Version",rules:[{required:!0}]},l.a.createElement(re.a,{id:"".concat(c,"_").concat(r)})),l.a.createElement(ne.a.Item,{id:"".concat(c,"_").concat(r),name:"MD5",label:"MD5",rules:[{required:!0}]},l.a.createElement(re.a,{disabled:!0})),l.a.createElement(ne.a.Item,{name:"SoftwareMCSV",label:"SW_MCSV",rules:[{required:!0}]},l.a.createElement(re.a,{id:"".concat(c,"_").concat(r)})),l.a.createElement(ne.a.Item,{name:"name",label:"name",rules:[{required:!0}]},l.a.createElement(re.a,{id:"".concat(c,"_").concat(r)}))))},ka=function(){var e=Object(n.useState)([{key:"",ModelName:"",Version:"",force:"",MD5:"",name:"",SoftwareMCSV:"",Transport:[{Protocol:"",Host:"",Port:"",Path:"",LoginName:"",PassWord:""}]}]),a=Object(d.a)(e,2),t=a[0],r=a[1],c=ne.a.useForm(),o=Object(d.a)(c,1)[0],i=Object(n.useState)(!1),s=Object(d.a)(i,2),m=s[0],u=s[1];Object(n.useEffect)((function(){u(!0),h.a.get("/api/fota2.xml").then((function(e){var a,t=e.data;a=(new DOMParser).parseFromString(t,"text/xml");var n=[];a.querySelectorAll("information").forEach((function(e){var a={};a.key=e.getElementsByTagName("ModelName")[0].textContent,a.ModelName=e.getElementsByTagName("ModelName")[0].textContent,a.Version=e.getElementsByTagName("Version")[0].textContent,a.force=e.getElementsByTagName("force")[0].textContent,a.MD5=e.getElementsByTagName("MD5")[0].textContent,a.name=e.getElementsByTagName("name")[0].textContent,a.SoftwareMCSV=e.getElementsByTagName("SoftwareMCSV")[0].textContent;var t=e.querySelectorAll("Transport"),l=[];t.forEach((function(e,a){var t={};t.key="".concat(a),t.Protocol=e.getElementsByTagName("Protocol")[0].textContent,t.Host=e.getElementsByTagName("Host")[0].textContent,t.Port=e.getElementsByTagName("Port")[0].textContent,t.Path=e.getElementsByTagName("Path")[0].textContent,t.LoginName=e.getElementsByTagName("LoginName")[0].textContent,t.PassWord=e.getElementsByTagName("PassWord")[0].textContent,l.push(t)})),a.Transport=l,n.push(a)})),r(n),u(!1)}))}),[]);var p=Object(n.useState)(!1),g=Object(d.a)(p,2),E=g[0],f=g[1],_=Object(n.useState)(!1),y=Object(d.a)(_,2),k=y[0],w=y[1],I=Object(n.useState)(""),O=Object(d.a)(I,2),T=O[0],S=O[1],C=function(e){f(!1),w(!1)},N=function(e){f(!1),w(!1)},j=function(e){e.Transport=[{Protocol:e.Protocol0,Host:e.Host0,Port:e.Port0,Path:e.Path0},{Protocol:e.Protocol1,Host:e.Host1,Port:e.Port1,Path:e.Path1},{Protocol:e.Protocol2,Host:e.Host2,Port:e.Port2,Path:e.Path2}],console.log(e);var a=Object(F.a)(t);a[T]=e,r(a),x(a)},x=function(e){var a="";return e.forEach((function(e){a+='\n            <?xml version="1.0" encoding="utf-8"?>\n            <firmware>  \n            <information>\n            <ModelName>'.concat(e.ModelName,"</ModelName>\n            <Version>").concat(e.Version,"</Version>\n            <force>").concat(e.force,"</force>\n            <MD5>").concat(e.MD5,"</MD5>\n            <name>").concat(e.name,"</name>\n            <SoftwareMCSV>").concat(e.SoftwareMCSV,"</SoftwareMCSV>\n            <Transport>\n                <Protocol>").concat(e.Transport[0].Protocol,"</Protocol>\n                <Host>").concat(e.Transport[0].Host,"</Host>\n                <Port>").concat(e.Transport[0].Port,"</Port>\n                <Path>").concat(e.Transport[0].Path,"</Path>\n                <LoginName>").concat(e.Transport[0].LoginName,"</LoginName>\n                <PassWord>").concat(e.Transport[0].LoginName,"</PassWord>\n            </Transport>\n            <Transport>\n                <Protocol>").concat(e.Transport[1].Protocol,"</Protocol>\n                <Host>").concat(e.Transport[1].Host,"</Host>\n                <Port>").concat(e.Transport[1].Port,"</Port>\n                <Path>").concat(e.Transport[1].Path,"</Path>\n                <LoginName>").concat(e.Transport[1].LoginName,"</LoginName>\n                <PassWord>").concat(e.Transport[1].PassWord,"</PassWord>\n            </Transport>\n            <Transport>\n                <Protocol>").concat(e.Transport[2].Protocol,"</Protocol>\n                <Host>").concat(e.Transport[2].Host,"</Host>\n                <Port>").concat(e.Transport[2].Port,"</Port>\n                <Path>").concat(e.Transport[2].Path,"</Path>\n                <LoginName>").concat(e.Transport[2].LoginName,"</LoginName>\n                <PassWord>").concat(e.Transport[2].PassWord,"</PassWord>\n            </Transport>\n          </information>\n          </firmware>  \n          ")})),a},M=function(e){return{filterDropdown:function(a){var t=a.setSelectedKeys,n=a.selectedKeys,r=a.confirm,c=a.clearFilters;return l.a.createElement("div",{style:{padding:8}},l.a.createElement(re.a,{ref:function(e){W.current=e},placeholder:"Search ".concat(e),value:n[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:function(){return V(n,r,e)},style:{width:188,marginBottom:8,display:"block"}}),l.a.createElement(oe.b,null,l.a.createElement(ie.a,{size:"small",type:"primary",onClick:function(){return V(n,r,e)},icon:l.a.createElement(Ee.a,null),style:{width:90}},"Search"),l.a.createElement(ie.a,{onClick:function(){return H(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return l.a.createElement(Ee.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(a,t){return t[e]?t[e].toString().toLowerCase().includes(a.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return W.current.select()}),100)},render:function(a){return R===e?l.a.createElement(be.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[G],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},A=Object(n.useState)(""),P=Object(d.a)(A,2),G=P[0],D=P[1],L=Object(n.useState)(""),B=Object(d.a)(L,2),R=B[0],U=B[1],V=function(e,a,t){a(),D(e[0]),U(t)},H=function(e){e(),D("")},W=Object(n.useRef)(""),z=[Object(v.a)({title:"ModelName",dataIndex:"ModelName",width:"20%"},M("ModelName")),Object(v.a)({title:"name",dataIndex:"name",width:"25%"},M("name")),Object(v.a)({title:"MD5",dataIndex:"MD5",width:"25%",responsive:["md"]},M("MD5")),{title:"Action",dataIndex:"action",width:"20%",render:function(e,a,c){return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:ha.a.EdtiDeleBtn,key:c},l.a.createElement(ie.a,{className:ha.a.EdtiBtn,size:"large",onClick:function(){S(c),f(!0),o.setFieldsValue({ModelName:a.ModelName,Version:a.Version,force:a.force,name:a.name,SoftwareMCSV:a.SoftwareMCSV,MD5:a.MD5,Protocol0:a.Transport[0].Protocol,Host0:a.Transport[0].Host,Port0:a.Transport[0].Port,Path0:a.Transport[0].Path,LoginName0:a.Transport[0].LoginName,PassWord0:a.Transport[0].PassWord,Protocol1:a.Transport[1].Protocol,Host1:a.Transport[1].Host,Port1:a.Transport[1].Port,Path1:a.Transport[1].Path,LoginName1:a.Transport[1].LoginName,PassWord1:a.Transport[1].PassWord,Protocol2:a.Transport[2].Protocol,Host2:a.Transport[2].Host,Port2:a.Transport[2].Port,Path2:a.Transport[2].Path,LoginName2:a.Transport[2].LoginName,PassWord2:a.Transport[2].PassWord})}},"Edit"),l.a.createElement(me.a,{title:"FOTA Modify",visible:E,onOk:C,onCancel:N,destroyOnClose:!0,okButtonProps:{form:"category-editor-form",key:"submit",htmlType:"submit"},calssName:ha.a.modal,centered:!0,scroll:!0,maskStyle:{background:"transparent"},bodyStyle:{display:"flex",margin:"30px",justifyContent:"center"}},l.a.createElement(ya,{form:o,id:"category-editor-form",onFinish:j,name:"nest-messagesE"})),l.a.createElement(ie.a,{size:"large",danger:!0,onClick:function(){!function(e){console.log(e),S(e);var a=Object(F.a)(t);a.splice(e,1),r(a),x(a)}(c)}},"Delete")))}}];return l.a.createElement(n.Fragment,null,l.a.createElement(b.a,{className:ha.a.card},l.a.createElement(ie.a,{size:"large",type:"primary",className:ha.a.actionbtn,onClick:function(){w(!0),o.setFieldsValue({ModelName:"",Version:"",force:"",name:"",SoftwareMCSV:"",MD5:"",Protocol0:"",Host0:"",Port0:"",Path0:"",LoginName0:"",PassWord0:"",Protocol1:"",Host1:"",Port1:"",Path1:"",LoginName1:"",PassWord1:"",Protocol2:"",Host2:"",Port2:"",Path2:"",LoginName2:"",PassWord2:""})}},"New Create"),l.a.createElement(me.a,{forceRender:!0,title:"Create New FOTA",visible:k,onOk:C,onCancel:N,destroyOnClose:!0,okButtonProps:{form:"category-add-form",key:"submit",htmlType:"submit"},calssName:ha.a.modal,maskStyle:{background:"transparent"},bodyStyle:{display:"flex",margin:"30px",justifyContent:"center"}},l.a.createElement(ya,{form:o,id:"category-add-form",onFinish:function(e){console.log("123"),e.Transport=[{Protocol:e.Protocol0,Host:e.Host0,Port:e.Port0,Path:e.Path0},{Protocol:e.Protocol1,Host:e.Host1,Port:e.Port1,Path:e.Path1},{Protocol:e.Protocol2,Host:e.Host2,Port:e.Port2,Path:e.Path2}];var a=Object(F.a)(t);a.push(e),r(a),x(a)},name:"nest-messagesA"})),l.a.createElement(ue.a,{columns:z,dataSource:t,pagination:!1,scroll:{y:800},className:ha.a.table,loading:m})))},wa=t(183),Ia=t.n(wa),Oa=t(680),Ta=t(701),Sa=t(253),Ca=t.n(Sa),Na=function(){var e=ne.a.useForm(),a=Object(d.a)(e,1)[0],t=Object(i.g)(),r=Object(n.useState)([{key:"",name:"",type:"",date:"",model:"",size:""}]),c=Object(d.a)(r,2),o=c[0],s=c[1],p=Object(n.useContext)(k).state,g=Object(n.useState)(!1),E=Object(d.a)(g,2),f=E[0],_=E[1],y=Object(n.useState)([]),w=Object(d.a)(y,2),I=w[0],O=w[1],T=Object(n.useState)(!1),S=Object(d.a)(T,2),N=S[0],j=S[1],x=Object(n.useState)(!1),M=Object(d.a)(x,2),A=M[0],P=M[1],G=Object(n.useState)(""),D=Object(d.a)(G,2),L=D[0],B=D[1],R=p.BackupRestore.IsActionUpdated,U=l.a.createContext(),V={body:{row:function(e){e.index;var a=Object(te.a)(e,["index"]),t=ne.a.useForm(),n=Object(d.a)(t,1)[0];return l.a.createElement(ne.a,{form:n,component:!1},l.a.createElement(U.Provider,{value:n},l.a.createElement("tr",a)))},cell:function(e){var a=e.title,t=e.editable,r=e.children,c=e.dataIndex,o=e.record,i=Object(te.a)(e,["title","editable","children","dataIndex","record"]),s=Object(n.useState)(!1),g=Object(d.a)(s,2),E=g[0],f=g[1],b=Object(n.useRef)(),_=Object(n.useContext)(U);Object(n.useEffect)((function(){E&&b.current.focus()}),[E]);var v=function(){f(!E),_.setFieldsValue(Object(ae.a)({},c,o[c]))},y=function(){var e=Object(u.a)(m.a.mark((function e(a){var t,n,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.validateFields();case 3:if(t=e.sent,v(),o.name!==t.name){e.next=7;break}return e.abrupt("return");case 7:n=localStorage.getItem("authUser.cid"),l="proscend"===localStorage.getItem("authUser.cid")?"/repository?rename_file={".concat(p.Login.Cid,',"old_name":"').concat(o.name,'","new_name":"').concat(t.name,'","type":"').concat(o.type,'"}'):'/repository?rename_file={"cid":"'.concat(n,'","old_name":"').concat(o.name,'","new_name":"').concat(t.name,'","type":"').concat(o.type,'"}'),console.log(l),j(!0),h.a.get(l).then((function(e){j(!1),console.log(e),le.b.success("rename successfully.")})).catch((function(e){console.log(e),le.b.error("rename failed."),j(!1)})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(a){return e.apply(this,arguments)}}(),k=r;return t&&(k=E?l.a.createElement(ne.a.Item,{style:{margin:0},name:c,rules:[{required:!0,message:"".concat(a," is required.")}]},l.a.createElement(re.a,{ref:b,onPressEnter:y,onBlur:y})):l.a.createElement(ce.a,{title:"Edit fileName?",onConfirm:function(){return v()}},l.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24}},r))),l.a.createElement("td",i,k)}}},H=Object(n.useState)([]),W=Object(d.a)(H,2),z=W[0],q=W[1];Object(n.useEffect)((function(){var e=localStorage.getItem("authUser.cid"),a="proscend"===e?"repository?list_file={ ".concat(p.Login.Cid,"}"):'repository?list_file={ "cid":"'.concat(e,'"}');_(!0),h.a.get(a).then((function(e){console.log(e.data);var a=e.data.response.repository[0].list,t=[],n=[];a.forEach((function(e,a){n.push(e.name),t.push({key:a,name:e.name,type:e.type,date:e.date,size:e.size,model:e.inf.model})})),s(t),q(n),_(!1),console.log("\u5237\u65b0")})).catch((function(e){401===e.response.status&&(C(),t.push("/login"))}))}),[N,R]);var K=Object(n.useState)(""),J=Object(d.a)(K,2),Y=J[0],Z=J[1],Q=Object(n.useState)(""),X=Object(d.a)(Q,2),$=X[0],ee=X[1],se=function(e,a,t){a(),Z(e[0]),ee(t)},de=Object(n.useRef)(""),pe=function(e){return{filterDropdown:function(a){var t=a.setSelectedKeys,n=a.selectedKeys,r=a.confirm,c=a.clearFilters;return l.a.createElement("div",{style:{padding:8}},l.a.createElement(re.a,{ref:function(e){de.current=e},placeholder:"Search ".concat(e),value:n[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:function(){return se(n,r,e)},style:{width:188,marginBottom:8,display:"block"}}),l.a.createElement(oe.b,null,l.a.createElement(ie.a,{type:"primary",onClick:function(){return se(n,r,e)},icon:l.a.createElement(Ee.a,null),size:"small",style:{width:90}},"Search"),l.a.createElement(ie.a,{onClick:function(){return function(e){e(),Z("")}(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return l.a.createElement(Ee.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(a,t){return t[e]?t[e].toString().toLowerCase().includes(a.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return de.current.select()}),100)},render:function(a){return $===e?l.a.createElement(be.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[Y],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},ge={onRemove:function(e){var a=I.indexOf(e),t=I.slice();t.splice(a,1),O(t)},onChange:function(e){var t=Object(F.a)(e.fileList);t=(t=t.slice(-1)).map((function(e){return e.response&&(e.url=e.response.url),e})),O(t),a.resetFields(["type","MD5"]),we(""),console.log(t);var n=new FileReader;n.readAsBinaryString(t[0].originFileObj),n.onload=function(e){console.log(t,Ca()(e.target.result)),B(Ca()(e.target.result))}},beforeUpload:function(e){return O([].concat(Object(F.a)(I),[e])),!1},fileList:I},fe=he.a.Option,_e=he.a.OptGroup,ve=Object(n.useState)(null),ye=Object(d.a)(ve,2),ke=ye[0],we=ye[1];var Ie=[Object(v.a)({title:"FileName",dataIndex:"name",width:"30%",editable:!0},pe("name")),Object(v.a)({title:"Model",dataIndex:"model",width:"15%"},pe("model")),Object(v.a)({title:"FileType",dataIndex:"type",width:"15%"},pe("type")),Object(v.a)({title:"CreatedDate",dataIndex:"date",width:"25%",responsive:["md"]},pe("date")),{title:"Size(KB)",dataIndex:"size",width:"15%",responsive:["md"]},{title:"Action",dataIndex:"action",width:"20%",className:"".concat(Ia.a.actionCol),render:function(e,a,t){return l.a.createElement(n.Fragment,{key:t},l.a.createElement(ie.a,{onClick:function(){return function(e){j(!0);var a=localStorage.getItem("authUser.cid");console.log(e);var t="proscend"===a?"/repository?download_file={".concat(p.Login.Cid,',"name":"').concat(e.name,'","type":"').concat(e.type,'"}'):'/repository?download_file={"cid":"'.concat(a,'","name":"').concat(e.name,'","type":"').concat(e.type,'"}');console.log(t);h.a.get(t,{responseType:"blob"}).then((function(a){j(!1);var t=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=t,n.setAttribute("download","".concat(e.name)),document.body.appendChild(n),n.click()})).catch((function(e){console.log(e),j(!1)}))}(a)},icon:l.a.createElement(Te.f,null)}),l.a.createElement(ce.a,{title:"Sure to delete?",onConfirm:function(){return function(e){j(!0);var a=localStorage.getItem("authUser.cid"),t="proscend"===a?"/repository?delete_file={".concat(p.Login.Cid,',"name":"').concat(e.name,'","type":"').concat(e.type,'"}'):'/repository?delete_file={"cid":"'.concat(a,'","name":"').concat(e.name,'","type":"').concat(e.type,'"}');console.log(t),h.a.get(t).then((function(a){console.log(a),ca.a.fire({title:"Delete ".concat(e.name," complete!"),icon:"success",showConfirmButton:!0})})).then((function(){j(!1)})).catch((function(a){console.log(a),j(!1),ca.a.fire({title:"Delete ".concat(e.name," fail!"),icon:"error",showConfirmButton:!0})}))}(a)}},l.a.createElement(ie.a,{icon:l.a.createElement(Te.c,null)})))}}];return Ie=Ie.map((function(e){return e.editable?Object(v.a)(Object(v.a)({},e),{},{onCell:function(a){return{record:a,editable:e.editable,dataIndex:e.dataIndex,title:e.title}}}):e})),l.a.createElement(b.a,{title:"Data on Clould Libary",className:Ia.a.card,headStyle:{display:"none"}},l.a.createElement(ie.a,{type:"primary",loading:f,onClick:function(){return P(!0)},className:Ia.a.clickBtn,size:"large",icon:l.a.createElement(Ta.a,null)},"Upload"),l.a.createElement(me.a,{title:"Upload",visible:A,onOk:function(){return P(!1)},onCancel:function(){return P(!1)},okButtonProps:{form:"FileUpload",key:"submit",htmlType:"submit",disabled:0===I.length,loading:N},okText:N?"Uploading":"Start Upload",cancelText:"Cancel"},l.a.createElement(ne.a,{id:"FileUpload",name:"dynamic_form_nest_item",onFinish:function(e){j(!0),console.log("Received values of form:",e);var t=new FormData;t.append("file",e.upload.fileList[0].originFileObj);var n=localStorage.getItem("authUser.cid"),l="proscend"===n?"/repository?upload_file={".concat(p.Login.Cid,',"name":"').concat(e.filename||e.upload.file.name,'","type":"').concat(e.type,'","inf": {"MD5":"').concat(void 0===e.MD5?"123":e.MD5,'","model": "').concat(e.model,'"}}'):'/repository?upload_file={"cid":"'.concat(n,'","name":"').concat(e.filename||e.upload.file.name,'","type":"').concat(e.type,'","inf": {"MD5":"').concat(void 0===e.MD5?"123":e.MD5,'","model": "').concat(e.model,'"}}');if(console.log(l),console.log(z,e.filename,e.upload.file.name),e.filename?z.includes(e.filename):z.includes(e.upload.file.name))return ca.a.fire({title:"FileName Duplicated! Please try again",icon:"error",showConfirmButton:!0}),void j(!1);h.a.post(l,t).then((function(e){console.log(e),O([]),ca.a.fire({title:"Upload complete!",icon:"success",showConfirmButton:!0})})).then((function(){j(!1),a.resetFields(),we("")})).catch((function(e){console.log(e),j(!1),ca.a.fire({title:"Fail, plaese try again!",icon:"error",showConfirmButton:!0}),a.resetFields(),we("")}))},autoComplete:"off",form:a},l.a.createElement(ne.a.Item,{label:"File",name:"upload",rules:[{required:!0,message:"Please select a file"}]},l.a.createElement(Oa.a,ge,l.a.createElement(ie.a,{icon:l.a.createElement(Ta.a,null)},"Select File"))),l.a.createElement(ne.a.Item,{label:"Model",name:"model",rules:[{required:!0,message:"Please select a model"}]},l.a.createElement(he.a,{style:{width:200},onChange:function(e){console.log(e)}},["M300","M301","M302","M330","M350","M351","M352","M360"].map((function(e,a){return l.a.createElement(fe,{key:a,value:e},e)})))),l.a.createElement(ne.a.Item,{label:"File Name",name:"filename",rules:[{required:!1,message:"Input a file name"}]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{label:"File Type",name:"type",rules:[{required:!0,message:"Please select a type"}]},l.a.createElement(he.a,{style:{width:200},onChange:function(e){!function(e){console.log("selected ".concat(e))}(e),we(e),a.setFieldsValue({MD5:L})}},l.a.createElement(_e,{label:"Restore"},l.a.createElement(fe,{value:"cfg"},"cfg")),l.a.createElement(_e,{label:"Upgrade"},l.a.createElement(fe,{value:"fw"},"fw")))),"fw"===ke&&l.a.createElement(ne.a.Item,{label:"MD5",name:"MD5",rules:[{required:!0,message:"Please input the MD5 number!"}]},l.a.createElement(re.a,{placeholder:"Please input a specific series of MD5",disabled:!0})))),l.a.createElement("div",null,l.a.createElement(ue.a,{components:V,rowClassName:function(){return"editable-row"},columns:Ie,dataSource:o,pagination:!1,className:Ia.a.table,loading:N})))},ja=_e.a.TabPane,xa=function(){return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:fa.a.container},l.a.createElement(_e.a,{defaultActiveKey:"1",className:fa.a.tabs},l.a.createElement(ja,{tab:l.a.createElement("span",{className:fa.a.TabPane},l.a.createElement(de.a,{className:fa.a.icon}),"Request"),key:"1"},l.a.createElement("div",{className:fa.a.wrap},l.a.createElement(oa,null),l.a.createElement(ga,null))),l.a.createElement(ja,{tab:l.a.createElement("span",{className:fa.a.TabPane},l.a.createElement(de.c,{className:fa.a.icon}),"Repository"),key:"2"},l.a.createElement("div",{className:fa.a.wrap},l.a.createElement(Na,null))),l.a.createElement(ja,{tab:l.a.createElement("span",{className:fa.a.TabPane},l.a.createElement(ba.a,{className:fa.a.icon}),"FOTA"),key:"3"},l.a.createElement("div",{className:fa.a.wrap},l.a.createElement(ka,null))))))},Ma=t(704),Aa=t(705),Pa=t(706),Ga=t(366),Da=t(691),Fa=t(33),La=t.n(Fa),Ba=t(681),Ra={labelCol:{span:5},wrapperCol:{span:16}},Ua={wrapperCol:{offset:8,span:16}},Va=he.a.Option,Ha=Ba.a.Panel,Wa=function(){var e=Object(n.useContext)(k).state,a=ne.a.useForm(),t=Object(d.a)(a,1)[0],r=localStorage.getItem("authUser.cid"),c="proscend"===r?'/cmd?get={"notification":{"filter":{'.concat(e.Login.Cid,"}}}"):'/cmd?get={"notification":{"filter":{"cid":"'.concat(r,'"}}}');console.log(c);var o=j(c),i=Object(d.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)([]),p=Object(d.a)(u,2),g=p[0],E=p[1];Object(n.useEffect)((function(){if(m){var e=[];m.response.notification.forEach((function(a,t){e.push({key:t,cid:a.cid,level:a.conditions.level,line_active:a.line.active,line_token:a.line.token,mail_active:a.mail.active,mail_from:a.mail.mail_from,mail_to:a.mail.mail_to,mail_token:a.mail.token,timezone:a.timezone})})),E(e),console.log(e),t.setFieldsValue({Notification:e})}}),[m]);var f=function(a){var t=a.Notification[a.Notification.length-1];console.log(t);var n="proscend"===r&&""!==e.Login.Cid?'/cmd?set={"notification":[{'.concat(e.Login.Cid,', "timezone":"').concat(t.timezone,'", "conditions":{"level":"').concat(t.level,'"}, "mail":{"active":"').concat(t.mail_active,'", "mail_from":"').concat(t.mail_from,'","mail_to":').concat(JSON.stringify(t.mail_to),', "token":"').concat(t.mail_token,'"},"line":{"active":"').concat(t.line_active,'","token":"').concat(t.line_token,'"}}]}'):'/cmd?set={"notification":[{"cid":"'.concat(r,'", "timezone":"').concat(t.timezone,'", "conditions":{"level":"').concat(t.level,'"}, "mail":{"active":"').concat(t.mail_active,'", "mail_from":"').concat(t.mail_from,'","mail_to":').concat(JSON.stringify(t.mail_to),', "token":"').concat(t.mail_token,'"},"line":{"active":"').concat(t.line_active,'","token":"').concat(t.line_token,'"}}]}');console.log(n),h.a.get(n).then((function(e){console.log(e)}))},_=function(e){console.log("Failed:",e)};return l.a.createElement(b.a,{loading:s},l.a.createElement(Ba.a,{defaultActiveKey:["0"],accordion:!0},g.map((function(e,a){return l.a.createElement(Ha,{key:a,header:e.cid},l.a.createElement("div",{className:La.a.NotifiForm},l.a.createElement(ne.a,Object.assign({},Ra,{name:["Notification",a],autoComplete:"off",onFinish:f,onFinishFailed:_,form:t,key:a}),l.a.createElement(ne.a.Item,{label:"Time Zone",name:["Notification",a,"timezone"]},l.a.createElement(he.a,{name:"timezone"},l.a.createElement(Va,{value:"Etc/GMT+12"},"(GMT-12:00) International Date Line West"),l.a.createElement(Va,{value:"Pacific/Midway"},"(GMT-11:00) Midway Island, Samoa"),l.a.createElement(Va,{value:"Pacific/Honolulu"},"(GMT-10:00) Hawaii"),l.a.createElement(Va,{value:"US/Alaska"},"(GMT-09:00) Alaska"),l.a.createElement(Va,{value:"America/Los_Angeles"},"(GMT-08:00) Pacific Time (US & Canada)"),l.a.createElement(Va,{value:"America/Tijuana"},"(GMT-08:00) Tijuana, Baja California"),l.a.createElement(Va,{value:"US/Arizona"},"(GMT-07:00) Arizona"),l.a.createElement(Va,{value:"America/Chihuahua"},"(GMT-07:00) Chihuahua, La Paz, Mazatlan"),l.a.createElement(Va,{value:"US/Mountain"},"(GMT-07:00) Mountain Time (US & Canada)"),l.a.createElement(Va,{value:"America/Managua"},"(GMT-06:00) Central America"),l.a.createElement(Va,{value:"US/Central"},"(GMT-06:00) Central Time (US & Canada)"),l.a.createElement(Va,{value:"America/Mexico_City"},"(GMT-06:00) Guadalajara, Mexico City, Monterrey"),l.a.createElement(Va,{value:"Canada/Saskatchewan"},"(GMT-06:00) Saskatchewan"),l.a.createElement(Va,{value:"America/Bogota"},"(GMT-05:00) Bogota, Lima, Quito, Rio Branco"),l.a.createElement(Va,{value:"US/Eastern"},"(GMT-05:00) Eastern Time (US & Canada)"),l.a.createElement(Va,{value:"US/East-Indiana"},"(GMT-05:00) Indiana (East)"),l.a.createElement(Va,{value:"Canada/Atlantic"},"(GMT-04:00) Atlantic Time (Canada)"),l.a.createElement(Va,{value:"America/Caracas"},"(GMT-04:00) Caracas, La Paz"),l.a.createElement(Va,{value:"America/Manaus"},"(GMT-04:00) Manaus"),l.a.createElement(Va,{value:"America/Santiago"},"(GMT-04:00) Santiago"),l.a.createElement(Va,{value:"Canada/Newfoundland"},"(GMT-03:30) Newfoundland"),l.a.createElement(Va,{value:"America/Sao_Paulo"},"(GMT-03:00) Brasilia"),l.a.createElement(Va,{value:"America/Argentina/Buenos_Aires"},"(GMT-03:00) Buenos Aires, Georgetown"),l.a.createElement(Va,{value:"America/Godthab"},"(GMT-03:00) Greenland"),l.a.createElement(Va,{value:"America/Montevideo"},"(GMT-03:00) Montevideo"),l.a.createElement(Va,{value:"America/Noronha"},"(GMT-02:00) Mid-Atlantic"),l.a.createElement(Va,{value:"Atlantic/Cape_Verde"},"(GMT-01:00) Cape Verde Is."),l.a.createElement(Va,{value:"Atlantic/Azores"},"(GMT-01:00) Azores"),l.a.createElement(Va,{value:"Africa/Casablanca"},"(GMT+00:00) Casablanca, Monrovia, Reykjavik"),l.a.createElement(Va,{value:"Etc/Greenwich"},"(GMT+00:00) Greenwich Mean Time : Dublin, Edinburgh, Lisbon, London"),l.a.createElement(Va,{value:"Europe/Amsterdam"},"(GMT+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna"),l.a.createElement(Va,{value:"Europe/Belgrade"},"(GMT+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague"),l.a.createElement(Va,{value:"Europe/Brussels"},"(GMT+01:00) Brussels, Copenhagen, Madrid, Paris"),l.a.createElement(Va,{value:"Europe/Sarajevo"},"(GMT+01:00) Sarajevo, Skopje, Warsaw, Zagreb"),l.a.createElement(Va,{value:"Africa/Lagos"},"(GMT+01:00) West Central Africa"),l.a.createElement(Va,{value:"Asia/Amman"},"(GMT+02:00) Amman"),l.a.createElement(Va,{value:"Europe/Athens"},"(GMT+02:00) Athens, Bucharest, Istanbul"),l.a.createElement(Va,{value:"Asia/Beirut"},"(GMT+02:00) Beirut"),l.a.createElement(Va,{value:"Africa/Cairo"},"(GMT+02:00) Cairo"),l.a.createElement(Va,{value:"Africa/Harare"},"(GMT+02:00) Harare, Pretoria"),l.a.createElement(Va,{value:"Europe/Helsinki"},"(GMT+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius"),l.a.createElement(Va,{value:"Asia/Jerusalem"},"(GMT+02:00) Jerusalem"),l.a.createElement(Va,{value:"Europe/Minsk"},"(GMT+02:00) Minsk"),l.a.createElement(Va,{value:"Africa/Windhoek"},"(GMT+02:00) Windhoek"),l.a.createElement(Va,{value:"Asia/Kuwait"},"(GMT+03:00) Kuwait, Riyadh, Baghdad"),l.a.createElement(Va,{value:"Europe/Moscow"},"(GMT+03:00) Moscow, St. Petersburg, Volgograd"),l.a.createElement(Va,{value:"Africa/Nairobi"},"(GMT+03:00) Nairobi"),l.a.createElement(Va,{value:"Asia/Tbilisi"},"(GMT+03:00) Tbilisi"),l.a.createElement(Va,{value:"Asia/Tehran"},"(GMT+03:30) Tehran"),l.a.createElement(Va,{value:"Asia/Muscat"},"(GMT+04:00) Abu Dhabi, Muscat"),l.a.createElement(Va,{value:"Asia/Baku"},"(GMT+04:00) Baku"),l.a.createElement(Va,{value:"Asia/Yerevan"},"(GMT+04:00) Yerevan"),l.a.createElement(Va,{value:"Asia/Kabul"},"(GMT+04:30) Kabul"),l.a.createElement(Va,{value:"Asia/Yekaterinburg"},"(GMT+05:00) Yekaterinburg"),l.a.createElement(Va,{value:"Asia/Karachi"},"(GMT+05:00) Islamabad, Karachi, Tashkent"),l.a.createElement(Va,{value:"Asia/Calcutta"},"(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi"),l.a.createElement(Va,{value:"Asia/Calcutta"},"(GMT+05:30) Sri Jayawardenapura"),l.a.createElement(Va,{value:"Asia/Katmandu"},"(GMT+05:45) Kathmandu"),l.a.createElement(Va,{value:"Asia/Almaty"},"(GMT+06:00) Almaty, Novosibirsk"),l.a.createElement(Va,{value:"Asia/Dhaka"},"(GMT+06:00) Astana, Dhaka"),l.a.createElement(Va,{value:"Asia/Rangoon"},"(GMT+06:30) Yangon (Rangoon)"),l.a.createElement(Va,{value:"Asia/Bangkok"},"(GMT+07:00) Bangkok, Hanoi, Jakarta"),l.a.createElement(Va,{value:"Asia/Krasnoyarsk"},"(GMT+07:00) Krasnoyarsk"),l.a.createElement(Va,{value:"Asia/Hong_Kong"},"(GMT+08:00) Beijing, Chongqing, Hong Kong, Urumqi"),l.a.createElement(Va,{value:"Asia/Kuala_Lumpur"},"(GMT+08:00) Kuala Lumpur, Singapore"),l.a.createElement(Va,{value:"Asia/Irkutsk"},"(GMT+08:00) Irkutsk, Ulaan Bataar"),l.a.createElement(Va,{value:"Australia/Perth"},"(GMT+08:00) Perth"),l.a.createElement(Va,{value:"Asia/Taipei"},"(GMT+08:00) Taipei"),l.a.createElement(Va,{value:"Asia/Tokyo"},"(GMT+09:00) Osaka, Sapporo, Tokyo"),l.a.createElement(Va,{value:"Asia/Seoul"},"(GMT+09:00) Seoul"),l.a.createElement(Va,{value:"Asia/Yakutsk"},"(GMT+09:00) Yakutsk"),l.a.createElement(Va,{value:"Australia/Adelaide"},"(GMT+09:30) Adelaide"),l.a.createElement(Va,{value:"Australia/Darwin"},"(GMT+09:30) Darwin"),l.a.createElement(Va,{value:"Australia/Brisbane"},"(GMT+10:00) Brisbane"),l.a.createElement(Va,{value:"Australia/Canberra"},"(GMT+10:00) Canberra, Melbourne, Sydney"),l.a.createElement(Va,{value:"Australia/Hobart"},"(GMT+10:00) Hobart"),l.a.createElement(Va,{value:"Pacific/Guam"},"(GMT+10:00) Guam, Port Moresby"),l.a.createElement(Va,{value:"Asia/Vladivostok"},"(GMT+10:00) Vladivostok"),l.a.createElement(Va,{value:"Asia/Magadan"},"(GMT+11:00) Magadan, Solomon Is., New Caledonia"),l.a.createElement(Va,{value:"Pacific/Auckland"},"(GMT+12:00) Auckland, Wellington"),l.a.createElement(Va,{value:"Pacific/Fiji"},"(GMT+12:00) Fiji, Kamchatka, Marshall Is."),l.a.createElement(Va,{value:"Pacific/Tongatapu"},"(GMT+13:00) Nuku'alofa"))),l.a.createElement(ne.a.Item,{name:["Notification",a,"level"],label:"Level to Inform"},l.a.createElement(De.a.Group,{name:["Notification",a,"level"]},l.a.createElement(De.a,{value:"INFO"},"INFO"),l.a.createElement(De.a,{value:"WARN"},"WARN"),l.a.createElement(De.a,{value:"ERROR"},"ERROR"),l.a.createElement(De.a,{value:"FATAL"},"FATAL"))),l.a.createElement(ne.a.Item,{name:["Notification",a,"mail_active"],label:"Mail active",valuePropName:"checked",initialValue:!1,rules:[{required:!0,message:"equired."}]},l.a.createElement(Fe.a,null)),l.a.createElement(ne.a.Item,{label:"Mail From",name:["Notification",a,"mail_from"]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{label:"Mail To",name:["Notification",a,"mail_to"]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{label:"Mail Token",name:["Notification",a,"mail_token"]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:["Notification",a,"line_active"],label:"Line active",valuePropName:"checked",initialValue:!1,rules:[{required:!0,message:"equired."}]},l.a.createElement(Fe.a,null)),l.a.createElement(ne.a.Item,{label:"Line Token",name:["Notification",a,"line_token"]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,Ua,l.a.createElement(ie.a,{type:"primary",htmlType:"submit",key:a},"Submit")))))}))))},za=l.a.memo((function(e){var a=e.record,t=e.NotifiModalvisible,r=e.setNotifiModalvisible,c=ne.a.useForm(),o=Object(d.a)(c,1)[0],i='/cmd?get={"notification":{"filter":{"cid":"'.concat(a.cid,'"}}}'),s=j(i),m=Object(d.a)(s,2),u=m[0],p=m[1],g=Object(n.useState)(!1),E=Object(d.a)(g,2),f=E[0],_=E[1];return Object(n.useEffect)((function(){if(p){var e=p.response.notification[0];console.log("\u57f7\u884c\u4e86 NotifiData"),o.setFieldsValue({timezone:e.timezone,mail_active:e.mail.active,mail_from:e.mail.mail_from,mail_to:e.mail.mail_to,mail_token:e.mail.token,line_token:e.line.token,line_active:e.line.active,level:e.conditions.level})}}),[p]),l.a.createElement(me.a,{visible:t,title:"Notification Setting",onOk:function(){return r(!1)},onCancel:function(){return r(!1)},centered:!0,width:"50%",destroyOnClose:!0,footer:[l.a.createElement(ie.a,{key:"submit",type:"primary",loading:f,onClick:function(){o.submit()}},"Submit")]},l.a.createElement(b.a,{loading:u,bordered:!1},l.a.createElement(ne.a,Object.assign({},Ra,{name:"Notification",autoComplete:"off",onFinish:function(e){_(!0),console.log(e,a),console.log(e.mail_to.split(","));var t='/cmd?set={"notification":[{"cid":"'.concat(a.cid,'", "timezone":"').concat(e.timezone,'", "conditions":{"level":"').concat(e.level,'"}, "mail":{"active":"').concat(e.mail_active,'", "mail_from":"').concat(e.mail_from,'","mail_to":').concat(JSON.stringify(e.mail_to.split(",")),', "token":"').concat(e.mail_token,'"},"line":{"active":"').concat(e.line_active,'","token":"').concat(e.line_token,'"}}]}');console.log(t),h.a.get(t).then((function(e){_(!1),le.b.success("update successfully."),console.log(e)})).catch((function(e){_(!1),le.b.error("update fail."),console.log(e)}))},form:o}),l.a.createElement(ne.a.Item,{label:"Time Zone",name:"timezone"},l.a.createElement(he.a,{name:"timezone"},l.a.createElement(Va,{value:"Etc/GMT+12"},"(GMT-12:00) International Date Line West"),l.a.createElement(Va,{value:"Pacific/Midway"},"(GMT-11:00) Midway Island, Samoa"),l.a.createElement(Va,{value:"Pacific/Honolulu"},"(GMT-10:00) Hawaii"),l.a.createElement(Va,{value:"US/Alaska"},"(GMT-09:00) Alaska"),l.a.createElement(Va,{value:"America/Los_Angeles"},"(GMT-08:00) Pacific Time (US & Canada)"),l.a.createElement(Va,{value:"America/Tijuana"},"(GMT-08:00) Tijuana, Baja California"),l.a.createElement(Va,{value:"US/Arizona"},"(GMT-07:00) Arizona"),l.a.createElement(Va,{value:"America/Chihuahua"},"(GMT-07:00) Chihuahua, La Paz, Mazatlan"),l.a.createElement(Va,{value:"US/Mountain"},"(GMT-07:00) Mountain Time (US & Canada)"),l.a.createElement(Va,{value:"America/Managua"},"(GMT-06:00) Central America"),l.a.createElement(Va,{value:"US/Central"},"(GMT-06:00) Central Time (US & Canada)"),l.a.createElement(Va,{value:"America/Mexico_City"},"(GMT-06:00) Guadalajara, Mexico City, Monterrey"),l.a.createElement(Va,{value:"Canada/Saskatchewan"},"(GMT-06:00) Saskatchewan"),l.a.createElement(Va,{value:"America/Bogota"},"(GMT-05:00) Bogota, Lima, Quito, Rio Branco"),l.a.createElement(Va,{value:"US/Eastern"},"(GMT-05:00) Eastern Time (US & Canada)"),l.a.createElement(Va,{value:"US/East-Indiana"},"(GMT-05:00) Indiana (East)"),l.a.createElement(Va,{value:"Canada/Atlantic"},"(GMT-04:00) Atlantic Time (Canada)"),l.a.createElement(Va,{value:"America/Caracas"},"(GMT-04:00) Caracas, La Paz"),l.a.createElement(Va,{value:"America/Manaus"},"(GMT-04:00) Manaus"),l.a.createElement(Va,{value:"America/Santiago"},"(GMT-04:00) Santiago"),l.a.createElement(Va,{value:"Canada/Newfoundland"},"(GMT-03:30) Newfoundland"),l.a.createElement(Va,{value:"America/Sao_Paulo"},"(GMT-03:00) Brasilia"),l.a.createElement(Va,{value:"America/Argentina/Buenos_Aires"},"(GMT-03:00) Buenos Aires, Georgetown"),l.a.createElement(Va,{value:"America/Godthab"},"(GMT-03:00) Greenland"),l.a.createElement(Va,{value:"America/Montevideo"},"(GMT-03:00) Montevideo"),l.a.createElement(Va,{value:"America/Noronha"},"(GMT-02:00) Mid-Atlantic"),l.a.createElement(Va,{value:"Atlantic/Cape_Verde"},"(GMT-01:00) Cape Verde Is."),l.a.createElement(Va,{value:"Atlantic/Azores"},"(GMT-01:00) Azores"),l.a.createElement(Va,{value:"Africa/Casablanca"},"(GMT+00:00) Casablanca, Monrovia, Reykjavik"),l.a.createElement(Va,{value:"Etc/Greenwich"},"(GMT+00:00) Greenwich Mean Time : Dublin, Edinburgh, Lisbon, London"),l.a.createElement(Va,{value:"Europe/Amsterdam"},"(GMT+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna"),l.a.createElement(Va,{value:"Europe/Belgrade"},"(GMT+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague"),l.a.createElement(Va,{value:"Europe/Brussels"},"(GMT+01:00) Brussels, Copenhagen, Madrid, Paris"),l.a.createElement(Va,{value:"Europe/Sarajevo"},"(GMT+01:00) Sarajevo, Skopje, Warsaw, Zagreb"),l.a.createElement(Va,{value:"Africa/Lagos"},"(GMT+01:00) West Central Africa"),l.a.createElement(Va,{value:"Asia/Amman"},"(GMT+02:00) Amman"),l.a.createElement(Va,{value:"Europe/Athens"},"(GMT+02:00) Athens, Bucharest, Istanbul"),l.a.createElement(Va,{value:"Asia/Beirut"},"(GMT+02:00) Beirut"),l.a.createElement(Va,{value:"Africa/Cairo"},"(GMT+02:00) Cairo"),l.a.createElement(Va,{value:"Africa/Harare"},"(GMT+02:00) Harare, Pretoria"),l.a.createElement(Va,{value:"Europe/Helsinki"},"(GMT+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius"),l.a.createElement(Va,{value:"Asia/Jerusalem"},"(GMT+02:00) Jerusalem"),l.a.createElement(Va,{value:"Europe/Minsk"},"(GMT+02:00) Minsk"),l.a.createElement(Va,{value:"Africa/Windhoek"},"(GMT+02:00) Windhoek"),l.a.createElement(Va,{value:"Asia/Kuwait"},"(GMT+03:00) Kuwait, Riyadh, Baghdad"),l.a.createElement(Va,{value:"Europe/Moscow"},"(GMT+03:00) Moscow, St. Petersburg, Volgograd"),l.a.createElement(Va,{value:"Africa/Nairobi"},"(GMT+03:00) Nairobi"),l.a.createElement(Va,{value:"Asia/Tbilisi"},"(GMT+03:00) Tbilisi"),l.a.createElement(Va,{value:"Asia/Tehran"},"(GMT+03:30) Tehran"),l.a.createElement(Va,{value:"Asia/Muscat"},"(GMT+04:00) Abu Dhabi, Muscat"),l.a.createElement(Va,{value:"Asia/Baku"},"(GMT+04:00) Baku"),l.a.createElement(Va,{value:"Asia/Yerevan"},"(GMT+04:00) Yerevan"),l.a.createElement(Va,{value:"Asia/Kabul"},"(GMT+04:30) Kabul"),l.a.createElement(Va,{value:"Asia/Yekaterinburg"},"(GMT+05:00) Yekaterinburg"),l.a.createElement(Va,{value:"Asia/Karachi"},"(GMT+05:00) Islamabad, Karachi, Tashkent"),l.a.createElement(Va,{value:"Asia/Calcutta"},"(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi"),l.a.createElement(Va,{value:"Asia/Calcutta"},"(GMT+05:30) Sri Jayawardenapura"),l.a.createElement(Va,{value:"Asia/Katmandu"},"(GMT+05:45) Kathmandu"),l.a.createElement(Va,{value:"Asia/Almaty"},"(GMT+06:00) Almaty, Novosibirsk"),l.a.createElement(Va,{value:"Asia/Dhaka"},"(GMT+06:00) Astana, Dhaka"),l.a.createElement(Va,{value:"Asia/Rangoon"},"(GMT+06:30) Yangon (Rangoon)"),l.a.createElement(Va,{value:"Asia/Bangkok"},"(GMT+07:00) Bangkok, Hanoi, Jakarta"),l.a.createElement(Va,{value:"Asia/Krasnoyarsk"},"(GMT+07:00) Krasnoyarsk"),l.a.createElement(Va,{value:"Asia/Hong_Kong"},"(GMT+08:00) Beijing, Chongqing, Hong Kong, Urumqi"),l.a.createElement(Va,{value:"Asia/Kuala_Lumpur"},"(GMT+08:00) Kuala Lumpur, Singapore"),l.a.createElement(Va,{value:"Asia/Irkutsk"},"(GMT+08:00) Irkutsk, Ulaan Bataar"),l.a.createElement(Va,{value:"Australia/Perth"},"(GMT+08:00) Perth"),l.a.createElement(Va,{value:"Asia/Taipei"},"(GMT+08:00) Taipei"),l.a.createElement(Va,{value:"Asia/Tokyo"},"(GMT+09:00) Osaka, Sapporo, Tokyo"),l.a.createElement(Va,{value:"Asia/Seoul"},"(GMT+09:00) Seoul"),l.a.createElement(Va,{value:"Asia/Yakutsk"},"(GMT+09:00) Yakutsk"),l.a.createElement(Va,{value:"Australia/Adelaide"},"(GMT+09:30) Adelaide"),l.a.createElement(Va,{value:"Australia/Darwin"},"(GMT+09:30) Darwin"),l.a.createElement(Va,{value:"Australia/Brisbane"},"(GMT+10:00) Brisbane"),l.a.createElement(Va,{value:"Australia/Canberra"},"(GMT+10:00) Canberra, Melbourne, Sydney"),l.a.createElement(Va,{value:"Australia/Hobart"},"(GMT+10:00) Hobart"),l.a.createElement(Va,{value:"Pacific/Guam"},"(GMT+10:00) Guam, Port Moresby"),l.a.createElement(Va,{value:"Asia/Vladivostok"},"(GMT+10:00) Vladivostok"),l.a.createElement(Va,{value:"Asia/Magadan"},"(GMT+11:00) Magadan, Solomon Is., New Caledonia"),l.a.createElement(Va,{value:"Pacific/Auckland"},"(GMT+12:00) Auckland, Wellington"),l.a.createElement(Va,{value:"Pacific/Fiji"},"(GMT+12:00) Fiji, Kamchatka, Marshall Is."),l.a.createElement(Va,{value:"Pacific/Tongatapu"},"(GMT+13:00) Nuku'alofa"))),l.a.createElement(ne.a.Item,{name:"level",label:"Level to Inform"},l.a.createElement(De.a.Group,null,l.a.createElement(De.a,{value:"INFO"},"INFO"),l.a.createElement(De.a,{value:"WARN"},"WARN"),l.a.createElement(De.a,{value:"ERROR"},"ERROR"),l.a.createElement(De.a,{value:"FATAL"},"FATAL"))),l.a.createElement(ne.a.Item,{name:"mail_active",label:"Mail active",valuePropName:"checked",initialValue:!1},l.a.createElement(Fe.a,null)),l.a.createElement(ne.a.Item,{label:"Mail From",name:"mail_from"},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{label:"Mail To",name:"mail_to"},l.a.createElement(re.a,null)),l.a.createElement("p",{style:{marginLeft:"22%",marginTop:"-25px",color:"gray"}},"(use ",l.a.createElement("span",{style:{fontWeight:"500",color:"blue"}},'","'),"  to seperate different receivers)"),l.a.createElement(ne.a.Item,{label:"Mail Token",name:"mail_token"},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"line_active",label:"Line active",valuePropName:"checked",initialValue:!1},l.a.createElement(Fe.a,null)),l.a.createElement(ne.a.Item,{label:"Line Token",name:"line_token"},l.a.createElement(re.a,null)))))})),qa=function(){return 123},Ka=function(){var e=Object(n.useContext)(k).state,a=ne.a.useForm(),t=Object(d.a)(a,1)[0],r=localStorage.getItem("authUser.cid"),c="proscend"===r?"/scheme_mgnt?list_scheme={".concat(e.Login.Cid,"}"):'/scheme_mgnt?list_scheme={"cid":"'.concat(r,'"}'),o=j(c),i=Object(d.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)([]),p=Object(d.a)(u,2),g=p[0],E=p[1],f=Object(n.useState)(!1),_=Object(d.a)(f,2),h=_[0],v=_[1];Object(n.useEffect)((function(){if(console.log(m),m){var e=[];m.response.forEach((function(a,t){e.push({key:t,cid:a.cid,device:a.scheme_list.device,devices:a.scheme_list.devices,expire:a.scheme_list.expire,expires:a.scheme_list.expires,group:a.scheme_list.group,iot:a.scheme_list.iot,iot_poor:a.scheme_list.iot_poor,iot_poors:a.scheme_list.iot_poors,iots:a.scheme_list.iots,tracking:a.scheme_list.tracking,trackings:a.scheme_list.trackings,tracking_pools:a.scheme_list.tracking_pools,tracking_pool:a.scheme_list.tracking_pool,user:a.scheme_list.user,users:a.scheme_list.users}),E(e)})),console.log(e)}}),[m]);var y=[{title:"CustomerID",width:150,dataIndex:"cid",key:"cid",fixed:"left"},{title:"User",dataIndex:"user",key:"user",width:100},{title:"Users",dataIndex:"users",key:"users",width:100},{title:"Device",width:100,dataIndex:"device",key:"device"},{title:"Devices",dataIndex:"devices",key:"devices",width:100},{title:"Group",dataIndex:"group",key:"group",width:100},{title:"Groups",dataIndex:"groups",key:"groups",width:100},{title:"IoT",dataIndex:"iot",key:"iot",width:100},{title:"IoTs",dataIndex:"iots",key:"iots",width:100},{title:"iot_poor",dataIndex:"iot_poor",key:"iot_poor",width:110},{title:"iot_poors",dataIndex:"iot_poors",key:"iot_poors",width:110},{title:"Tracking",dataIndex:"tracking",key:"trackings",width:100},{title:"Tracking",dataIndex:"trackings",key:"tracking",width:100},{title:"tracking_pool",dataIndex:"tracking_pool",key:"tracking_pool",width:110},{title:"tracking_pools",dataIndex:"tracking_pools",key:"tracking_pools",width:110},{title:"Expires",key:"expires",width:100},{title:"Expire",dataIndex:"expire",key:"expire",width:100},{title:"Action",key:"action",width:160,fixed:"right",render:function(e,a,t){return l.a.createElement("div",null,l.a.createElement(ie.a,null,"Edit"),l.a.createElement(ie.a,null,"Delete"))}}];return l.a.createElement(b.a,{loading:s},l.a.createElement("div",null,l.a.createElement(ie.a,{type:"primary",onClick:function(){v(!0)}},"New Scheme"),l.a.createElement(me.a,{title:"New Scheme",visible:h,onOk:function(){return v(!1)},onCancel:function(){return v(!1)},okButtonProps:{form:"CreateScheme",key:"submit",htmlType:"submit"},okText:"Create",cancelText:"Cancel"},l.a.createElement(qa,{form:t,onFinish:function(e){console.log("Received values of form:",e)}}))),l.a.createElement(ue.a,{columns:y,dataSource:g,scroll:{x:1500,y:600}}))},Ja=function(e){var a=e.SchemeModalvisible,t=e.setSchemeModalvisible,r=e.record,c='/scheme_mgnt?list_scheme={"cid":"'.concat(r.cid,'"}'),o=j(c),i=Object(d.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)({}),p=Object(d.a)(u,2),g=p[0],E=p[1];return Object(n.useEffect)((function(){m&&E(m.response[0].scheme_list)}),[m]),l.a.createElement(me.a,{visible:a,onOk:function(){return t(!1)},onCancel:function(){return t(!1)},okText:"confirm",cancelText:"cancel",centered:!0,width:"50%",className:La.a.modal,title:"Scheme",destroyOnClose:!0},l.a.createElement(b.a,{loading:s,bordered:!1},l.a.createElement(ve.a,{bordered:!0},g&&l.a.createElement(ve.a.Item,{label:"Current Scheme"},"device: ",g.device,l.a.createElement("br",null),"devices: ",g.devices,l.a.createElement("br",null),"expire: ",g.expire,l.a.createElement("br",null),"expires: ",g.expires,l.a.createElement("br",null),"group: ",g.group,l.a.createElement("br",null),"groups: ",g.groups,l.a.createElement("br",null),"iot: ",g.iot,l.a.createElement("br",null),"iots: ",g.iots,l.a.createElement("br",null),"iot_poor: ",g.iot_poor,l.a.createElement("br",null),"iot_poors: ",g.iot_poors,l.a.createElement("br",null),"tracking: ",g.tracking,l.a.createElement("br",null),"trackings: ",g.trackings,l.a.createElement("br",null),"tracking_pool: ",g.tracking_pool,l.a.createElement("br",null),"tracking_pools: ",g.tracking_pools,l.a.createElement("br",null),"user: ",g.user,l.a.createElement("br",null),"users: ",g.users,l.a.createElement("br",null)))))},Ya=t(682),Za=_e.a.TabPane,Qa=he.a.Option,Xa=Ba.a.Panel,$a={labelCol:{span:8},wrapperCol:{span:16}},et=function(e){var a=e.onFinish,t=e.record,r=e.NodeList;console.log(a);var c=ne.a.useForm(),o=Object(d.a)(c,1)[0],i=Object(n.useState)([]),s=Object(d.a)(i,2),m=s[0],u=s[1],p=Object(n.useState)([]),g=Object(d.a)(p,2),E=g[0],f=g[1];Object(n.useEffect)((function(){if(t){console.log(t,r);var e=[],a=[];if(console.log(typeof t.node_list),"string"===typeof t.node_list){var n={key:t.node_list,title:"".concat(t.node_list),description:"".concat(t.node_list)};e.push(n.key)}else t.node_list.forEach((function(a){var t={key:a,title:"".concat(a),description:"".concat(a)};e.push(t.key)}));r.forEach((function(e){a.push({key:e.id,title:"".concat(e.id),description:"".concat(e.id)})})),u(a),f(e)}}),[]);return l.a.createElement(ne.a,Object.assign({},$a,{name:"EditGroup",onFinish:a,form:o}),l.a.createElement(ne.a.Item,{name:"EditDevice"},l.a.createElement(Ya.a,{dataSource:m,showSearch:!0,filterOption:function(e,a){return a.description.indexOf(e)>-1},targetKeys:E,onChange:function(e){f(e)},onSearch:function(e,a){console.log("search:",e,a)},render:function(e){return e.title},listStyle:{width:"100%",height:300},operations:["Add","Remove"]})))},at=function(){var e=ne.a.useForm(),a=Object(d.a)(e,1)[0],t=Object(n.useContext)(k).state,r=j('/cmd?get={"nodeInf":{"nodeInf":{"cid":{},"gid":{},"token":{},"id":{}}}}'),c=Object(d.a)(r,2),o=(c[0],c[1]),i=Object(n.useState)(!1),s=Object(d.a)(i,2),m=s[0],u=s[1],p=localStorage.getItem("authUser.cid"),g="proscend"===p?"/device_mgnt/group?list_group={".concat(t.Login.Cid,"}"):'/device_mgnt/group?list_group={"cid":"'.concat(p,'"}'),E=j(g,m),f=Object(d.a)(E,2),_=f[0],v=f[1],y=Object(n.useState)([]),w=Object(d.a)(y,2),I=w[0],O=w[1],T=Object(n.useState)([{cid:"",gid:"",node_list:[""],key:""}]),S=Object(d.a)(T,2),C=S[0],N=S[1],x=Object(n.useState)(!1),M=Object(d.a)(x,2),A=M[0],P=M[1],G=Object(n.useState)([]),D=Object(d.a)(G,2),F=D[0],L=D[1];console.log("\u6e32\u67d3\u4e86 GroupManagementC"),Object(n.useEffect)((function(){if(o){console.log(o);var e=[];o.response.nodeInf.forEach((function(a,t){e.push({key:t,id:a.nodeInf.id})})),console.log(e),O(e)}}),[o]),Object(n.useEffect)((function(){if(v){var e=[];console.log(v),v.response.forEach((function(a,t){a.group_list.forEach((function(e,a){e.key=a})),e.push({key:t,cid:a.cid,group:a.group_list})})),console.log(e),N(e)}}),[v]);var B=[{title:"Group",dataIndex:["gid"],key:"gid",width:"10%%"},{title:"Device",dataIndex:["node_list"],key:"node_list",width:"70%",render:function(e,a){return"object"===typeof a.node_list?a.node_list.map((function(e,a){return l.a.createElement(Y.a,{key:a,color:"default"},e)})):l.a.createElement(Y.a,{color:"default"},a.node_list)}},{title:"Action",dataIndex:"action",width:"20%",render:function(e,a){return l.a.createElement("div",null,l.a.createElement(ie.a,{onClick:function(){P(!0),L(a)}},"Edit"),l.a.createElement(ie.a,{onClick:function(){var e=localStorage.getItem("authUser.cid"),n="proscend"===e&&""!==t.Login.Cid?"/device_mgnt/group?delete_group={".concat(t.Login.Cid,',"group_list":[{"name":"').concat(a.gid,'"}]}'):'/device_mgnt/group?delete_group={"cid":"'.concat(e,'","group_list":[{"name":"').concat(a.gid,'"}]}');console.log(n),u(!0),h.a.get(n).then((function(e){u(!1),console.log(e)})).catch((function(e){u(!1),console.log(e)}))}},"Delete"))}}];return l.a.createElement("div",null,l.a.createElement(b.a,null,l.a.createElement(ne.a,{name:"dynamic_form_nest_item",onFinish:function(e){console.log("Received values of form:",e),u(!0);var n=localStorage.getItem("authUser.cid"),l=t.Login.Cid,r="proscend"===n&&""!==l?"/device_mgnt/group?create_group={".concat(t.Login.Cid,', "group_list":[{"name":"').concat(e.groupName,'","node_list":').concat(JSON.stringify(e.Device_ID),"}]}"):'/device_mgnt/group?create_group={"cid":"'.concat(n,'", "group_list":[{"name":"').concat(e.groupName,'","node_list":').concat(JSON.stringify(e.Device_ID),"}]}");console.log(r),a.resetFields(["Device_ID","groupName"]),h.a.get(r).then((function(e){u(!1),console.log(e)})).catch((function(e){console.log(e),u(!1)}))},autoComplete:"off",form:a,className:La.a.Form},l.a.createElement("div",{className:La.a.formwrap},l.a.createElement("div",{className:La.a.formDiv},l.a.createElement("p",null,"Device"),l.a.createElement(ne.a.Item,{style:{width:250},className:La.a.formitem,name:"Device_ID",rules:[{required:!0,message:"Deivce Id is required!"}]},l.a.createElement(he.a,{mode:"multiple",placeholder:"Select devices",showArrow:!0,tagRender:function(e){var a=e.label,t=(e._,e.closable),n=e.onClose;return l.a.createElement(Y.a,{color:"black",closable:t,onClose:n,style:{marginRight:3}},a)},className:La.a.deviceinput,onFocus:function(){}},I.map((function(e,a){return l.a.createElement(Qa,{key:a,value:e.id},e.id)}))))),l.a.createElement("div",{className:La.a.formDiv},l.a.createElement("p",null,"Group Name"),l.a.createElement(ne.a.Item,{className:La.a.formitem,name:"groupName",rules:[{required:!0,message:"Group name is required"}]},l.a.createElement(re.a,null))),l.a.createElement(ne.a.Item,{className:La.a.submitBtn},l.a.createElement(ie.a,{type:"primary",htmlType:"submit",loading:m},"Submit"))))),l.a.createElement(b.a,{loading:_},l.a.createElement(me.a,{title:"Edit Group",visible:A,onOk:function(){return P(!1)},onCancel:function(){return P(!1)},width:700,okButtonProps:{form:"EditGroup",key:"submit",htmlType:"submit"},okText:"Submit",cancelText:"Cancel"},l.a.createElement(et,{form:a,record:F,onFinish:function(e){console.log(e),u(!0);var a=localStorage.getItem("authUser.cid"),n=t.Login.Cid,l="proscend"===a&&""!==n?"/device_mgnt/group?modify_group={".concat(n,', "group_list":[{"name":"').concat(F.gid,'","node_list":').concat(JSON.stringify(e.EditDevice),"}]}"):'/device_mgnt/group?modify_group={"cid":"'.concat(a,'","group_list":[{"name":"').concat(F.gid,'","node_list":').concat(JSON.stringify(e.EditDevice),"}]}");console.log(l),h.a.get(l).then((function(e){console.log(e),u(!1)})).catch((function(e){console.log(e),u(!1)}))},NodeList:I})),l.a.createElement(Ba.a,{defaultActiveKey:["0"],onChange:function(e){console.log(e)}},C.map((function(e,a){return l.a.createElement(Xa,{key:a,header:e.cid},l.a.createElement(ue.a,{loading:m,key:a,columns:B,dataSource:e.group,pagination:!1}))})))))},tt=l.a.memo((function(e){var a=e.GroupModalvisible,t=e.setGroupModalvisible,r=e.record,c=e.setUploading,o=ne.a.useForm(),i=Object(d.a)(o,1)[0],s=ne.a.useForm(),m=Object(d.a)(s,1)[0],u=Object(n.useState)(!1),p=Object(d.a)(u,2),g=p[0],E=p[1],f='/device_mgnt/group?list_group={"cid":"'.concat(r.cid,'"}'),_=j(f,g),v=Object(d.a)(_,2),y=(v[0],v[1]),k=Object(n.useState)([{gid:"",node_list:[]}]),w=Object(d.a)(k,2),I=w[0],O=w[1],T='/cmd?get={"nodeInf":{"filter":{"cid":"'.concat(r.cid,'"},"nodeInf":{"cid":{},"gid":{},"token":{},"id":{}}}}'),S=j(T),C=Object(d.a)(S,2),N=C[0],x=C[1],M=Object(n.useState)([]),A=Object(d.a)(M,2),P=A[0],G=A[1],D=Object(n.useState)(""),F=Object(d.a)(D,2),L=F[0],B=F[1];var R=function(e){console.log(e),c(!0),E(!0);for(var a="",t=0;t<e.Group.length;t++)t===e.Group.length-1?a+='{"name":"'.concat(e.Group[t].gid,'","node_list":').concat(JSON.stringify(e.GroupDevice[t].node_list),"}"):a+='{"name":"'.concat(e.Group[t].gid,'","node_list":').concat(JSON.stringify(e.GroupDevice[t].node_list),"},");console.log(a);var n='/device_mgnt/group?modify_group={"cid":"'.concat(r.cid,'","group_list":[').concat(a,"]}");console.log(n),h.a.get(n).then((function(e){console.log(e),le.b.success("Update successfully."),c(!1),E(!1)})).catch((function(e){console.log(e),le.b.error("Update fail."),c(!1),E(!1)}))};function U(e){var a=e.label,t=(e._,e.closable),n=e.onClose;return l.a.createElement(Y.a,{color:"black",closable:t,onClose:n,style:{marginRight:3}},a)}Object(n.useEffect)((function(){if(y){var e=[];y.response[0].group_list.forEach((function(a,t){e.push({key:t,gid:a.gid,node_list:a.node_list})})),O(e),i.setFieldsValue({Group:e,GroupDevice:e})}}),[y]),Object(n.useEffect)((function(){if(x){console.log(x);var e=[];x.response.nodeInf.forEach((function(a,t){e.push({key:t,id:a.nodeInf.id})})),G(e)}}),[x]);var V=[{title:"Group",width:"10%",dataIndex:"gid",key:"gid",render:function(e,a,t){return l.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},l.a.createElement(ne.a,{name:["Group",t],onFinish:R,autoComplete:"off",form:i,className:La.a.Form},l.a.createElement(ne.a.Item,{style:{marginBottom:"10px"},className:La.a.formitem,name:["Group",t,"gid"],rules:[{required:!0,message:"Group is required!"}]},l.a.createElement(re.a,{disabled:!0}))),l.a.createElement(se.a,{title:"Delete Group"},l.a.createElement(ce.a,{title:"Sure to delete?",onConfirm:function(){!function(e){var a='/device_mgnt/group?delete_group={"cid":"'.concat(r.cid,'","group_list":[{"name":"').concat(e.gid,'"}]}');console.log(a),c(!0),E(!0),h.a.get(a).then((function(e){c(!1),E(!1),le.b.success("Delete successfully."),console.log(e)})).catch((function(e){c(!1),E(!1),le.b.error("Delete fail."),console.log(e)}))}(a)}},l.a.createElement(Te.d,{className:La.a.DeleteGroupIcon,style:{fontSize:"2rem",cursor:"pointer"}}))))}},{title:"Device",width:"90%",dataIndex:"node_list",key:"node_list",render:function(e,a,t){return l.a.createElement(ne.a,{name:["GroupDevice",t],onFinish:R,autoComplete:"off",form:i,className:La.a.Form},l.a.createElement(ne.a.Item,{className:La.a.formitem,name:["GroupDevice",t,"node_list"],rules:[{required:!0,message:"Deivce Id is required!"}]},l.a.createElement(he.a,{mode:"multiple",placeholder:"Select devices",showArrow:!0,tagRender:U,style:{width:"100%"},className:La.a.deviceinput,onFocus:function(){}},P.map((function(e,a){return l.a.createElement(Qa,{key:a,value:e.id},e.id)})))))}}];return l.a.createElement(me.a,{visible:a,onOk:function(){return t(!1)},onCancel:function(){return t(!1)},centered:!0,width:"80%",className:La.a.modal,destroyOnClose:!0,footer:["Edit Group"!==L&&l.a.createElement(ie.a,{key:"back",onClick:function(){return t(!1)}},"confirm"),"Edit Group"===L&&l.a.createElement(ie.a,{key:"ok",type:"primary",loading:g,onClick:function(){i.submit()}},"Submit")]},l.a.createElement(_e.a,{defaultActiveKey:"1",onChange:function(e){B(e)}},l.a.createElement(Za,{tab:"Create Group",key:"Create Group"},l.a.createElement(b.a,{loading:N,bordered:!1},l.a.createElement(ne.a,{name:"CreateGroup",onFinish:function(e){console.log("Received values of form:",e),c(!0),E(!0);var a='/device_mgnt/group?create_group={"cid":"'.concat(r.cid,'", "group_list":[{"name":"').concat(e.groupName,'","node_list":').concat(JSON.stringify(e.Device_ID),"}]}");console.log(a),m.resetFields(["Device_ID","groupName"]),h.a.get(a).then((function(e){c(!1),E(!1),le.b.success("Create completely."),console.log(e)})).catch((function(e){console.log(e),le.b.error("Create fail."),c(!1),E(!1)}))},autoComplete:"off",form:m,className:La.a.Form},l.a.createElement("div",{className:La.a.formwrap},l.a.createElement("div",{className:La.a.formDiv},l.a.createElement("p",null,"Device"),l.a.createElement(ne.a.Item,{style:{width:250},className:La.a.formitem,name:"Device_ID",rules:[{required:!0,message:"Deivce Id is required!"}]},l.a.createElement(he.a,{mode:"multiple",placeholder:"Select devices",showArrow:!0,tagRender:U,className:La.a.deviceinput,onFocus:function(){}},P.map((function(e,a){return l.a.createElement(Qa,{key:a,value:e.id},e.id)}))))),l.a.createElement("div",{className:La.a.formDiv},l.a.createElement("p",null,"Group Name"),l.a.createElement(ne.a.Item,{className:La.a.formitem,name:"groupName",rules:[{required:!0,message:"Group name is required"}]},l.a.createElement(re.a,null))),l.a.createElement(ne.a.Item,{className:La.a.submitBtn},l.a.createElement(ie.a,{type:"primary",htmlType:"submit",loading:g},"Submit")))))),l.a.createElement(Za,{tab:"Edit Group",key:"Edit Group",className:La.a.groupPane},l.a.createElement(ue.a,{columns:V,dataSource:I,pagination:!1,loading:g}))))})),nt={labelCol:{span:8},wrapperCol:{span:16}},lt=function(e){var a=e.record,t=e.EdieTokenvisible,r=e.setEdieTokenvisible,c=e.uploading,o=e.setUploading,i=ne.a.useForm(),s=Object(d.a)(i,1)[0];Object(n.useEffect)((function(){s.setFieldsValue({token_list:a.token_list})}),[a]);var m=[{title:"Token",dataIndex:"token_list",key:"token_list",width:"20%",render:function(e,a,t){return l.a.createElement(ne.a.Item,{name:["token_list",t]},l.a.createElement(re.a,null))}},{title:"Rename",dataIndex:"rename",key:"rename",width:"20%",render:function(e,a,t){return l.a.createElement(ne.a.Item,{name:["rename",t]},l.a.createElement(re.a,null))}},{title:"Delete",dataIndex:"delete",key:"delete",width:"20%",render:function(e,a){return l.a.createElement(se.a,{title:"Delete Token"},l.a.createElement(ce.a,{title:"Sure to Delete?",onConfirm:function(){u(a),r(!1)}},l.a.createElement(Te.c,{className:La.a.DeleteIcon})))}}],u=function(e){o(!0),console.log(e);var t='/device_mgnt/token?delete_token={"cid":"'.concat(a.cid,'", "token_list":["').concat(e,'"]}');h.a.get(t).then((function(e){console.log(e),o(!1),le.b.success("delete successfully")})).catch((function(e){console.log(e),o(!1),le.b.error("delete fail")}))};return l.a.createElement(me.a,{title:"Edit Token",visible:t,onCancel:function(){return r(!1)},okButtonProps:{form:"EditToken",key:"submit",htmlType:"submit"},width:"60%",destroyOnClose:!0,footer:[l.a.createElement(ie.a,{key:"submit",type:"primary",loading:c,onClick:function(){s.submit()}},"Submit")]},l.a.createElement(ne.a,Object.assign({},nt,{name:"TokenForm",autoComplete:"off",onFinish:function(e){console.log(e),o(!0);for(var t="",n=0;n<e.token_list.length;n++)void 0!==e.rename[n]&&(t+='{"old_token":"'.concat(e.token_list[n],'","new_token":"').concat(e.rename[n],'"},'));var l='/device_mgnt/token?modify_token={"cid":"'.concat(a.cid,'", "token_list":[').concat(t.substring(0,t.length-1),"]}");h.a.get(l).then((function(e){console.log(e),o(!1),le.b.success("modify successfully"),r(!1)})).catch((function(e){console.log(e),o(!1),le.b.success("modify fail"),r(!1)}))},form:s}),l.a.createElement(ue.a,{columns:m,dataSource:a.token_list,pagination:!1,loading:c,rowKey:function(e){return e}})))},rt=function(){var e=Object(n.useState)(!1),a=Object(d.a)(e,2),t=a[0],r=a[1],c=j("/device_mgnt/token?list_token={}",t),o=Object(d.a)(c,2),i=o[0],s=o[1],p=Object(n.useState)([]),g=Object(d.a)(p,2),E=g[0],f=g[1],_=Object(n.useState)(""),v=Object(d.a)(_,2),y=v[0],k=v[1],w=Object(n.useState)(!1),I=Object(d.a)(w,2),O=I[0],T=I[1];function S(){return(S=Object(u.a)(m.a.mark((function e(a){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),"/device_mgnt/token?generate_token={}",e.next=4,h.a.get("/device_mgnt/token?generate_token={}").then((function(e){t=e.data.response.token}));case 4:h.a.get('/device_mgnt/token?create_token={"cid":"'.concat(a.cid,'", "token_list":["').concat(t,'"]}')).then((function(e){console.log(e),r(!1),le.b.success("Create successfully")})).catch((function(e){console.log(e),r(!1),le.b.error("Create fail")}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){if(s){var e=[];s.response.forEach((function(a,t){e.push({key:t,cid:a.cid,token_list:a.token_list})})),f(e)}}),[s]);var C=[{title:"Customer",dataIndex:"cid",key:"cid",width:"20%"},{title:"TokenList",dataIndex:"token_list",key:"token_list",width:"20%",render:function(e,a){return a.token_list.map((function(e,a){return l.a.createElement(Y.a,{color:"default",key:a},e)}))}},{title:"Action",dataIndex:"action",key:"action",width:"20%",render:function(e,a){return l.a.createElement("div",{className:La.a.InformationBtnWrapper},l.a.createElement(se.a,{title:"Edit Token"},l.a.createElement("a",{href:"/#",disabled:0===E.length,onClick:function(e){e.preventDefault(),T(!0),k(a)}},l.a.createElement(Oe.b,{className:La.a.EditIcon}))),l.a.createElement(se.a,{title:"Create Token"},l.a.createElement(ce.a,{title:"Sure to add a token?",onConfirm:function(){!function(e){S.apply(this,arguments)}(a)}},l.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault()}},l.a.createElement(Te.a,{className:La.a.CreateUserIcon})))))}}];return l.a.createElement("div",null,l.a.createElement(lt,{TokenList:E,EdieTokenvisible:O,setEdieTokenvisible:T,uploading:t,setUploading:r,record:y}),l.a.createElement(b.a,null,l.a.createElement(ue.a,{columns:C,dataSource:E,pagination:!1,loading:i||t})))},ct=function(e){var a=e.Tokenvisible,t=e.setTokenvisible,r=e.record,c='/device_mgnt/token?list_token={"cid":"'.concat(r.cid,'"}'),o=j(c),i=Object(d.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)([]),p=Object(d.a)(u,2),g=p[0],E=p[1];return Object(n.useEffect)((function(){m&&E(m.response[0].token_list)}),[m]),l.a.createElement(me.a,{visible:a,onOk:function(){return t(!1)},onCancel:function(){return t(!1)},okText:"confirm",cancelText:"cancel",centered:!0,width:"50%",className:La.a.modal,destroyOnClose:!0,title:"Token State"},l.a.createElement(b.a,{loading:s,bordered:!1},l.a.createElement(ve.a,{bordered:!0},l.a.createElement(ve.a.Item,{label:"Token"},g.map((function(e,a){return l.a.createElement("p",{key:a},e)})),l.a.createElement("br",null)))))},ot=t(702),it=t(703),st=he.a.Option,mt={labelCol:{span:6},wrapperCol:{span:16}},ut=l.a.memo((function(e){var a=e.setUploading,t=e.GroupList,r=e.record,c=e.CreateUservisible,o=e.setCreateUservisible,i=ne.a.useForm(),s=Object(d.a)(i,1)[0],m=Object(n.useContext)(k).state,u=Object(n.useState)(!1),p=Object(d.a)(u,2),g=p[0],E=p[1];Object(n.useEffect)((function(){console.log("\u57f7\u884c\u4e86 createUserForm"),s.setFieldsValue({cid:r.cid})}),[c]);return l.a.createElement(me.a,{title:"Create User Account",visible:c,onCancel:function(){return o(!1)},width:"60%",destroyOnClose:!0,footer:[l.a.createElement(ie.a,{key:"submit",type:"primary",loading:g,onClick:function(){s.submit()}},"Submit")]},l.a.createElement(ne.a,{name:"CreateUser",autoComplete:"off",form:s,onFinish:function(e){console.log("Received values of form:",e),a(!0),E(!0);var t=JSON.stringify(e.users);console.log(t);var n='/user_mgnt?create_user={"cid":"'.concat(e.cid,'", "user_list":').concat(t,"}");console.log(n),h.a.get(n).then((function(e){a(!1),E(!1),le.b.success("Create successfully."),console.log(e),o(!1)})).catch((function(e){console.log(e),a(!1),E(!1),le.b.error("Create fail.")}))}},""===m.Login.Cid?l.a.createElement(ne.a.Item,{name:"cid",rules:[{required:!0,message:""}],label:"Customer"},l.a.createElement(re.a,{disabled:!0})):l.a.createElement(ne.a.Item,{name:"cid",label:"CustomerID",rules:[{required:!0}]},l.a.createElement(re.a,{disabled:!0})),l.a.createElement(ne.a.List,{name:"users"},(function(e,a){var n=a.add,c=a.remove;return l.a.createElement("div",null,e.map((function(e){return l.a.createElement(oe.b,{key:e.key,style:{display:"flex",marginBottom:8},align:"start"},l.a.createElement(ne.a.Item,Object.assign({},e,{name:[e.name,"name"],fieldKey:[e.fieldKey,"name"],rules:[{type:"email",required:!0,message:"name@xxx.com is required"}]}),l.a.createElement(re.a,{placeholder:"Name@xxx.com"})),l.a.createElement(ne.a.Item,Object.assign({},e,{name:[e.name,"password"],fieldKey:[e.fieldKey,"password"],rules:[{required:!0,message:"Missing password"}]}),l.a.createElement(re.a,{placeholder:"Password"})),l.a.createElement(ne.a.Item,Object.assign({},e,{name:[e.name,"level"],fieldKey:[e.fieldKey,"level"],rules:[{required:!0,message:"Missing level"}]}),l.a.createElement(he.a,{placeholder:"Level  "},l.a.createElement(st,{value:"super"},"super"),l.a.createElement(st,{value:"admin"},"admin"),l.a.createElement(st,{value:"get"},"get"),l.a.createElement(st,{value:"set"},"set"))),l.a.createElement(ne.a.Item,Object.assign({},e,{name:[e.name,"gid"],fieldKey:[e.fieldKey,"gid"],rules:[{required:!0,message:"Missin Group"}]}),l.a.createElement(he.a,{style:{width:120},mode:"multiple",placeholder:"Group"},t.map((function(e,a){if(e.cid===r.cid)return e.group.map((function(e,t){return l.a.createElement(st,{key:"".concat(a,"_").concat(t),value:e.gid},e.gid)}))})))),l.a.createElement(ot.a,{onClick:function(){c(e.name)}}))})),l.a.createElement(ne.a.Item,null,l.a.createElement(ie.a,{type:"dashed",onClick:function(){n()},block:!0},l.a.createElement(it.a,null)," Add User")))}))))})),dt=l.a.memo((function(e){var a=e.GroupList,t=e.UserEditRecord,r=e.onEditcid,c=e.setUploading,o=e.setEditVisible,i=e.EditVisible,s=ne.a.useForm(),m=Object(d.a)(s,1)[0];function u(e){console.log("selected ".concat(e))}return Object(n.useEffect)((function(){console.log("\u57f7\u884c\u4e86 EditUserForm"),m.setFieldsValue({name:t.name,level:t.level,gid:t.gid})}),[t]),l.a.createElement(me.a,{title:"EditUser",visible:i,onOk:function(){return o(!1)},okButtonProps:{form:"EditUser",key:"submit",htmlType:"submit"},onCancel:function(){return o(!1)},okText:"Submit",cancelText:"Cancel",destroyOnClose:!0},l.a.createElement(ne.a,Object.assign({name:"EditUser",autoComplete:"off",form:m,onFinish:function(e){c(!0);var a=void 0===e.password?'/user_mgnt?modify_user={"cid":"'.concat(r,'", "user_list":[{"name":"').concat(e.name,'", "level":"').concat(e.level,'", "gid":').concat(JSON.stringify(e.gid),"}]}"):'/user_mgnt?modify_user={"cid":"'.concat(r,'", "user_list":[{"name":"').concat(e.name,'", "password":"').concat(e.password,'", "level":"').concat(e.level,'", "gid":').concat(JSON.stringify(e.gid),"}]}");h.a.get(a).then((function(e){console.log(e),c(!1),le.b.success("update successfully.")})).catch((function(e){console.log(e),c(!1),le.b.error("update fail.")})),console.log(a)}},mt),l.a.createElement(ne.a.Item,{label:"name",name:"name",rules:[{type:"email",required:!0,message:"name@xxx.com is required"}]},l.a.createElement(re.a,{placeholder:"name",disabled:!0})),l.a.createElement(ne.a.Item,{label:"password",name:"password"},l.a.createElement(re.a,{placeholder:"password"})),l.a.createElement(ne.a.Item,{label:"level",name:"level",rules:[{required:!0,message:"Missing level"}]},l.a.createElement(he.a,{onChange:u},l.a.createElement(st,{value:"super"},"super"),l.a.createElement(st,{value:"admin"},"admin"),l.a.createElement(st,{value:"get"},"get"),l.a.createElement(st,{value:"set"},"set"))),l.a.createElement(ne.a.Item,{name:"gid",label:"Group"},l.a.createElement(he.a,{onChange:u,mode:"multiple"},a.map((function(e,a){if(e.cid===r)return e.group.map((function(e,t){return l.a.createElement(st,{key:"".concat(a,"_").concat(t,"_"),value:e.gid},e.gid)}))}))))))})),pt=l.a.memo((function(e){var a=e.CreateVisible,t=e.setCreateVisible,n=e.setUploading;console.log("\u57f7\u884c\u4e86 CreateInfoForm");var r=ne.a.useForm(),c=Object(d.a)(r,1)[0];return l.a.createElement(me.a,{title:"Create User Infomation",visible:a,onCancel:function(){return t(!1)},okButtonProps:{form:"CreateInfo",key:"submit",htmlType:"submit"},okText:"Create",cancelText:"Cancel"},l.a.createElement(ne.a,Object.assign({},mt,{name:"CreateInfo",onFinish:function(e){console.log("Received values of form:",e),n(!0);var a=' /inf_mgnt?create_inf={"cid":"'.concat(e.cid,'", "inf_list":{"company":"').concat(e.company,'", "contact":"').concat(e.contact,'", "mail":"').concat(e.mail,'", "phone":"').concat(e.phone,'"}}');console.log(a),h.a.get(a).then((function(e){n(!1),le.b.success("update successfully."),t(!1),console.log(a),console.log(e)})).catch((function(e){console.log(e),n(!1),le.b.error("update fail.")}))},form:c}),l.a.createElement(ne.a.Item,{name:"cid",label:"CustomerID",rules:[{required:!0}]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"company",label:"Company",rules:[{required:!0}]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"contact",label:"Contact Person",rules:[{required:!0}]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"mail",label:"Email",rules:[{type:"email",required:!0}]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"phone",label:"Phone",rules:[{type:"number",required:!0}]},l.a.createElement(re.a,null))))})),gt=function(){var e=Object(n.useContext)(k).state,a=ne.a.useForm(),t=Object(d.a)(a,1)[0],r=localStorage.getItem("authUser.cid"),c=Object(n.useState)(!1),o=Object(d.a)(c,2),i=o[0],s=o[1],p=Object(n.useState)([]),g=Object(d.a)(p,2),E=g[0],f=g[1],_=Object(n.useState)(!1),y=Object(d.a)(_,2),w=y[0],I=y[1],O=Object(n.useState)(!1),T=Object(d.a)(O,2),S=T[0],C=T[1],N=Object(n.useState)(!1),x=Object(d.a)(N,2),M=x[0],A=x[1],P=Object(n.useState)([]),G=Object(d.a)(P,2),D=G[0],L=G[1],B="proscend"===r?"/device_mgnt/group?list_group={".concat(e.Login.Cid,"}"):'/device_mgnt/group?list_group={"cid":"'.concat(r,'"}'),R=j(B,i),U=Object(d.a)(R,2),V=(U[0],U[1]),H=Object(n.useState)(""),W=Object(d.a)(H,2),z=(W[0],W[1],Object(n.useState)("")),q=Object(d.a)(z,2),K=q[0],J=q[1],Z=Object(n.useState)(""),Q=Object(d.a)(Z,2),X=Q[0],$=Q[1],ee=Object(n.useState)(!1),ae=Object(d.a)(ee,2),oe=ae[0],me=ae[1],de=Object(n.useState)(!1),pe=Object(d.a)(de,2),ge=pe[0],Ee=pe[1],fe=Object(n.useState)(!1),be=Object(d.a)(fe,2),_e=be[0],he=be[1],ve=Object(n.useState)(!1),ye=Object(d.a)(ve,2),ke=ye[0],we=ye[1],Ie=Object(n.useState)(""),Se=Object(d.a)(Ie,2),Ce=Se[0],Ne=Se[1],je=Object(n.useState)(""),xe=Object(d.a)(je,2),Me=xe[0],Ae=xe[1],Pe=Object(n.useState)(""),Ge=Object(d.a)(Pe,2),De=Ge[0],Fe=Ge[1],Le=Object(n.useState)(""),Be=Object(d.a)(Le,2),Re=Be[0],Ue=Be[1],Ve=Object(n.useState)(""),He=Object(d.a)(Ve,2),We=He[0],ze=He[1],qe="proscend"===r?"/user_mgnt?list_user={".concat(e.Login.Cid,"}"):'/user_mgnt?list_user={"cid":"'.concat(r,'"}'),Ke=j(qe,i),Je=Object(d.a)(Ke,2),Ye=Je[0],Ze=Je[1],Qe=j("/inf_mgnt?list_inf={} ",i),Xe=Object(d.a)(Qe,2),$e=Xe[0],ea=Xe[1];Object(n.useEffect)((function(){if(Ze&&ea){var e=[];Ze.response.forEach((function(a,t){a.user_list.forEach((function(e,a){e.key=a})),ea.response.forEach((function(n){a.cid===n.cid&&e.push({key:t,cid:a.cid,user_list:a.user_list,company:n.inf_list.company,contact:n.inf_list.contact,mail:n.inf_list.mail,phone:n.inf_list.phone})}))})),f(e)}}),[Ze,ea]),Object(n.useEffect)((function(){if(V){var e=[];V.response.forEach((function(a,t){a.group_list.forEach((function(e,a){e.key=a})),e.push({key:t,cid:a.cid,group:a.group_list})})),L(e)}}),[V]);var aa=Object(n.useState)(""),ta=Object(d.a)(aa,2),na=ta[0],la=ta[1],ra=function(e){return e.key===na},ca=function(){la("")},oa=function(){var e=Object(u.a)(m.a.mark((function e(a){var n,l,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,t.validateFields();case 4:n=e.sent,l=Object(F.a)(E),l.findIndex((function(e){return a===e.key})),r='/inf_mgnt?modify_inf={"cid":"'.concat(n.cid,'", "inf_list":{"company":"').concat(n.company,'", "contact":"').concat(n.contact,'", "mail":"').concat(n.mail,'", "phone":"').concat(n.phone,'"}}'),console.log(r),h.a.get(r).then((function(e){console.log(e),s(!1),la(""),le.b.success("update successfully.")})).catch((function(e){s(!1),console.log(e),la(""),le.b.error("update fail.")})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(a){return e.apply(this,arguments)}}(),ia=[{title:"Customer",width:"15%",dataIndex:"cid",key:"cid",editable:!0},{title:"Company",width:"10%",dataIndex:"company",key:"company",editable:!0},{title:"Contact",width:"15%",dataIndex:"contact",key:"contact",editable:!0},{title:"Email",width:"15%",dataIndex:"mail",key:"mail",editable:!0},{title:"Phone",width:"15%",dataIndex:"phone",key:"phone",editable:!0},{title:"Operation",width:"30%",dataIndex:"information",key:"information",render:function(a,n){var r=ra(n),c=localStorage.getItem("authUser.cid")&&""===e.Login.Cid;return r?l.a.createElement("span",null,l.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),oa(n.key)},style:{marginRight:8}},"Save"),l.a.createElement(ce.a,{title:"Sure to cancel?",onConfirm:ca},l.a.createElement("a",{href:"/#"},"Cancel"))):l.a.createElement("div",{className:La.a.InformationBtnWrapper},l.a.createElement(se.a,{title:"Edit Info"},l.a.createElement("a",{href:"/#",disabled:""!==na,onClick:function(e){e.preventDefault(),function(e){t.setFieldsValue(Object(v.a)({name:"",age:"",address:""},e)),la(e.key)}(n)}},l.a.createElement(Oe.b,{className:La.a.EditIcon}))),c&&l.a.createElement(se.a,{title:"Delete Info"},l.a.createElement(ce.a,{title:"Sure to Delete?",onConfirm:function(){!function(e){s(!0);var a='/inf_mgnt?delete_inf={"cid":"'.concat(e.cid,'"}');console.log(a),h.a.get(a).then((function(e){s(!1),le.b.success("Delete successfully."),console.log(e)})).catch((function(e){s(!1),le.b.error("Delete fail."),console.log(e)}))}(n)}},l.a.createElement(Te.c,{className:La.a.DeleteIcon}))),l.a.createElement(se.a,{title:"Create User"},l.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),C(!0),Ue(n)}},l.a.createElement(Te.i,{className:La.a.CreateUserIcon}))),l.a.createElement(se.a,{title:"Edit Group"},l.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),Fe(n),he(!0)}},l.a.createElement(Te.b,{className:La.a.EditGroupIcon}))),l.a.createElement(se.a,{title:"Notification"},l.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),Ae(n),me(!0)}},l.a.createElement(Te.s,{className:La.a.NotificationIcon}))),l.a.createElement(se.a,{title:"Token"},l.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),Ne(n),we(!0)}},l.a.createElement(Te.k,{className:La.a.TokenIcon}))),l.a.createElement(se.a,{title:"View Scheme"},l.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),ze(n),Ee(!0)}},l.a.createElement(Te.t,{className:La.a.ViewSchemeIcon}))))}}].map((function(e){return e.editable?Object(v.a)(Object(v.a)({},e),{},{onCell:function(a){return{record:a,inputType:"age"===e.dataIndex?"number":"text",dataIndex:e.dataIndex,title:e.title,editing:ra(a)}}}):e}));return l.a.createElement("div",null,l.a.createElement(ut,{data:E,GroupList:D,onEditcid:X,record:Re,setUploading:s,CreateUservisible:S,setCreateUservisible:C}),l.a.createElement(pt,{setUploading:s,CreateVisible:w,setCreateVisible:I}),l.a.createElement(dt,{GroupList:D,UserEditRecord:K,onEditcid:X,setUploading:s,EditVisible:M,setEditVisible:A}),l.a.createElement(za,{NotifiModalvisible:oe,setNotifiModalvisible:me,record:Me}),l.a.createElement(Ja,{SchemeModalvisible:ge,setSchemeModalvisible:Ee,record:We}),De&&l.a.createElement(tt,{GroupModalvisible:_e,setGroupModalvisible:he,record:De,setUploading:s}),l.a.createElement(ct,{Tokenvisible:ke,setTokenvisible:we,record:Ce}),l.a.createElement(b.a,null,""===e.Login.Cid&&"proscend"===r&&l.a.createElement(ie.a,{type:"primary",onClick:function(){return I(!0)},className:La.a.NewUserInfoBtn,loading:i},"New User Info"),l.a.createElement(ne.a,{form:t,component:!1},l.a.createElement(ue.a,{loading:$e||Ye||i,columns:ia,dataSource:E,expandable:{expandedRowRender:function(e,a){var t=[{title:"Name",dataIndex:["name"],key:"name",width:"20%"},{title:"Level",dataIndex:["level"],key:"level",width:"20%"},{title:"Group",dataIndex:[["gid"]],key:"[gid]",width:"15%",render:function(e,a){return a.gid.map((function(e,a){return l.a.createElement(Y.a,{color:"default",key:a},e)}))}},{title:"Action",dataIndex:["action"],key:"action",width:"20%",render:function(e,t,n){return l.a.createElement("div",null,l.a.createElement(ie.a,{loading:i,key:"".concat(n,"_").concat(e),onClick:function(){A(!0),J(t),$(E["".concat(a)].cid)}},"Edit"),l.a.createElement(ie.a,{key:n,onClick:function(){s(!0);var e=E["".concat(a)].cid,n='/user_mgnt?delete_user={"cid":"'.concat(e,'", "user_list":[{"name":"').concat(t.name,'"}]}');console.log(n),h.a.get(n).then((function(e){console.log(e),s(!1),le.b.success("Delete successfully.")})).catch((function(e){console.log(e),s(!1),le.b.error("Delete fail.")}))}},"Delete"))}}];return l.a.createElement(ue.a,{columns:t,dataSource:e.user_list,pagination:!1,size:"middle",className:La.a.subHeader})}},components:{body:{cell:function(e){var a=e.editing,t=e.dataIndex,n=e.title,r=e.inputType,c=(e.record,e.index,e.children),o=Object(te.a)(e,["editing","dataIndex","title","inputType","record","index","children"]),i="number"===r?l.a.createElement(Da.a,null):l.a.createElement(re.a,null);return l.a.createElement("td",o,a?l.a.createElement(ne.a.Item,{name:t,style:{margin:0},rules:[{required:!0,message:"Please Input ".concat(n,"!")}]},i):c)}}},rowClassName:"editable-row",pagination:{onChange:ca}}))))},Et=_e.a.TabPane,ft=function(){var e=Object(n.useContext)(k).state;return"proscend"===localStorage.getItem("authUser.cid")&&""===e.Login.Cid?l.a.createElement(_e.a,{defaultActiveKey:"User"},l.a.createElement(Et,{tab:l.a.createElement("span",null,l.a.createElement(ma.a,null),"User"),key:"User"},l.a.createElement(gt,null)),l.a.createElement(Et,{tab:l.a.createElement("span",null,l.a.createElement(Ma.a,null),"Group"),key:"group"},l.a.createElement(at,null)),l.a.createElement(Et,{tab:l.a.createElement("span",null,l.a.createElement(Aa.a,null),"Token"),key:"token"},l.a.createElement(rt,null)),l.a.createElement(Et,{tab:l.a.createElement("span",null,l.a.createElement(Pa.a,null),"Notification"),key:"Notification"},l.a.createElement(Wa,null)),l.a.createElement(Et,{tab:l.a.createElement("span",null,l.a.createElement(Ga.a,null),"scheme"),key:"scheme"},l.a.createElement(Ka,null))):l.a.createElement(_e.a,{defaultActiveKey:"User"},l.a.createElement(Et,{tab:l.a.createElement("span",null,l.a.createElement(ma.a,null),"User"),key:"User"},l.a.createElement(gt,null)))},bt=function(){return l.a.createElement(n.Fragment,null,l.a.createElement(ft,null))},_t=function(){var e=j("/api/IoT_solar2.json"),a=Object(d.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)([]),o=Object(d.a)(c,2),i=o[0],s=o[1];Object(n.useEffect)((function(){if(r){var e=[];console.log(r),r.forEach((function(a,t){e.push({key:t,id:a.id,node:a.node,time:a.Time,battery_charge_current_a:a.controller.battery.charge_current_a,battery_full_charged_time:a.controller.battery.full_charged_time,battery_over_discharged_time:a.controller.battery.over_discharged_time,battery_soc_percentage:a.controller.battery.soc_percentage,battery_temperature_c:a.controller.battery.temperature_c,battery_total_charge_ah:a.controller.battery.total_charge_ah,battery_total_discharge_ah:a.controller.battery.total_discharge_ah,battery_voltage_v:a.controller.battery.voltage_v,charge_state:a.controller.charge_state,load_current_a:a.controller.load.current_a,load_voltage_v:a.controller.load.voltage_v,load_watt_w:a.controller.load.watt_w,load_light_percentage:a.controller.load_light_percentage,load_on_off:a.controller.load_on_off,solar_pannel_current_a:a.controller.solar_pannel.current_a,solar_pannel_voltage_v:a.controller.solar_pannel.voltage_v,solar_pannel_watt_w:a.controller.solar_pannel.watt_w,solar_pannel_temperature_c:a.controller.temperature_c,today_battery_max_voltage_v:a.controller.today.battery.max_voltage_v,today_battery_min_voltage_v:a.controller.today.battery.min_voltage_v,today_charge_ampere_hour_ah:a.controller.today.charge.ampere_hour_ah,today_charge_max_current_a:a.controller.today.charge.max_current_a,today_charge_max_watt_w:a.controller.today.charge.max_watt_w,today_charge_total_watt_w:a.controller.today.charge.total_watt_w,today_charge_watt_w:a.controller.today.charge.watt_w,today_discharge_ampere_hour_ah:a.controller.today.discharge.ampere_hour_ah,today_discharge_max_current_a:a.controller.today.discharge.max_current_a,today_discharge_max_watt_w:a.controller.today.discharge.max_watt_w,today_discharge_total_watt_w:a.controller.today.discharge.total_watt_w,today_discharge_watt_w:a.controller.today.discharge.watt_w,uptime_day:a.controller.uptime_day})})),console.log(e),s(e)}}),[r]);return l.a.createElement(b.a,null,l.a.createElement(ue.a,{loading:t,columns:[{title:"Device",dataIndex:"id",key:"id",width:200},{title:"node",dataIndex:"node",key:"id",width:100},{title:"Time",dataIndex:"time",key:"Time",width:150},{title:"Battery",children:[{title:"SOC(%)",dataIndex:"battery_soc_percentage",key:"Time",width:100},{title:"Voltage",dataIndex:"battery_voltage_v",key:"Time",width:100},{title:"Charge Current(A)",dataIndex:"battery_charge_current_a",key:"Time",width:100},{title:"Temperature(C)",dataIndex:"battery_temperature_c",key:"Time",width:100},{title:"Over DisCharge Time",dataIndex:"battery_over_discharged_time",key:"Time",width:100},{title:"Full Charge Time",dataIndex:"battery_full_charged_time",key:"Time",width:100},{title:"Total Charge(A/H)",dataIndex:"battery_total_charge_ah",key:"Time",width:100},{title:"Total DisCharge(A/H)",dataIndex:"total_discharge_ah",key:"Time",width:100},{title:"Charge State",dataIndex:"charge_state",key:"Time",width:100}]},{title:"Load",children:[{title:"SOC(%)",dataIndex:"load_current_a",key:"Time",width:100},{title:"Voltage",dataIndex:"load_voltage_v",key:"Time",width:100},{title:"Charge Current(A)",dataIndex:"load_watt_w",key:"Time",width:100},{title:"Temperature(C)",dataIndex:"load_light_percentage",key:"Time",width:100},{title:"Over DisCharge Time",dataIndex:"load_on_off",key:"Time",width:100}]},{title:"Solar Pannel",children:[{title:"SOC(%)",dataIndex:"solar_pannel_current_a",key:"Time",width:100},{title:"Voltage",dataIndex:"solar_pannel_voltage_v",key:"Time",width:100},{title:"Charge Current(A)",dataIndex:"solar_pannel_watt_w",key:"Time",width:100},{title:"Temperature(C)",dataIndex:"solar_pannel_temperature_c",key:"Time",width:100}]},{title:"Today",children:[{title:"Battery",children:[{title:"Max Voltage(V)",dataIndex:"today_battery_max_voltage_v",key:"max_voltage_v",width:100},{title:"Min Voltage(V)",dataIndex:"today_battery_min_voltage_v",key:"min_voltage_v",width:100}]},{title:"Charge",children:[{title:"ampere_hour_ah",dataIndex:"today_charge_ampere_hour_ah",key:"ampere_hour_ah",width:100},{title:"Max Current(A)",dataIndex:"today_charge_max_current_a",key:"max_current_a",width:100},{title:"Max_Watt(W)",dataIndex:"today_charge_max_watt_w",key:"max_watt_w",width:100},{title:"Total_Watt(W)",dataIndex:"today_charge_total_watt_w",key:"total_watt_w",width:100},{title:"watt(W)",dataIndex:"today_charge_watt_w",key:"today_charge_watt_w",width:100}]},{title:"DisCharge",children:[{title:"ampere_hour_ah",dataIndex:"today_discharge_ampere_hour_ah",key:"today_discharge_ampere_hour_ah",width:100},{title:"max_current_a",dataIndex:"today_discharge_max_current_a",key:"today_discharge_max_current_a",width:100},{title:"Max Watt(W)",dataIndex:"today_discharge_max_watt_w",key:"today_discharge_max_watt_w",width:100},{title:"Total Watt(W)",dataIndex:"today_discharge_watt_w",key:"today_discharge_watt_w",width:100},{title:"Watt(W)",dataIndex:"today_discharge_watt_w",key:"today_discharge_watt_w",width:100},{title:"uptime_day",dataIndex:"uptime_day",key:"uptime_day",width:100}]}]}],dataSource:i,bordered:!0,pagination:!1,size:"middle",scroll:{x:"calc(700px + 50%)",y:350}}))},ht=function(){return l.a.createElement(n.Fragment,null,l.a.createElement(_t,null))},vt=[{title:"Dashboard",path:"/",icon:l.a.createElement(Te.p,{style:{fontSize:"1.5rem"}}),cName:"NavText",auth:!0,component:ee},{title:"Topology",path:"/topology",icon:l.a.createElement(Te.o,{style:{fontSize:"1.5rem"}}),cName:"NavText",auth:!0,component:ta},{title:"IoT",path:"/iot",icon:l.a.createElement(Te.n,{style:{fontSize:"1.5rem"}}),cName:"NavText",auth:!0,component:ht},{title:"Device Backup",path:"/backuprestore",icon:l.a.createElement(Te.q,{style:{fontSize:"1.5rem"}}),cName:"NavText",auth:!0,component:xa},{title:"Management",path:"/management",icon:l.a.createElement(Te.g,{style:{fontSize:"1.5rem"}}),cName:"NavText",auth:!0,component:bt}],yt=function(){var e=Object(i.g)(),a=Object(n.useContext)(k),t=a.state,r=a.dispatch,c=t.Global.showNav,s=t.Global.IsMD;console.log(s);var p=Object(n.useState)(localStorage.getItem("auth.isAuthed")),E=Object(d.a)(p,2),f=E[0],b=E[1];Object(n.useEffect)((function(){t.Global.innerWidth<1200?r({type:"setShowNav",payload:{showNav:!1}}):r({type:"setShowNav",payload:{showNav:!0}}),t.Global.innerWidth<768?r({type:"setIsMD",payload:{IsMD:!0}}):r({type:"setIsMD",payload:{IsMD:!1}})}),[t.Global.innerWidth]);var _=function(){r({type:"setWindow",payload:{innerWidth:window.innerWidth,innerHeight:window.innerHeight}})};Object(n.useEffect)((function(){console.log(c,t.Global.MDMenue)}),[c]),Object(n.useEffect)((function(){return window.addEventListener("resize",_),function(){return window.removeEventListener("resize",_)}})),Object(n.useEffect)((function(){r({type:"setWindow",payload:{innerWidth:window.innerWidth,innerHeight:window.innerHeight}}),b(localStorage.getItem("auth.isAuthed"))}),[localStorage.getItem("auth.isAuthed")]);var h=function(){var a=Object(u.a)(m.a.mark((function a(){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return localStorage.clear(),a.next=3,C();case 3:b(!1),ca.a.fire({title:"Sign Out Success",icon:"success",showConfirmButton:!1,timer:1200}).then((function(){r({type:"setUser",payload:{User:""}}),e.push("/login")}));case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return l.a.createElement("div",{className:g.a.container},l.a.createElement("div",{className:c?s?"".concat(g.a.navwrap," ").concat(g.a.MDshowNav):"".concat(g.a.navwrap):s?"".concat(g.a.MDhideNav," "):"".concat(g.a.navwrap," ").concat(g.a.ChangeBGforHide)},l.a.createElement("ul",{className:g.a.navitems},l.a.createElement("li",{className:g.a.title,style:c?null:{background:"white"}},c?l.a.createElement("h2",null,"ISMS"):null,l.a.createElement(o.b,{to:"#",className:g.a.cross,onClick:function(){r({type:"setShowNav",payload:{showNav:!c}})}},c?l.a.createElement(qe.c,null):l.a.createElement(Te.l,{style:{fontSize:"1.5rem"}}))),vt.map((function(e,a){return l.a.createElement(se.a,{title:e.title,placement:"right",key:a},l.a.createElement("li",{className:e.navitem,key:a},l.a.createElement(o.b,{to:e.path},e.icon," ",c?l.a.createElement("span",null,e.title):null)))}))),f?c?l.a.createElement(ie.a,{className:g.a.LogoutBtn,onClick:h},"Sign Out"):l.a.createElement(se.a,{title:"Sign-out",placement:"right"},l.a.createElement(Te.h,{style:{fontSize:"1.5rem",cursor:"pointer"},onClick:h})):c?l.a.createElement("button",{className:g.a.LogoutBtn,onClick:function(){e.push("/login")}},"Sign In"):l.a.createElement(se.a,{title:"Sign-in",placement:"right"},l.a.createElement(Te.j,{style:{fontSize:"1.5rem",cursor:"pointer"},onClick:function(){e.push("/login")}}))))},kt=(t(667),t(166)),wt=t.n(kt),It=t(707),Ot={wrapperCol:{span:10,offset:6}},Tt={wrapperCol:{offset:6,span:16}},St=function(){var e=Object(n.useContext)(k),a=e.state,t=e.dispatch,r=Object(i.g)(),c=function(){var e=Object(u.a)(m.a.mark((function e(n){var l,c,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(n);case 2:l=e.sent,c=Object(d.a)(l,2),o=c[0],i=c[1],e.t0=o.status,e.next=200===e.t0?9:10;break;case 9:return e.abrupt("return",ca.a.fire({title:"Sign In Success",icon:"success",showConfirmButton:!1,timer:1200}).then((function(){localStorage.setItem("authUser.name",i.cid),localStorage.setItem("authUser.cid",i.cid),localStorage.setItem("authUser.level",i.level),localStorage.setItem("auth.isAuthed",!0),localStorage.setItem("super.cid",""),t({type:"setUser",payload:{User:i.cid}})})).then((function(){a.Login.LogPath?r.push(a.Login.LogPath):r.push("/")})));case 10:return console.log("fail"),e.abrupt("return",r.push("/login"));case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement(b.a,{bodyStyle:{width:"100%"},className:wt.a.card},l.a.createElement(ne.a,Object.assign({},Ot,{className:wt.a.form,name:"basic",initialValues:{remember:!0},onFinish:c,onFinishFailed:function(e){console.log("Failed:",e)}}),l.a.createElement(ne.a.Item,{className:wt.a.item,name:"name",rules:[{required:!0,message:"Please input your username!"}]},l.a.createElement(re.a,{prefix:l.a.createElement(ma.a,{className:"site-form-item-icon"}),placeholder:"Username"})),l.a.createElement(ne.a.Item,{className:wt.a.item,name:"password",rules:[{required:!0,message:"Please input your password!"}]},l.a.createElement(re.a.Password,{prefix:l.a.createElement(It.a,{className:"site-form-item-icon"})})),l.a.createElement(ne.a.Item,Tt,l.a.createElement(ie.a,{type:"primary",htmlType:"submit"},"Log-in"))),l.a.createElement("div",{className:wt.a.registerBtn,onClick:function(){r.push("/register")}}," ",l.a.createElement("span",null,"Don't have an account?")," Register and enjoy free trail "))},Ct=function(){return l.a.createElement(n.Fragment,null,l.a.createElement(St,null))},Nt=t(695),jt=t(685),xt=t(688),Mt=t(47),At=t.n(Mt),Pt=t(167),Gt=t(368),Dt=ia.a.Step,Ft={labelCol:{xs:{span:8},sm:{span:6}},wrapperCol:{xs:{span:16},sm:{span:12}}},Lt={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},Bt=function(e){console.log("Received values of form: ",e)},Rt=function(){var e=ne.a.useForm(),a=Object(d.a)(e,1)[0],t=Object(n.useState)(0),r=Object(d.a)(t,2),c=r[0],o=r[1],i=[{title:"Account Register",content:l.a.createElement(ne.a,Object.assign({},Ft,{form:a,name:"register",onFinish:Bt,scrollToFirstError:!0}),l.a.createElement(ne.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0},l.a.createElement(re.a.Password,null)),l.a.createElement(ne.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},l.a.createElement(re.a.Password,null)),l.a.createElement(ne.a.Item,{name:"company",label:"Company",rules:[{required:!0,message:"Please input your company!"}]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"contact",label:"Contact Person",rules:[{required:!0,message:"Please input a contact person"}]},l.a.createElement(re.a,null)),l.a.createElement(ne.a.Item,{name:"phone",label:"Phone Number",rules:[{required:!0,message:"Please input your phone number!"}]},l.a.createElement(re.a,{style:{width:"100%"}})),l.a.createElement(ne.a.Item,Lt,l.a.createElement(ie.a,{type:"primary",htmlType:"submit"},"Register")))},{title:"Selecte a Package",content:l.a.createElement("div",{className:"site-card-wrapper"},l.a.createElement(Je.a,{gutter:{xs:8,sm:16,md:24,lg:32},justify:"space-around"},l.a.createElement(Ye.a,{className:"gutter-row",span:7},l.a.createElement(b.a,{bordered:!1,bodyStyle:{padding:0},style:{borderRadius:"15px",overflow:"hidden"},hoverable:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.b,{size:"large",header:l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:At.a.ListHeader,style:{background:"#1E90FF",color:"white"}},l.a.createElement("div",{className:At.a.HeaderIcon},l.a.createElement(Se.b,{style:{fontSize:"55px"}})),l.a.createElement("p",null,"Essential")),l.a.createElement(jt.a,{disabled:!0,defaultValue:2.5,className:At.a.HeaderRate})),footer:l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:At.a.Btnbackgroupd},l.a.createElement(ie.a,{className:At.a.planBtn,style:{background:"#1E90FF",color:"white"}},"Select this plan!")),l.a.createElement("div",{className:At.a.ListFooter,style:{background:"#1e90ff"}},l.a.createElement("span",{style:{color:"white"}},"See more detail!"))),bordered:!1,dataSource:["30-Day trail","100 Routers","Backup","FOTA","IoT","GPS Track"],renderItem:function(e){return l.a.createElement(Nt.b.Item,{className:At.a.listItems},l.a.createElement("p",null,e),("Backup"===e||"30-Day trail"===e||"100 Routers"===e)&&l.a.createElement(Pt.a,{className:At.a.Essentialv}),("IoT"===e||"FOTA"===e||"GPS Track"===e)&&l.a.createElement(Pt.a,{className:At.a.Essentialx}))}})))),l.a.createElement(Ye.a,{className:"gutter-row",span:7},l.a.createElement(b.a,{bordered:!1,bodyStyle:{padding:0},style:{borderRadius:"15px",overflow:"hidden"},hoverable:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.b,{size:"large",header:l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:At.a.ListHeader,style:{background:"#32CD32",color:"white"}},l.a.createElement("div",{className:At.a.HeaderIcon,style:{background:"#32CD32"}},l.a.createElement(Gt.a,{style:{fontSize:"55px"}})),l.a.createElement("p",null,"Deluxe")),l.a.createElement(jt.a,{disabled:!0,defaultValue:3.5,className:At.a.HeaderRate})),footer:l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:At.a.Btnbackgroupd},l.a.createElement(ie.a,{className:At.a.planBtn,style:{background:"#32CD32",color:"white"}},"Select this plan!")),l.a.createElement("div",{className:At.a.ListFooter,style:{background:"#32CD32"}},l.a.createElement("span",{style:{color:"white"}},"See more detail!"))),bordered:!1,dataSource:["100k / month","10000 Routers","Backup","FOTA","IoT","GPS Track"],renderItem:function(e){return l.a.createElement(Nt.b.Item,{className:At.a.listItems},l.a.createElement("p",null,e),("Backup"===e||"100k / month"===e||"FOTA"===e||"10000 Routers"===e)&&l.a.createElement(Pt.a,{className:At.a.Deluxev}),("IoT"===e||"GPS Track"===e)&&l.a.createElement(Pt.a,{className:At.a.Deluxex}))}})))),l.a.createElement(Ye.a,{className:"gutter-row",span:7},l.a.createElement(b.a,{bordered:!1,bodyStyle:{padding:0},style:{borderRadius:"15px",overflow:"hidden"},hoverable:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.b,{size:"large",header:l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:At.a.ListHeader,style:{background:"#FFD700",color:"brown"}},l.a.createElement("div",{className:At.a.HeaderIcon,style:{background:"#FFD700"}},l.a.createElement(Se.a,{style:{fontSize:"55px"}})),l.a.createElement("p",null,"Platinum")),l.a.createElement(jt.a,{disabled:!0,defaultValue:5,className:At.a.HeaderRate})),footer:l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:At.a.Btnbackgroupd},l.a.createElement(ie.a,{className:At.a.planBtn,style:{background:"#FFD700",color:"brown"}},"Select this plan!")),l.a.createElement("div",{className:At.a.ListFooter,style:{background:"#FFD700"}},l.a.createElement("span",{style:{color:"brown"}},"See more detail!"))),bordered:!1,dataSource:["10000k / month","unlimited Routers","Backup","FOTA","IoT","GPS Track"],renderItem:function(e){return l.a.createElement(Nt.b.Item,{className:At.a.listItems},l.a.createElement("p",null,e),("Backup"===e||"10000k / month"===e||"unlimited Routers"===e||"IoT"===e||"FOTA"===e||"GPS Track"===e)&&l.a.createElement(Pt.a,{className:At.a.Platinumv}))}}))))))},{title:"Complete!",content:l.a.createElement("div",null,l.a.createElement(xt.a,{status:"success",title:"Successfully register an account",subTitle:"You can now start using ISMS server!",extra:[l.a.createElement(ie.a,{type:"primary",key:"login"},"Go to Login")]}))}];return l.a.createElement(b.a,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(ia.a,{current:c},i.map((function(e){return l.a.createElement(Dt,{key:e.title,title:e.title})}))),l.a.createElement("div",{className:At.a.stepsContent},i[c].content),l.a.createElement("div",{className:At.a.stepsAction},c<i.length-1&&l.a.createElement(ie.a,{type:"primary",onClick:function(){o(c+1)}},"Next"),c===i.length-1&&l.a.createElement(ie.a,{type:"primary",onClick:function(){return le.b.success("Processing complete!")}},"Done"),c>0&&l.a.createElement(ie.a,{style:{margin:"0 8px"},onClick:function(){o(c-1)}},"Previous"))))},Ut=function(){return l.a.createElement(n.Fragment,null,l.a.createElement(Rt,null))},Vt=t(88),Ht=t.n(Vt),Wt=t(76),zt=t(689),qt=Wt.a.SubMenu,Kt=he.a.Option,Jt=function(){var e=Object(n.useContext)(k),a=e.state,t=e.dispatch,r=Object(n.useState)("mail"),c=Object(d.a)(r,2),o=c[0],i=c[1],s=Object(n.useState)(localStorage.getItem("authUser.cid")),m=Object(d.a)(s,2),u=m[0],p=m[1];Object(n.useEffect)((function(){p(localStorage.getItem("authUser.cid"))}),[a.Login.User]);var g=function(e){console.log("click ",e),i(e.key)};return l.a.createElement("div",{className:Ht.a.head},l.a.createElement(Te.l,{className:a.Global.IsMD?Ht.a.Reverse:"".concat(Ht.a.Reverse," ").concat(Ht.a.HideReverse),onClick:function(){t({type:"setShowNav",payload:{showNav:!a.Global.showNav}})}}),l.a.createElement(Wt.a,{onClick:g,selectedKeys:[o],mode:"horizontal",className:Ht.a.menu},l.a.createElement(qt,{key:"inform",icon:l.a.createElement("a",{href:"#"},l.a.createElement(zt.a,{count:1},l.a.createElement(Ke.b,{className:Ht.a.inform})))},l.a.createElement(Wt.a.Item,{key:"test"},"New Alarm",l.a.createElement("br",null)))),l.a.createElement(Wt.a,{onClick:g,selectedKeys:[o],mode:"horizontal",className:Ht.a.menu},l.a.createElement(qt,{key:"user",icon:l.a.createElement(Te.m,{className:Ht.a.user}),title:u},l.a.createElement(Wt.a.Item,{key:"setting1"},"Profile"),l.a.createElement(Wt.a.Item,{key:"setting2"},"Setting"),l.a.createElement(Wt.a.Item,{key:"setting3"},"Log-out"))),"proscend"===u&&l.a.createElement(Wt.a,{onClick:g,selectedKeys:[o],mode:"horizontal",className:Ht.a.menu},l.a.createElement(Wt.a.Item,{key:"s1",className:Ht.a.superSelect},l.a.createElement(he.a,{defaultValue:"Super",style:{width:100},onChange:function(e){console.log("selected ".concat(e)),t({type:"setCid",payload:{Cid:e}})}},l.a.createElement(Kt,{value:""},"Super"),l.a.createElement(Kt,{value:'"cid":"proscend"'},"Proscend-1"),l.a.createElement(Kt,{value:'"cid":"proscend-2"'},"Proscend-2"),l.a.createElement(Kt,{value:'"cid":"proscend-3"'},"Proscend-3")))),l.a.createElement(Wt.a,{onClick:g,selectedKeys:[o],mode:"horizontal",className:Ht.a.menu},l.a.createElement(qt,{key:"language",icon:l.a.createElement(Se.c,{className:Ht.a.language})},l.a.createElement(Wt.a.Item,{key:"traditionalChinese"},"ZH \u7e41\u9ad4\u4e2d\u6587"),l.a.createElement(Wt.a.Item,{key:"English"},"EN \u82f1\u6587"))))},Yt=function(){var e=Object(i.g)();return l.a.createElement(n.Fragment,null,l.a.createElement(xt.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:l.a.createElement(ie.a,{type:"primary",onClick:function(){e.push("/dashboard")}},"Back Home")}))},Zt=(t(672),function(){return l.a.createElement(o.a,null,l.a.createElement(O,null,l.a.createElement("div",{className:"container_"},l.a.createElement("div",null,l.a.createElement(yt,null)),l.a.createElement("div",{className:"rightPage"},l.a.createElement(Jt,null),l.a.createElement("div",{className:"content"},l.a.createElement(i.d,null,l.a.createElement(i.b,{path:"/login",exact:!0,component:Ct}),l.a.createElement(i.b,{path:"/register",exact:!0,component:Ut}),vt.map((function(e,a){return l.a.createElement(i.b,{key:a,path:e.path,exact:!0,render:function(){return localStorage.getItem("auth.isAuthed")?l.a.createElement(e.component,null):l.a.createElement(i.a,{to:"/login"})}})})),l.a.createElement(i.b,{component:Yt})))))))});c.a.render(l.a.createElement(Zt,null),document.getElementById("root"))},87:function(e,a,t){e.exports={MD:"Navbar_MD__15iKw",MDhideNav:"Navbar_MDhideNav__jX8gA",bar:"Navbar_bar__1IIkC",showbar:"Navbar_showbar__1bIXI",hidebar:"Navbar_hidebar__3TkYc",NavIconWrapper:"Navbar_NavIconWrapper__2b3aF",container:"Navbar_container__6M_3M",navwrap:"Navbar_navwrap__1AREv",MDshowNav:"Navbar_MDshowNav__1LNnM",ChangeBGforHide:"Navbar_ChangeBGforHide__U8OlD",MDmenue:"Navbar_MDmenue__3A6-P",hideNavbar:"Navbar_hideNavbar__1zkup",navitems:"Navbar_navitems__5VD67",title:"Navbar_title__ShavZ",cross:"Navbar_cross__1AtCn",LogoutBtn:"Navbar_LogoutBtn__2D_xx"}},88:function(e,a,t){e.exports={head:"header_head__1ME8S",Reverse:"header_Reverse__2vU4q",HideReverse:"header_HideReverse__eXuCH",menu:"header_menu__2HDPY",inform:"header_inform__TD8fl",user:"header_user__2i2UO",language:"header_language__1NHnv",superSelect:"header_superSelect__1jGp3"}},95:function(e,a,t){e.exports={container:"backupstore_container__3PzBi",icon:"backupstore_icon__3JSuZ",wrap:"backupstore_wrap__3Y3vg",TabPane:"backupstore_TabPane__2JaVN",tabs:"backupstore_tabs__1RkFU"}}},[[376,1,2]]]);
//# sourceMappingURL=main.cba5ca64.chunk.js.map