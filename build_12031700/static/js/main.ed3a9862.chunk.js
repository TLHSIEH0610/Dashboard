(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{10:function(e,a,t){e.exports={up:"topology_up__3frHP",critical:"topology_critical__2gRr_",warning:"topology_warning__2T2al",offline:"topology_offline__3KWiK",desc:"topology_desc___vLvg",Tabs:"topology_Tabs__1FbM9",tabpane:"topology_tabpane__3PTJj",connection:"topology_connection__332da",alarmlog:"topology_alarmlog__2T5Lo",disabled:"topology_disabled__1TMLS",modal:"topology_modal__1z4Im",IoT:"topology_IoT__2hPub",Status:"topology_Status__K-cUo",Map:"topology_Map__3-SlI",Setting:"topology_Setting__wVm7Q",alarmtable:"topology_alarmtable__1iA9n",echartBar:"topology_echartBar__SoJvN",IoTinput:"topology_IoTinput__1JL4B",rename:"topology_rename__rpX_E",renameIcon:"topology_renameIcon__2U7Y7",FilterForm:"topology_FilterForm__2_3ly",FilterDevice:"topology_FilterDevice__1JbKm",FilterModel:"topology_FilterModel__3Nv3r",FilterHealth:"topology_FilterHealth__101U9",FilterStrength:"topology_FilterStrength__2QraQ",iconDrop:"topology_iconDrop__10eOi",TopoTable:"topology_TopoTable__nwe2g",FourEightFiveBar:"topology_FourEightFiveBar__1vduH",Refresh:"topology_Refresh__grPlN",RWDwrapper:"topology_RWDwrapper__1QeKl"}},177:function(e,a,t){e.exports={card:"login_card__xfxjg",registerBtn:"login_registerBtn__1JoJv"}},22:function(e,a,t){e.exports={subHeader:"management_subHeader__2oILI",stepsContent:"management_stepsContent__1oogI",stepsAction:"management_stepsAction__10O0x",formwrap:"management_formwrap__hbQtg",formDiv:"management_formDiv__3D1hW",submitBtn:"management_submitBtn__3ihLn",NotifiForm:"management_NotifiForm__36Sk0",InformationBtnWrapper:"management_InformationBtnWrapper__1YF46",NewUserInfoBtn:"management_NewUserInfoBtn__2D1e1",SchemeInput:"management_SchemeInput__2MLGu",EditIcon:"management_EditIcon__2pnlx",TokenIcon:"management_TokenIcon__SsBVD",NotificationIcon:"management_NotificationIcon__5atnT",CreateUserIcon:"management_CreateUserIcon__2YpV4",DeleteIcon:"management_DeleteIcon__-fJ6n",ViewSchemeIcon:"management_ViewSchemeIcon__3DLkA",EditGroupIcon:"management_EditGroupIcon__1UTTv",trashIcon:"management_trashIcon__3ev8n",groupPane:"management_groupPane__EYwpE",desc:"management_desc__3dgDg",modal:"management_modal__1J3EJ",UserInfoTable:"management_UserInfoTable__2gYzD",spin:"management_spin__2VLDU",Form:"management_Form__1iYVh",EditTokenFormItem:"management_EditTokenFormItem__2Wofo",name:"management_name__2SRh0",password:"management_password__1yBPk",level:"management_level__3E2tb",gid:"management_gid__1LnC0"}},225:function(e,a,t){e.exports={marker:"track_map_marker__2aV8g",circle:"track_map_circle__27jVe",circleText:"track_map_circleText__3Rs27",TrackerMap:"track_map_TrackerMap__30Bd5",SlideBar:"track_map_SlideBar__2mK-7"}},342:function(e){e.exports=JSON.parse('{"ISMS":{"Submit":"Submit","Select":"Select","SignInSuccess":"Sign In Success!","SignInError":"Sign In Error!","Setting":"Setting","DevicesHealth":"Health","DevicesStrength":"Signal","up":"up","warning":"warning","critical":"critical","offline":"offline","excellent":"excellent","good":"good","fair":"fair","poor":"poor","Sum":"Sum","Login":"Log in","LogOut":"Log Out","goRegister1":"Don\'t have an account?","goRegister2":"Register and enjoy free trail","Dashboard":"Dashboard","Topology":"Topology","IoT":"IoT","Management":"Management","Device":"Device","Model":"Model","Health":"Health","Strength":"Strength","Reset":"Reset","Search":"Search","Information":"Information","Info":"Info","Device Backup":"Device Backup","Upgrade":"Upgrade","User":"User","Group":"Group","Token":"Token","Notification":"Notification","Scheme":"Scheme","Create Customer":"Create Customer","Customer":"Customer","Company":"Company","Contact":"Contact","Email":"Email","Phone":"Phone","Operation":"Operation","Action":"Action","TokenList":"TokenList","TimeZone":"TimeZone","Level to Inform":"Level to Inform","Mail active":"Mail active","Mail from":"Mail from","Mail to":"Mail to","Mail Token":"Mail Token","Line active":"Line active","Line Token":"Line Token","New Scheme":"New Scheme","Action Request":"Action Request","File":"File","Action Status":"Action Status","History":"History","FileName":"FileName","FileType":"FileType","CreatedDate":"CreatedDate","Size":"Size","Repository":"Repository","Status":"Status","Upload":"Upload","FOTA":"FOTA"}}')},343:function(e){e.exports=JSON.parse('{"ISMS":{"Submit":"\u9001\u51fa","Select":"\u9078\u64c7","SignInSuccess":"\u767b\u5165\u6210\u529f!","SignInError":"\u767b\u5165\u5931\u6557!","Setting":"\u8a2d\u5b9a","DevicesHealth":"\u5065\u5eb7\u72c0\u614b","DevicesStrength":"\u8a0a\u865f\u5f37\u5f31","up":"\u6b63\u5e38","warning":"\u8b66\u544a","critical":"\u5371\u96aa","offline":"\u96e2\u7dda","excellent":"\u4f73","good":"\u5c1a\u53ef","fair":"\u5f31","poor":"\u4e0d\u4f73","Sum":"\u7e3d\u6578","Login":"\u767b\u5165","LogOut":"\u767b\u51fa","goRegister1":"\u9084\u6c92\u6709\u5e33\u865f\u5bc6\u78bc?","goRegister2":"\u514d\u8cbb\u8a3b\u518a","Dashboard":"\u5100\u9336\u677f","Topology":"\u88dd\u7f6e\u7e3d\u89bd","IoT":"\u7269\u806f\u7db2","Management":"\u7ba1\u7406\u8a2d\u5b9a","Device":"\u88dd\u7f6e","Model":"\u578b\u865f","Health":"\u5065\u5eb7","Strength":"\u8a0a\u865f","Reset":"\u91cd\u7f6e","Search":"\u641c\u5c0b","Information":"\u64cd\u4f5c\u8cc7\u8a0a","Info":"\u8cc7\u8a0a","Device Backup":"\u5099\u4efd\u8207\u66f4\u65b0","Upgrade":"\u88dd\u7f6e\u5347\u7d1a","User":"\u4f7f\u7528\u8005","Group":"\u5206\u7fa4","Token":"\u91d1\u9470","Notification":"\u901a\u77e5\u544a\u8b66","Scheme":"\u65b9\u6848","Create Customer":"\u65b0\u589e\u5ba2\u6236","Customer":"\u5ba2\u6236","Company":"\u516c\u53f8","Contact":"\u63a5\u6d3d\u4eba","Email":"\u4fe1\u7bb1","Phone":"\u96fb\u8a71","Operation":"\u529f\u80fd\u8a2d\u5b9a","Action":"\u64cd\u4f5c","TokenList":"\u91d1\u9470\u6e05\u55ae","TimeZone":"\u6642\u5340","Level to Inform":"\u901a\u77e5\u5c64\u7d1a","Mail active":"\u555f\u7528\u4fe1\u4ef6\u544a\u8b66","Mail from":"\u5bc4\u4ef6\u8005","Mail to":"\u6536\u4ef6\u8005","Mail Token":"\u4fe1\u4ef6\u91d1\u9470","Line active":"\u555f\u7528Line\u544a\u8b66","Line Token":"Line\u91d1\u9470","New Scheme":"\u65b0\u589e\u65b9\u6848","Action Request":"\u767c\u9001\u8acb\u6c42","File":"\u6a94\u6848","Action Status":"\u5df2\u767c\u9001\u8acb\u6c42\u4e4b\u72c0\u614b","History":"\u6b77\u53f2\u7d00\u9304","FileName":"\u6a94\u6848\u540d","FileType":"\u6a94\u6848\u985e\u578b","CreatedDate":"\u5275\u5efa\u65e5\u671f","Size":"\u6a94\u6848","Repository":"\u8cc7\u6599\u5eab","Status":"\u72c0\u614b","Upload":"\u4e0a\u50b3","FOTA":"\u7121\u7dda\u97cc\u9ad4\u66f4\u65b0"}}')},37:function(e,a,t){e.exports={card:"devicebackup_card__1umPS",step:"devicebackup_step__1gsa2",Tabicon:"devicebackup_Tabicon__sVAso",Form:"devicebackup_Form__kvSWO",outerspace:"devicebackup_outerspace__1-fFL",clickBtn:"devicebackup_clickBtn__pKW5u",fileinput:"devicebackup_fileinput__3Y30-",actioninput:"devicebackup_actioninput__AHt-_",deviceinput:"devicebackup_deviceinput__2aORH",modelinput:"devicebackup_modelinput__1VPml",formwrap:"devicebackup_formwrap__1iU6B",formDiv:"devicebackup_formDiv__1EZ6Z",submitBtn:"devicebackup_submitBtn__2QxLC",table:"devicebackup_table__10gJv",actionCol:"devicebackup_actionCol__uyUEZ"}},374:function(e,a,t){e.exports=t(671)},47:function(e,a,t){e.exports={stepsContent:"register_stepsContent__v5qa5",stepsAction:"register_stepsAction__2UaNy",ContentWrapper:"register_ContentWrapper__WiG_Q",ListHeader:"register_ListHeader__XhlJR",HeaderIcon:"register_HeaderIcon__23xS2",HeaderRate:"register_HeaderRate__1tKs8",ListFooter:"register_ListFooter__2rEzU",Btnbackgroupd:"register_Btnbackgroupd__3h9Us",planBtn:"register_planBtn__3ZeDi",listItems:"register_listItems__3mf_C",Essentialv:"register_Essentialv__1RZqp",Essentialx:"register_Essentialx__al13N",Deluxev:"register_Deluxev__1Wza_",Deluxex:"register_Deluxex__2l2G9",Platinumv:"register_Platinumv__21CcK"}},64:function(e,a,t){e.exports={PieWrapper:"dashboard_PieWrapper__1BxtM",PieChart:"dashboard_PieChart__1W79A",IotMapWrapper:"dashboard_IotMapWrapper__cZGb2",Card:"dashboard_Card__2_pnc",IoTCard:"dashboard_IoTCard__10dAI",donC:"dashboard_donC__3LX6C",DashboardMap:"dashboard_DashboardMap__3dtKe",subCard:"dashboard_subCard__29hz2",TempIcon:"dashboard_TempIcon__1Su4p",alarmtable:"dashboard_alarmtable__YIDdm",StatisticHeader:"dashboard_StatisticHeader__3ODa-",PieSum:"dashboard_PieSum__mAy9z"}},663:function(e,a){e.exports="data:image/png;base64,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"},664:function(e,a,t){e.exports=t.p+"static/media/ISMS.1e5886b1.png"},665:function(e,a,t){},671:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(34),c=t.n(l),o=t(48),i=t(62),s=t(61),m=t.n(s),u=t(79),d=t(7),p=t(81),g=t.n(p),b=t(12),f=t.n(b),v=t(40),E=Object(n.createContext)(),h=E,_={Global:{innerWidth:"",innerHeight:"",IsMD:!1,showNav:!0,Lang:"en",IsUpdate:!1},Login:{IsLogin:!0,LogPath:"/",User:null,Cid:""},Topology:{id:"id",deviceStatusByID:"",health:null,strength:null,device:null},BackupRestore:{BackupReq:"",ActionStatusList:"",IsActionUpdated:"false"}},y=function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setWindow":return(e=Object(v.a)({},a)).Global.innerWidth=t.payload.innerWidth,e.Global.innerHeight=t.payload.innerHeight,e;case"setLogin":return(e=Object(v.a)({},a)).Login.IsLogin=t.payload.IsLogin,e;case"setUser":return(e=Object(v.a)({},a)).Login.User=t.payload.User,e;case"setCid":return(e=Object(v.a)({},a)).Login.Cid=t.payload.Cid,e;case"LogPath":return(e=Object(v.a)({},a)).Login.LogPath=t.payload.LogPath,e;case"id":return(e=Object(v.a)({},a)).Topology.id=t.payload.id,e;case"deviceStatusByID":return(e=Object(v.a)({},a)).Topology.deviceStatusByID=t.payload.deviceStatusByID,e;case"updateCloud":return(e=Object(v.a)({},a)).BackupRestore.BackupReq=t.payload.BackupReq,e;case"ActionStatusList":return(e=Object(v.a)({},a)).BackupRestore.ActionStatusList=t.payload.ActionStatusList,e;case"IsActionUpdated":return(e=Object(v.a)({},a)).BackupRestore.IsActionUpdated=t.payload.IsActionUpdated,e;case"setPietoTopo":return(e=Object(v.a)({},a)).Topology.health=t.payload.health,e.Topology.strength=t.payload.strength,e;case"setMaptoTopo":return(e=Object(v.a)({},a)).Topology.device=t.payload.device,e;case"setIsMD":return(e=Object(v.a)({},a)).Global.IsMD=t.payload.IsMD,e;case"setLang":return(e=Object(v.a)({},a)).Global.Lang=t.payload.Lang,e;case"setShowNav":return(e=Object(v.a)({},a)).Global.showNav=t.payload.showNav,e;case"setIsUpdate":return(e=Object(v.a)({},a)).Global.IsUpdate=t.payload.IsUpdate,e;default:return a}},I=function(e){var a=e.children,t=Object(n.useReducer)(y,_),l=Object(d.a)(t,2),c=l[0],o=l[1];return r.a.createElement(E.Provider,{value:{state:c,dispatch:o}},a)};function S(){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/logout",e.prev=1,e.next=4,fetch("/logout",{credentials:"include",method:"POST"});case 4:return a=e.sent,console.log(a),localStorage.clear(),e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(1),console.log("error: ",e.t0),a=e.t0,e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var j=function(e,a,t){var r=Object(n.useState)(null),l=Object(d.a)(r,2),c=l[0],o=l[1],s=Object(n.useState)(!1),m=Object(d.a)(s,2),u=m[0],p=m[1],g=Object(i.g)(),b=Object(n.useContext)(h).dispatch,v=Object(i.h)();return Object(n.useEffect)((function(){if(a){p(!0);var t={method:"post",headers:{"Content-Type":"application/json"},url:e,data:JSON.parse(a)};console.log(t),f()(t).then((function(e){o(e.data),p(!1)})).catch((function(e){console.log(e),p(!1),e.response&&401===e.response.status?(b({type:"LogPath",payload:{LogPath:v.pathname}}),S(),g.push("/userlogin")):g.push("/internalerror")}))}}),[t,a]),[u,c]},N=(t(399),t(131)),C=t.n(N),w=t(51),k=t.n(w),T=(t(310),t(317),t(318),t(173)),M=t(176),L=t(342),x=t(343),A=t(687),D=t(344),F=function(e){return(0,Object(A.a)().t)(e)},G={en:{translation:L},"zh-TW":{translation:x}};T.a.use(D.a),T.a.use(M.e).init({resources:G,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});var R=t(64),U=t.n(R),P=t(685),B=t(205),V=function(e){var a=e.PieData,t=e.StatisticLoading,l=Object(i.g)(),c=Object(n.useContext)(h).dispatch,o=Object(n.useState)(),s=Object(d.a)(o,2),m=s[0],u=s[1],p=Object(n.useState)(),g=Object(d.a)(p,2),b=g[0],f=g[1];Object(n.useEffect)((function(){a.health&&(u((function(){return[a.health.up,a.health.warning,a.health.critical,a.health.offline].reduce((function(e,a){return e+a}),0)})),f((function(){return[a.sim.excellent,a.sim.good,a.sim.fair,a.sim.poor].reduce((function(e,a){return e+a}),0)})))}),[a]);var v=function(e,a,t){return{title:{text:t,left:"center",padding:[10,0]},color:["#28a745","#ffc107","#dc3545","#343a40"],tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"horizontal",data:a,align:"auto",padding:[50,30]},series:[{name:"Number",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!0,top:50,label:{show:!0,position:"inside",bleedMargin:5,alignTo:"none",formatter:"{b} : {c}",fontWeight:"bold",fontSize:"15"},emphasis:{label:{show:!0,fontSize:"20",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:e?e[0]:null,name:a[0],label:{show:!!e&&e[0]}},{value:e?e[1]:null,name:a[1],label:{show:!!e&&e[1]}},{value:e?e[2]:null,name:a[2],label:{show:!!e&&e[2]}},{value:e?e[3]:null,name:a[3],label:{show:!!e&&e[3]}}]}]}},E={click:function(e){"excellent"===e.data.name?c({type:"setPietoTopo",payload:{strength:"".concat(e.data.name)}}):c({type:"setPietoTopo",payload:{health:"".concat(e.data.name)}}),l.push("./topology")}};return r.a.createElement("div",{className:U.a.PieWrapper},r.a.createElement(P.a,{className:U.a.Card,bodyStyle:{padding:0},style:{position:"relative"}},t?r.a.createElement(B.a,null,r.a.createElement(C.a,{className:U.a.PieChart,echarts:k.a,option:v([100,0,0,0],[F("ISMS.up"),F("ISMS.warning"),F("ISMS.critical"),F("ISMS.offline")],F("ISMS.DevicesHealth")),notMerge:!0,lazyUpdate:!0,theme:"theme_name",onEvents:E})):r.a.createElement(n.Fragment,null,r.a.createElement("p",{className:U.a.PieSum},m),r.a.createElement(C.a,{className:U.a.PieChart,echarts:k.a,option:v(a.health&&[a.health.up,a.health.warning,a.health.critical,a.health.offline],[F("ISMS.up"),F("ISMS.warning"),F("ISMS.critical"),F("ISMS.offline")],F("ISMS.DevicesHealth")),notMerge:!0,lazyUpdate:!0,theme:"theme_name",onEvents:E}))),r.a.createElement(P.a,{className:U.a.Card,bodyStyle:{padding:0}},t?r.a.createElement(B.a,null,r.a.createElement(C.a,{className:U.a.PieChart,echarts:k.a,option:v([100,0,0,0],[F("ISMS.excellent"),F("ISMS.good"),F("ISMS.fair"),F("ISMS.poor")],F("ISMS.DevicesStrength")),notMerge:!0,lazyUpdate:!0,theme:"theme_name",onEvents:E})):r.a.createElement(n.Fragment,null,r.a.createElement("p",{className:U.a.PieSum},b),r.a.createElement(C.a,{className:U.a.PieChart,echarts:k.a,option:v(a.sim&&[a.sim.excellent,a.sim.good,a.sim.fair,a.sim.poor],[F("ISMS.excellent"),F("ISMS.good"),F("ISMS.fair"),F("ISMS.poor")],F("ISMS.DevicesStrength")),notMerge:!0,lazyUpdate:!0,theme:"theme_name",onEvents:E}))))},z=t(347),q=t.n(z),W=t(326),H=t(330),J=t(327),K=t(329),Z=t(24),Y=new Z.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[35,50],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),X=new Z.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[35,50],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),Q=function(){var e=Object(n.useContext)(h),a=e.state,t=e.dispatch,l=localStorage.getItem("authUser.cid"),c=localStorage.getItem("authUser.level"),o=Object(i.g)(),s='{"get":{"device_status":{"filter":{'.concat("super_super"===c?a.Login.Cid:'"cid":"'.concat(l,'"'),'},"nodeInf":{},"obj":{}}}}'),m=j("/cmd",s),u=Object(d.a)(m,2),p=u[0],g=u[1],b=[24.793256,121.013987],f=Object(n.useState)([]),v=Object(d.a)(f,2),E=v[0],_=v[1];Object(n.useEffect)((function(){if(g&&g.response){var e=[];g.response.device_status.forEach((function(a){e.push({latitude:a.obj.status.gps.latitude,longitude:a.obj.status.gps.longitude,id:a.nodeInf.id,name:a.nodeInf.name,health:a.nodeInf.health,sim:a.nodeInf.sim,lastUpdate:a.nodeInf.lastUpdate})})),_(e)}}),[g]);return r.a.createElement(P.a,{bodyStyle:{padding:"6px"},className:U.a.Card},p?r.a.createElement(B.a,null,r.a.createElement(W.a,{center:b,zoom:8,className:U.a.DashboardMap},r.a.createElement(H.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}))):r.a.createElement(W.a,{center:b,zoom:8,className:U.a.DashboardMap},r.a.createElement(H.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(q.a,{disableClusteringAtZoom:18,removeOutsideVisibleBounds:!0},E&&E.map((function(e,a){var n=new Date(1e3*e.lastUpdate);return r.a.createElement(J.a,{key:a,position:[e.latitude,e.longitude],icon:"up"===e.health?X:Y},r.a.createElement(K.a,null,"Device: ",""!==e.name?e.name:e.id,r.a.createElement("br",null),"Status: ",e.health,r.a.createElement("br",null),"Signal: ",e.sim,r.a.createElement("br",null),"LastUpdate:"," ","".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()," ").concat(n.getHours(),":").concat(n.getMinutes()),r.a.createElement("br",null),r.a.createElement("a",{href:"/#",onClick:function(a){a.preventDefault(),function(e){console.log(e),t({type:"setMaptoTopo",payload:{device:"".concat(""===e.name?e.id:e.name)}}),o.push("./topology")}(e)}},"see detail")))})))))},$=t(155),ee=t(96),ae=function(){var e=Object(n.useContext)(h).state,a=localStorage.getItem("authUser.cid"),t=localStorage.getItem("authUser.level"),l='{"get":{"statistic":{"filter":{'.concat("super_super"===t?e.Login.Cid:'"cid":"'.concat(a,'"'),"}}}}"),c=j("/cmd",l),o=Object(d.a)(c,2),i=o[0],s=o[1],m=Object(n.useState)([]),u=Object(d.a)(m,2),p=u[0],g=u[1];return Object(n.useEffect)((function(){(null===s||void 0===s?void 0:s.response)&&g(s.response.statistic.obj)}),[s]),r.a.createElement(n.Fragment,null,r.a.createElement($.a,{gutter:24,style:{marginBottom:20}},r.a.createElement(ee.a,{xs:24,sm:24,md:24,lg:24},r.a.createElement(V,{StatisticLoading:i,PieData:p}))),r.a.createElement($.a,{gutter:24},r.a.createElement(ee.a,{xs:24,sm:24,md:24,lg:24},r.a.createElement(Q,null))))},te=function(){return r.a.createElement(ae,null)},ne=t(175),re=t(144),le=t(154),ce=t(675),oe=t(679),ie=t(678),se=t(688),me=t(132),ue=t(105),de=t(222),pe=t(673),ge=t(108),be=t(10),fe=t.n(be),ve=t(692),Ee=t(257),he=t(174),_e=t(676),ye=t(57),Ie=t(682),Se=t(686),Oe=t(115),je=t(46),Ne=Ee.a.TabPane,Ce=he.a.Option,we={labelCol:{span:9},wrapperCol:{span:11}},ke=r.a.memo((function(e){var a=e.IoTvisible,t=e.setIoTvisible,l=e.record,c=e.setRecord,o=Object(n.useContext)(h).dispatch,s=Object(i.g)(),m=Object(n.useState)(!1),u=Object(d.a)(m,2),p=u[0],g=u[1],b=ce.a.useForm(),v=Object(d.a)(b,1)[0],E=Object(n.useState)(null),_=Object(d.a)(E,2),y=_[0],I=_[1],O=Object(n.useState)(null),j=Object(d.a)(O,2),N=j[0],C=j[1],w=Object(n.useState)(!1),k=Object(d.a)(w,2),T=k[0],M=k[1],L=Object(n.useState)(!1),x=Object(d.a)(L,2),A=x[0],D=x[1],F=Object(n.useState)(0),G=Object(d.a)(F,2),R=G[0],U=G[1],P=Object(n.useState)(!1),V=Object(d.a)(P,2),z=V[0],q=V[1],W=Object(n.useState)("1"),H=Object(d.a)(W,2),J=H[0],K=H[1],Z=localStorage.getItem("authUser.level");Object(n.useEffect)((function(){if(l&&l.id){g(!0);var e=T?'/cmd?get={"device_cfg":{"filter":{"id":"'.concat(l.id,'"},"nodeInf":{},"obj":{"iot":{}}}}'):'/cmd?get={"device_iot":{"filter":{"id":"'.concat(l.id,'"}}}');console.log(e),f.a.post(e).then((function(e){if(console.log(e.data),!T&&e.data.response.device_iot[0]&&e.data.response.device_iot[0].obj.iot){console.log("\u6709data");var a=e.data.response.device_iot[0].obj.iot[R].data;D(!0),I(a),e.data.response.device_iot[0].obj.iot.forEach((function(e){var a=new Date(1e3*e.timestamp);e.timestamp="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate()," ").concat(a.getHours(),":").concat(a.getMinutes())})),C(e.data.response.device_iot[0].obj.iot),console.log(e.data.response.device_iot[0].obj.iot),v.setFieldsValue({battery_capacity_ah:a.eeprom.battery_capacity_ah,battery_type:a.eeprom.battery_type,charge_limit_voltage_v:a.eeprom.charge_limit_voltage_v,discharge_limit_voltage_v:a.eeprom.discharge_limit_voltage_v,equalizing_charge_interval_day:a.eeprom.equalizing_charge_interval_day,equalizing_charge_time_min:a.eeprom.equalizing_charge_time_min,equalizing_charge_voltage_v:a.eeprom.equalizing_charge_voltage_v,folating_charge_voltage_v:a.eeprom.folating_charge_voltage_v,low_voltage_warning_voltage_v:a.eeprom.low_voltage_warning_voltage_v,over_discharge_delay_s:a.eeprom.over_discharge_delay_s,over_discharge_reverse_voltage_v:a.eeprom.over_discharge_reverse_voltage_v,over_discharge_voltage_v:a.eeprom.over_discharge_voltage_v,overvoltage_voltage_v:a.eeprom.overvoltage_voltage_v,rasing_charge_reverse_voltage_v:a.eeprom.rasing_charge_reverse_voltage_v,rasing_charge_time_min:a.eeprom.rasing_charge_time_min,rasing_charge_voltage_v:a.eeprom.rasing_charge_voltage_v,recognized_voltage_v:a.eeprom.recognized_voltage_v,system_voltage_v:a.eeprom.system_voltage_v,temperature_coefficient:a.eeprom.temperature_coefficient})}else if(T&&e.data.response.device_cfg[0]&&e.data.response.device_cfg[0].obj.iot){console.log("\u6709data");var t=e.data.response.device_cfg[0].obj.iot[R].data;D(!0),I(t),e.data.response.device_cfg[0].obj.iot.forEach((function(e){var a=new Date(1e3*e.timestamp);e.timestamp="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate()," ").concat(a.getHours(),":").concat(a.getMinutes())})),C(e.data.response.device_cfg[0].obj.iot),console.log(e.data.response.device_cfg[0].obj.iot),v.setFieldsValue({battery_capacity_ah:t.eeprom.battery_capacity_ah,battery_type:t.eeprom.battery_type,charge_limit_voltage_v:t.eeprom.charge_limit_voltage_v,discharge_limit_voltage_v:t.eeprom.discharge_limit_voltage_v,equalizing_charge_interval_day:t.eeprom.equalizing_charge_interval_day,equalizing_charge_time_min:t.eeprom.equalizing_charge_time_min,equalizing_charge_voltage_v:t.eeprom.equalizing_charge_voltage_v,folating_charge_voltage_v:t.eeprom.folating_charge_voltage_v,low_voltage_warning_voltage_v:t.eeprom.low_voltage_warning_voltage_v,over_discharge_delay_s:t.eeprom.over_discharge_delay_s,over_discharge_reverse_voltage_v:t.eeprom.over_discharge_reverse_voltage_v,over_discharge_voltage_v:t.eeprom.over_discharge_voltage_v,overvoltage_voltage_v:t.eeprom.overvoltage_voltage_v,rasing_charge_reverse_voltage_v:t.eeprom.rasing_charge_reverse_voltage_v,rasing_charge_time_min:t.eeprom.rasing_charge_time_min,rasing_charge_voltage_v:t.eeprom.rasing_charge_voltage_v,recognized_voltage_v:t.eeprom.recognized_voltage_v,system_voltage_v:t.eeprom.system_voltage_v,temperature_coefficient:t.eeprom.temperature_coefficient})}else console.log("\u6c92data"),D(!1);g(!1)})).catch((function(e){console.log(e),g(!1),e.response&&401===e.response.status?(o({type:"setLogin",payload:{IsLogin:!1}}),S(),s.push("/userlogin")):s.push("/internalerror")}))}}),[l.id,T]);return r.a.createElement(_e.a,{visible:a,onCancel:function(){t(!1),I(null),M(!1),c({id:null}),D(!1)},centered:!0,destroyOnClose:!0,className:fe.a.modal,footer:["super_super"===Z&&"5"===J&&r.a.createElement(ye.a,{key:"Edit",onClick:function(){q(!z)}},"Edit"),r.a.createElement(ye.a,{key:"confirm",type:"primary",onClick:function(){t(!1),I(null),M(!1),c({id:null}),D(!1)}},"Confirm")]},y&&!p?r.a.createElement(n.Fragment,null,r.a.createElement(he.a,{value:N&&N[0].id,className:fe.a.FourEightFiveBar,onChange:function(e){console.log("selected ".concat(e)),U(e)}},N&&N.map((function(e,a){return r.a.createElement(Ce,{key:a,value:a},e.id," (",e.name,")")}))),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("p",null,"LastUpdate: ",N["".concat(R)].timestamp),r.a.createElement(ue.a,{title:"Re-get data from Device"},r.a.createElement(se.a,{title:"Will cause extra data usage, sure to refresh?",onConfirm:function(){M(!0),D(!1)}},r.a.createElement(je.r,{className:fe.a.Refresh})))),r.a.createElement(Ee.a,{defaultActiveKey:"1",onChange:function(e){K(e)}},r.a.createElement(Ne,{tab:"Today",key:"1",className:fe.a.tabpane},r.a.createElement(Ie.a,{bordered:!0,column:{xxl:3,xl:2,lg:2,md:2,sm:1,xs:1},className:fe.a.desc},r.a.createElement(Ie.a.Item,{label:"Battery Minimal Voltage",className:fe.a.descItem},y.controller.today.battery.min_voltage_v,"(V)"),r.a.createElement(Ie.a.Item,{label:"Battery Maximum Voltage",className:fe.a.descItem},y.controller.today.battery.max_voltage_v,"(V)"),r.a.createElement(Ie.a.Item,{label:"Charge Maximum Current",className:fe.a.descItem},y.controller.today.charge.max_current_a,"(A)"),r.a.createElement(Ie.a.Item,{label:"Charge AH",className:fe.a.descItem},y.controller.today.charge.ampere_hour_ah,"(A/H)"),r.a.createElement(Ie.a.Item,{label:"Charge Watt",className:fe.a.descItem},y.controller.today.charge.watt_w,"(W)"),r.a.createElement(Ie.a.Item,{label:"Charge Maximum Watt",className:fe.a.descItem},y.controller.today.charge.max_watt_w,"(W)"),r.a.createElement(Ie.a.Item,{label:"Charge Total Watt",className:fe.a.descItem},y.controller.today.charge.total_watt_w,"(W)"),r.a.createElement(Ie.a.Item,{label:"Discharge Maximum Current",className:fe.a.descItem},y.controller.today.discharge.max_current_a,"(A)"),r.a.createElement(Ie.a.Item,{label:"Discharge AH",className:fe.a.descItem},y.controller.today.discharge.ampere_hour_ah,"(A/H)"),r.a.createElement(Ie.a.Item,{label:"Discharge Watt",className:fe.a.descItem},y.controller.today.discharge.watt_w,"(W)"),r.a.createElement(Ie.a.Item,{label:"Discharge Maximum Watt",className:fe.a.descItem},y.controller.today.discharge.max_watt_w,"(W)"),r.a.createElement(Ie.a.Item,{label:"Discharge Total Watt",className:fe.a.descItem},y.controller.today.discharge.total_watt_w,"(W)"))),r.a.createElement(Ne,{tab:"Solar Pannel",key:"2",className:fe.a.tabpane},r.a.createElement(Ie.a,{bordered:!0,className:fe.a.desc,column:{xxl:2,xl:2,lg:2,md:2,sm:1,xs:1}},r.a.createElement(Ie.a.Item,{label:"Current"},y.controller.solar_pannel.current_a," (A)"),r.a.createElement(Ie.a.Item,{label:"Voltage"},y.controller.solar_pannel.voltage_v," (V)"),r.a.createElement(Ie.a.Item,{label:"Watt"},y.controller.solar_pannel.watt_w," (W)"),r.a.createElement(Ie.a.Item,{label:"Temperature"},y.controller.temperature_c,"(C)"))),r.a.createElement(Ne,{tab:"Battery",key:"3",className:fe.a.tabpane},r.a.createElement(Ie.a,{bordered:!0,className:fe.a.desc},r.a.createElement(Ie.a.Item,{label:"Charge Current"},y.controller.battery.charge_current_a," (A)"),r.a.createElement(Ie.a.Item,{label:"Full Charged Time"},y.controller.battery.full_charged_time),r.a.createElement(Ie.a.Item,{label:"Over Discharged Time"},y.controller.battery.over_discharged_time),r.a.createElement(Ie.a.Item,{label:"SOC"},y.controller.battery.soc_percentage," (%)"),r.a.createElement(Ie.a.Item,{label:"Temperature"},y.controller.battery.temperature_c," (C)"),r.a.createElement(Ie.a.Item,{label:"Total Charge"},y.controller.battery.total_charge_ah,"(A/H)"),r.a.createElement(Ie.a.Item,{label:"Total Discharge"},y.controller.battery.total_discharge_ah,"(A/H)"),r.a.createElement(Ie.a.Item,{label:"Voltage"},y.controller.battery.voltage_v," (V)"),r.a.createElement(Ie.a.Item,{label:"Charge State"},y.controller.charge_state))),r.a.createElement(Ne,{tab:"Load",key:"4",className:fe.a.tabpane},r.a.createElement(Ie.a,{bordered:!0,className:fe.a.desc,column:{xxl:2,xl:2,lg:2,md:2,sm:1,xs:1}},r.a.createElement(Ie.a.Item,{label:"Current"},y.controller.load.current_a," (A)"),r.a.createElement(Ie.a.Item,{label:"Voltage"},y.controller.load.voltage_v," (V)"),r.a.createElement(Ie.a.Item,{label:"Watt"},y.controller.load.watt_w," (W)"),r.a.createElement(Ie.a.Item,{label:"Load Light"},y.controller.load_light_percentage,"(%)"),r.a.createElement(Ie.a.Item,{label:"Load ON/OFF"},y.controller.load_on_off))),r.a.createElement(Ne,{tab:"eeprom",key:"5",className:fe.a.tabpane},r.a.createElement(ce.a,Object.assign({},we,{name:"nest-messages",onFinish:function(e){console.log(e)},form:v}),r.a.createElement(Ie.a,{bordered:!0,className:fe.a.desc,column:{xxl:3,xl:2,lg:2,md:2,sm:2,xs:1}},r.a.createElement(Ie.a.Item,{label:"Battery Capacity"},z?r.a.createElement(ce.a.Item,{name:"battery_capacity_ah"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.battery_capacity_ah," (AH)"),r.a.createElement(Ie.a.Item,{label:"Battery Type"},z?r.a.createElement(ce.a.Item,{name:"battery_type"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.battery_type),r.a.createElement(Ie.a.Item,{label:"Charge limit"},z?r.a.createElement(ce.a.Item,{name:"charge_limit_voltage_v"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.charge_limit_voltage_v," (V)"),r.a.createElement(Ie.a.Item,{label:"Discharge limit"},z?r.a.createElement(ce.a.Item,{name:"discharge_limit_voltage_v"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.discharge_limit_voltage_v," (V)"),r.a.createElement(Ie.a.Item,{label:"Equalizing Charge Interval"},z?r.a.createElement(ce.a.Item,{name:"equalizing_charge_interval_day"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.equalizing_charge_interval_day," (day)"),r.a.createElement(Ie.a.Item,{label:"Equalizing Charge time"},z?r.a.createElement(ce.a.Item,{name:"equalizing_charge_time_min"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.equalizing_charge_time_min," (min)"),r.a.createElement(Ie.a.Item,{label:"Equalizing Charge"},z?r.a.createElement(ce.a.Item,{name:"equalizing_charge_voltage_v"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.equalizing_charge_voltage_v," (V)"),r.a.createElement(Ie.a.Item,{label:"Folating Charge"},z?r.a.createElement(ce.a.Item,{name:"folating_charge_voltage_v"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.folating_charge_voltage_v," (V)"),r.a.createElement(Ie.a.Item,{label:"Low Voltage warning"},z?r.a.createElement(ce.a.Item,{name:"low_voltage_warning_voltage_v"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.low_voltage_warning_voltage_v," (V)"),r.a.createElement(Ie.a.Item,{label:"Over Discharge delay"},z?r.a.createElement(ce.a.Item,{name:"over_discharge_delay_s"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.over_discharge_delay_s," (s)"),r.a.createElement(Ie.a.Item,{label:"Over Discharge reverse"},z?r.a.createElement(ce.a.Item,{name:"over_discharge_reverse_voltage_v"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.over_discharge_reverse_voltage_v," (V)"),r.a.createElement(Ie.a.Item,{label:"Over Discharge"},z?r.a.createElement(ce.a.Item,{name:"over_discharge_voltage_v"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.over_discharge_voltage_v," (V)"),r.a.createElement(Ie.a.Item,{label:"Overvoltage"},z?r.a.createElement(ce.a.Item,{name:"overvoltage_voltage_v"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.overvoltage_voltage_v," (V)"),r.a.createElement(Ie.a.Item,{label:"Rasing Charge Reverse Voltage"},z?r.a.createElement(ce.a.Item,{name:"rasing_charge_reverse_voltage_v"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.rasing_charge_reverse_voltage_v," (V)"),r.a.createElement(Ie.a.Item,{label:"Rasing charge time"},z?r.a.createElement(ce.a.Item,{name:"rasing_charge_time_min"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.rasing_charge_time_min," (min)"),r.a.createElement(Ie.a.Item,{label:"Rasing charge"},z?r.a.createElement(ce.a.Item,{name:"rasing_charge_voltage_v"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.rasing_charge_voltage_v," (V)"),r.a.createElement(Ie.a.Item,{label:"Recognized Voltage"},z?r.a.createElement(ce.a.Item,{name:"recognized_voltage_v"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.recognized_voltage_v," (V)"),r.a.createElement(Ie.a.Item,{label:"System Voltage"},z?r.a.createElement(ce.a.Item,{name:"system_voltage_v"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.system_voltage_v," (V)"),r.a.createElement(Ie.a.Item,{label:"Temp Coefficient"},z?r.a.createElement(ce.a.Item,{name:"temperature_coefficient"},r.a.createElement(ie.a,{className:fe.a.IoTinput,disabled:!0})):y.eeprom.temperature_coefficient)))),r.a.createElement(Ne,{tab:"system",key:"6",className:fe.a.tabpane},r.a.createElement(Ie.a,{bordered:!0,className:fe.a.desc,column:{xxl:2,xl:2,lg:2,md:2,sm:1,xs:1}},r.a.createElement(Ie.a.Item,{label:"Charge Current"},y.system.charge_current_a," (A)"),r.a.createElement(Ie.a.Item,{label:"Discharge Current"},y.system.discharge_current_a," (A)"),r.a.createElement(Ie.a.Item,{label:"Voltage_max"},y.system.max_voltage_v," (V)"),r.a.createElement(Ie.a.Item,{label:"Hardware Version"},y.system.hardware_version),r.a.createElement(Ie.a.Item,{label:"Serial Number"},y.system.serial_number),r.a.createElement(Ie.a.Item,{label:"Software Version"},y.system.software_version))))):!A&&p?r.a.createElement(B.a,{tip:"Loading..."},r.a.createElement(Se.a,{message:"Getting Data",description:"We are now getting data from server, please wait for a few seconds"})):r.a.createElement(Oe.a,{description:r.a.createElement("span",null,"No Data")}))})),Te=t(172),Me=t(106),Le=Ee.a.TabPane,xe=r.a.memo((function(e){var a=e.setRecord,t=e.record,l=e.setAlarmTablevisible,c=e.AlarmTablevisible,o=Object(n.useState)([]),s=Object(d.a)(o,2),m=s[0],u=s[1],p=Object(n.useState)([]),g=Object(d.a)(p,2),b=g[0],v=g[1],E=Object(n.useState)(!1),_=Object(d.a)(E,2),y=_[0],I=_[1],O=Object(i.g)(),j=Object(n.useContext)(h).dispatch;Object(n.useEffect)((function(){if(t.id){I(!0);var e={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"get":{"alarm_log":{"filter":{"id":"'.concat(t.id,'"}}}}'))},a={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"get":{"current_alarm":{"filter":{"id": "'.concat(t.id,'"}}}}'))};f.a.all([f()(e),f()(a)]).then(f.a.spread((function(e,a){var t=[];e.data.response.alarm_log.list[0].alarm_list.forEach((function(e,a){e.key=a,t.push(e)})),u(t);var n=[];a.data.response.current_alarm.list[0].alarm_list.forEach((function(e,a){e.key=a,n.push(e)})),v(n),I(!1)}))).catch((function(e){e.response&&401===e.response.status&&(j({type:"setLogin",payload:{IsLogin:!1}}),S(),O.push("/userlogin")),console.error(e),I(!1)}))}}),[t.id]);var N=[{title:"Level",dataIndex:"level",key:"level"},{title:"Message",dataIndex:"message",key:"message"},{title:"TrigerTime",dataIndex:"trigger_time",key:"trigger_time",sorter:function(e,a){return e.trigger_time-a.trigger_time},render:function(e){var a=new Date(1e3*e);return"".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate()," ").concat(a.getHours(),":").concat(a.getMinutes())}},{title:"RecoverTime",dataIndex:"recover_time",key:"recover_time",render:function(e){var a=new Date(1e3*e);return"".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate()," ").concat(a.getHours(),":").concat(a.getMinutes())}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(_e.a,{visible:c,onCancel:function(){l(!1),a({cid:null})},centered:!0,className:fe.a.modal,destroyOnClose:!0,footer:[r.a.createElement(ye.a,{key:"confirm",type:"primary",onClick:function(){return l(!1)}},"Confirm")]},r.a.createElement(Ee.a,{defaultActiveKey:"Log"},r.a.createElement(Le,{tab:"Current",key:"Current",className:fe.a.tabpane},r.a.createElement(pe.a,{loading:y,className:fe.a.alarmtable,dataSource:b,columns:N,pagination:!0,scroll:{y:400},size:"middle"})),r.a.createElement(Le,{tab:"Log",key:"Log",className:fe.a.tabpane},r.a.createElement(pe.a,{loading:y,className:fe.a.alarmtable,dataSource:m,columns:N,pagination:!0,scroll:{y:400},size:"middle"})))))})),Ae=(t(628),r.a.memo((function(e){var a=e.DeviceIdentity;return a&&r.a.createElement(Ie.a,{bordered:!0,column:{xxl:3,xl:2,lg:2,md:2,sm:2,xs:1},className:fe.a.desc},r.a.createElement(Ie.a.Item,{label:"IMEI"},a.IMEI),r.a.createElement(Ie.a.Item,{label:"bootloader_version"},a.bootloader_version),r.a.createElement(Ie.a.Item,{label:"hardware_mcsv"},a.hardware_mcsv),r.a.createElement(Ie.a.Item,{label:"hostname"},a.hostname),r.a.createElement(Ie.a.Item,{label:"lan_eth_mac"},a.lan_eth_mac),r.a.createElement(Ie.a.Item,{label:"modem_firmware_version"},a.modem_firmware_version),r.a.createElement(Ie.a.Item,{label:"serial_number"},a.serial_number),r.a.createElement(Ie.a.Item,{label:"wan_eth_mac"},a.wan_eth_mac),r.a.createElement(Ie.a.Item,{label:"wifi_ap_mac"},a.wifi_ap_mac))}))),De=r.a.memo((function(e){var a=e.DeviceStatus.status.sim[0];return console.log(a.roaming),r.a.createElement("div",null,r.a.createElement(Ie.a,{column:{xxl:3,xl:2,lg:2,md:2,sm:2,xs:1},bordered:!0,className:fe.a.desc},r.a.createElement(Ie.a.Item,{label:"EARFCN"},a.EARFCN),r.a.createElement(Ie.a.Item,{label:"IMSI"},a.IMSI),r.a.createElement(Ie.a.Item,{label:"PLMN"},a.PLMN),r.a.createElement(Ie.a.Item,{label:"access"},a.access),r.a.createElement(Ie.a.Item,{label:"active"},"".concat(a.active)),r.a.createElement(Ie.a.Item,{label:"band"},a.band),r.a.createElement(Ie.a.Item,{label:"operator"},a.operator),r.a.createElement(Ie.a.Item,{label:"phone_number"},a.phone_number),r.a.createElement(Ie.a.Item,{label:"roaming"},"".concat(a.roaming)),r.a.createElement(Ie.a.Item,{label:"rssi_dbm"},a.rssi_dbm),r.a.createElement(Ie.a.Item,{label:"status"},a.status)))})),Fe=r.a.memo((function(e){var a=e.DeviceStatus.status.gps;return r.a.createElement("div",null,r.a.createElement(Ie.a,{bordered:!0,className:fe.a.desc,column:{xxl:3,xl:2,lg:2,md:2,sm:2,xs:1}},r.a.createElement(Ie.a.Item,{label:"altitude"},a.altitude),r.a.createElement(Ie.a.Item,{label:"date"},a.date),r.a.createElement(Ie.a.Item,{label:"horizontal"},a.horizontal),r.a.createElement(Ie.a.Item,{label:"latitude"},a.latitude),r.a.createElement(Ie.a.Item,{label:"longitude"},a.longitude),r.a.createElement(Ie.a.Item,{label:"satellite"},a.satellite),r.a.createElement(Ie.a.Item,{label:"utc-time"},a["utc-time"])))})),Ge=r.a.memo((function(e){var a=e.DeviceStatus.status.dns;return r.a.createElement("div",null,r.a.createElement(Ie.a,{bordered:!0,className:fe.a.desc,column:{xxl:3,xl:2,lg:2,md:2,sm:2,xs:1}},r.a.createElement(Ie.a.Item,{label:"wan_ip4"},a.wan[0].ipv4[0]),r.a.createElement(Ie.a.Item,{label:"wan_ip4"},a.wan[0].ipv4[1]),r.a.createElement(Ie.a.Item,{label:"wan_ip4"},a.wan[0].ipv4[2]),r.a.createElement(Ie.a.Item,{label:"wan_ip6"},a.wan[0].ipv6[0]),r.a.createElement(Ie.a.Item,{label:"wan_ip6"},a.wan[0].ipv6[1]),r.a.createElement(Ie.a.Item,{label:"wan_ip6"},a.wan[0].ipv6[2])))})),Re=r.a.memo((function(e){var a=e.DeviceStatus.status.connection;return r.a.createElement(Ie.a,{bordered:!0,className:[fe.a.desc,fe.a["override-ant-descriptions-view"]],column:{xxl:3,xl:2,lg:2,md:2,sm:2,xs:1}},r.a.createElement(Ie.a.Item,{label:"LAN_ip4_adress"},a.lan.ipv4.adress),r.a.createElement(Ie.a.Item,{label:"LAN_ip4_netmask"},a.lan.ipv4.netmask),r.a.createElement(Ie.a.Item,{label:"LAN_ip6_adress"},a.lan.ipv6.address),r.a.createElement(Ie.a.Item,{label:"LAN_ip6_up_time"},a.lan.ipv6.uptime," "),r.a.createElement(Ie.a.Item,{label:"LTE_active"},a.lte.active),r.a.createElement(Ie.a.Item,{label:"LTE_ip4_apn_address"},a.lte.apn[0].ipv4.address),r.a.createElement(Ie.a.Item,{label:"LTE_ip4_apn_gateway"},a.lte.apn[0].ipv4.gateway),r.a.createElement(Ie.a.Item,{label:"LTE_ip4_apn_netmask"},a.lte.apn[0].ipv4.netmask),r.a.createElement(Ie.a.Item,{label:"LTE_ip4_apn_uptime"},a.lte.apn[0].ipv4.uptime),r.a.createElement(Ie.a.Item,{label:"LTE_ip4_address"},a.lte.ipv4.address),r.a.createElement(Ie.a.Item,{label:"LTE_ip4_gateway"},a.lte.ipv4.gateway),r.a.createElement(Ie.a.Item,{label:"LTE_ip4_netmask"},a.lte.ipv4.netmask),r.a.createElement(Ie.a.Item,{label:"LTE_ip4_uptime"},a.lte.ipv4.uptime),r.a.createElement(Ie.a.Item,{label:"WAN_active"},a.wan.active),r.a.createElement(Ie.a.Item,{label:"WAN_ip4_address"},a.wan.ipv4.address),r.a.createElement(Ie.a.Item,{label:"WAN_ip4_gateway"},a.wan.ipv4.gateway),r.a.createElement(Ie.a.Item,{label:"WAN_ip4_netmask"},a.wan.ipv4.netmask," "),r.a.createElement(Ie.a.Item,{label:"WAN_ip4_up_time"},a.wan.ipv4.uptime," "),r.a.createElement(Ie.a.Item,{label:"WWAN_active"},a.wwan.active),r.a.createElement(Ie.a.Item,{label:"WWAN_ip4_MAC"},a.wwan.ipv4.MAC),r.a.createElement(Ie.a.Item,{label:"WWAN_ip4_SSID"},a.wwan.ipv4.SSID),r.a.createElement(Ie.a.Item,{label:"WWAN_ip4_address"},a.wwan.ipv4.address," "),r.a.createElement(Ie.a.Item,{label:"WWAN_ip4_channel"},a.wwan.ipv4.channel," "),r.a.createElement(Ie.a.Item,{label:"WWAN_ip4_gateway"},a.wwan.ipv4.gateway," "),r.a.createElement(Ie.a.Item,{label:"WWAN_ip4_netmask"},a.wwan.ipv4.netmask," "),r.a.createElement(Ie.a.Item,{label:"WWAN_ip4_up_time"},a.wwan.ipv4.uptime," "))})),Ue=r.a.memo((function(e){var a=e.DeviceStatus.status.statistic;return r.a.createElement(C.a,{echarts:k.a,option:{title:{show:!0,text:"DataUsage",textStyle:{fontWeight:"bold",fontFamily:"sans-serif"},right:"auto",left:"auto"},legend:{show:!0,right:"10%"},tooltip:{},dataset:{source:[["product","tx","rx"],["LTE",a.lte.tx_kbytes,a.lte.rx_kbytes],["WAN",a.wan.tx_kbytes,a.wan.rx_kbytes],["LAN",a.lan.tx_kbytes,a.lan.rx_kbytes]]},xAxis:{type:"category"},yAxis:{},series:[{type:"bar"},{type:"bar"}]},notMerge:!0,lazyUpdate:!0,theme:"theme_name",className:fe.a.echartBar})})),Pe=Ee.a.TabPane,Be=r.a.memo((function(e){var a=e.record,t=e.setDeviceStatevisible,l=e.DeviceStatevisible,c=e.setRecord,o=Object(n.useState)([]),s=Object(d.a)(o,2),m=s[0],u=s[1],p=Object(n.useState)(!1),g=Object(d.a)(p,2),b=g[0],v=g[1],E=Object(n.useState)([]),_=Object(d.a)(E,2),y=_[0],I=_[1],O=Object(i.g)(),j=Object(n.useContext)(h).dispatch;return Object(n.useEffect)((function(){if(a.id){v(!0);var e={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"get":{"device_status":{"filter":{"id":"'.concat(a.id,'"},"nodeInf":{},"obj":{}}}}'))},t={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"get":{"device_identity":{"filter":{"id":"'.concat(a.id,'"},"nodeInf":{},"obj":{}}}}'))};f.a.all([f()(e),f()(t)]).then(f.a.spread((function(e,a){u(e.data.response.device_status[0].obj),I(a.data.response.device_identity[0].obj.identity),v(!1)}))).catch((function(e){console.error(e),v(!1),401===e.response.status&&(j({type:"setLogin",payload:{IsLogin:!1}}),S(),O.push("/userlogin"))}))}}),[a.id]),r.a.createElement(_e.a,{visible:l,onCancel:function(){t(!1),c({id:null})},destroyOnClose:!0,className:fe.a.modal,footer:[r.a.createElement(ye.a,{key:"confirm",type:"primary",onClick:function(){return t(!1)}},"Confirm")]},m.status&&!b?r.a.createElement(Ee.a,{defaultActiveKey:"1",className:fe.a.Tabs},r.a.createElement(Pe,{tab:"Statistic",key:"1",className:fe.a.tabpane},r.a.createElement(Ue,{uploading:b,DeviceStatus:m})),r.a.createElement(Pe,{tab:"Connection",key:"2",className:fe.a.tabpane},r.a.createElement(Re,{uploading:b,DeviceStatus:m,className:fe.a.connection})),r.a.createElement(Pe,{tab:"Strength",key:"3",className:fe.a.tabpane},r.a.createElement(De,{uploading:b,DeviceStatus:m})),r.a.createElement(Pe,{tab:"GPS",key:"4",className:fe.a.tabpane},r.a.createElement(Fe,{uploading:b,DeviceStatus:m})),r.a.createElement(Pe,{tab:"DNS",key:"5",className:fe.a.tabpane},r.a.createElement(Ge,{uploading:b,DeviceStatus:m})),r.a.createElement(Pe,{tab:"Identity",key:"6",className:fe.a.tabpane},r.a.createElement(Ae,{DeviceIdentity:y,uploading:b}))):r.a.createElement(B.a,{tip:"Loading..."},r.a.createElement(Se.a,{message:"Getting Data",description:"We are now getting data from server, please wait for a few seconds"})))})),Ve=t(689),ze=t(220),qe={labelCol:{span:8},wrapperCol:{span:12}},We=r.a.memo((function(e){var a=e.DeviceConfig,t=e.id,l=e.setIsUpdate,c=e.IsUpdate,o=e.form,s=e.setUploading,m=Object(i.g)(),u=a.lan,d=Object(n.useContext)(h).dispatch;return Object(n.useEffect)((function(){u.ipv4&&(console.log(a),o.setFieldsValue({ipv4_address:u.ipv4.address,ipv4_netmask:u.ipv4.netmask,ipv4_dhcpmode:u.ipv4.dhcp.mode,ipv4_dhcp_start:u.ipv4.dhcp.pool[0].start,ipv4_dhcp_end:u.ipv4.dhcp.pool[0].end,ipv6_type:u.ipv6.type,ipv6_adress:u.ipv6.static.address,ipv6_assignment:u.ipv6.dhcp.assigment}))}),[u.ipv4]),r.a.createElement(ce.a,Object.assign({},qe,{onFinish:function(e){s(!0);var a={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"set":{"device_cfg":{"filter":{"id":"'.concat(t,'"},"nodeInf":{},"obj":{"lan":{"ipv4":{"address":"').concat(e.ipv4_address,'","netmask":"').concat(e.ipv4_netmask,'","dhcp":{"mode":"').concat(e.ipv4_dhcpmode,'","pool":[{"start":"').concat(e.ipv4_dhcp_start,'","end":"').concat(e.ipv4_dhcp_end,'","fixed_ip":[]}]}},"ipv6":{"type":"').concat(e.ipv6_type,'","static":{"address":"').concat(e.ipv6_adress,'"},"dhcp":{"assigment":"').concat(e.ipv6_assignment,'"}}}}}}}'))};f()(a).then((function(e){console.log(e),s(!1),l(!c),oe.b.success("update successfully.")})).catch((function(e){console.log(e),s(!1),oe.b.error("update fail."),e.response&&401===e.response.status&&(d({type:"setLogin",payload:{IsLogin:!1}}),S(),m.push("/userlogin"))}))},form:o}),r.a.createElement(ce.a.Item,{name:"ipv4_address",label:"ipv4_address",rules:[{required:!0}]},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"ipv4_netmask",label:"ipv4_netmask",rules:[{required:!0}]},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"ipv4_dhcpmode",label:"ipv4_dhcpmode",valuePropName:"checked",rules:[{required:!0}]},r.a.createElement(Ve.a,{defaultChecked:!0})),r.a.createElement(ce.a.Item,{name:"ipv4_dhcp_start",label:"ipv4_dhcp_start",rules:[{required:!0}]},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"ipv4_dhcp_end",label:"ipv4_dhcp_end",rules:[{required:!0}]},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"ipv6_type",label:"ipv6_type",rules:[{required:!0}]},r.a.createElement(ze.a.Group,null,r.a.createElement(ze.a,{value:"delegate-prefix-from-wan"},"delegate-prefix-from-wan"),r.a.createElement(ze.a,{value:"static"},"static"))),r.a.createElement(ce.a.Item,{name:"ipv6_adress",label:"ipv6_adress"},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"ipv6_assignment",label:"ipv6_assignment",rules:[{required:!0}]},r.a.createElement(ze.a.Group,null,r.a.createElement(ze.a,{value:"stateful"},"stateful"),r.a.createElement(ze.a,{value:"stateless"},"stateless"))))})),He=r.a.memo((function(e){var a=e.DeviceConfig,t=e.id,l=e.setIsUpdate,c=e.IsUpdate,o=e.form,s=e.setUploading,m=Object(n.useContext)(h).dispatch,u=Object(i.g)(),d=a.wan;return Object(n.useEffect)((function(){d.ethernet&&o.setFieldsValue({ipv4_type_1:d.ethernet.dhcp.dns.ipv4[0].type,ipv4_address_1:d.ethernet.dhcp.dns.ipv4[0].address,ipv4_type_2:d.ethernet.dhcp.dns.ipv4[1].type,ipv4_address_2:d.ethernet.dhcp.dns.ipv4[1].address,ipv4_type_3:d.ethernet.dhcp.dns.ipv4[2].type,ipv4_address_3:d.ethernet.dhcp.dns.ipv4[2].address,username:d.ethernet.pppoe.username,password:d.ethernet.pppoe.password,service_name:d.ethernet.pppoe.service_name,priority_1:d.priority.order[0],priority_2:d.priority.order[1],priority_3:d.priority.order[2],lte_mode:d.priority.lte.mode,ethernet_type:d.ethernet.type,static_ipv4_address:d.ethernet.static.ipv4.address,static_ipv4_dns_address1:d.ethernet.static.ipv4.dns[0].address,static_ipv4_dns_address2:d.ethernet.static.ipv4.dns[1].address,static_ipv4_dns_address3:d.ethernet.static.ipv4.dns[2].address,static_gateway:d.ethernet.static.ipv4.gateway,static_netmask:d.ethernet.static.ipv4.netmask})}),[d.ethernet]),r.a.createElement(ce.a,Object.assign({},qe,{onFinish:function(e){s(!0);var a={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"set":{"device_cfg":{"filter":{"id":"'.concat(t,'"},"nodeInf":{},"obj":{"wan":{"priority":{"order":["').concat(e.priority_1,'","').concat(e.priority_2,'","').concat(e.priority_3,'"],"lte":{"mode":"').concat(e.lte_mode,'"}},"ethernet":{"type":"').concat(e.ethernet_type,'","dhcp":{"dns":{"ipv4":[{"type":"').concat(e.ipv4_type_1,'","address":"').concat(e.ipv4_address_1,'"},{"type":"').concat(e.ipv4_type_2,'","address":"').concat(e.ipv4_address_3,'"},{"type":"').concat(e.ipv4_type_3,'","address":"').concat(e.ipv4_address_2,'"}]}},"pppoe":{"username":"').concat(e.username,'","password":"********","service_name":"').concat(e.service_name,'"},"static":{"ipv4":{"address":"').concat(e.static_ipv4_address,'","netmask":"').concat(e.static_netmask,'","gateway":"').concat(e.static_gateway,'","dns":[{"address":"').concat(e.static_ipv4_dns_address1,'"},{"address":"').concat(e.static_ipv4_dns_address2,'"},{"address":"').concat(e.static_ipv4_dns_address3,'"}]}}}}}}}}'))};f()(a).then((function(e){console.log(e),s(!1),l(!c),oe.b.success("update successfully.")})).catch((function(e){console.log(e),e.response&&401===e.response.status&&(m({type:"setLogin",payload:{IsLogin:!1}}),S(),u.push("/userlogin")),s(!1),oe.b.error("update fail.")}))},form:o}),r.a.createElement(ce.a.Item,{label:"Ethernet dhcp dns"},r.a.createElement(ie.a.Group,{compact:!0},r.a.createElement(ce.a.Item,{name:"ipv4_type_1"},r.a.createElement(ze.a.Group,null,r.a.createElement(ze.a,{value:"ISP"},"ISP"),r.a.createElement(ze.a,{value:"manual"},"Manual"),r.a.createElement(ze.a,{value:"nonec"},"none"))),r.a.createElement(ce.a.Item,{name:"ipv4_address_1",noStyle:!0},r.a.createElement(ie.a,{placeholder:"Input adress"}))),r.a.createElement(ie.a.Group,{compact:!0},r.a.createElement(ce.a.Item,{name:"ipv4_type_2"},r.a.createElement(ze.a.Group,null,r.a.createElement(ze.a,{value:"ISP"},"ISP"),r.a.createElement(ze.a,{value:"manual"},"Manual"),r.a.createElement(ze.a,{value:"nonec"},"none"))),r.a.createElement(ce.a.Item,{name:"ipv4_address_2",noStyle:!0},r.a.createElement(ie.a,{placeholder:"Input adress"}))),r.a.createElement(ie.a.Group,{compact:!0},r.a.createElement(ce.a.Item,{name:"ipv4_type_3"},r.a.createElement(ze.a.Group,null,r.a.createElement(ze.a,{value:"ISP"},"ISP"),r.a.createElement(ze.a,{value:"manual"},"Manual"),r.a.createElement(ze.a,{value:"nonec"},"none"))),r.a.createElement(ce.a.Item,{name:"ipv4_address_3",noStyle:!0},r.a.createElement(ie.a,{placeholder:"Input adress"})))),r.a.createElement(ce.a.Item,{name:"username",label:"username"},r.a.createElement(ie.a,{placeholder:"Input username"})),r.a.createElement(ce.a.Item,{name:"password",label:"password"},r.a.createElement(ie.a,{placeholder:"Input password"})),r.a.createElement(ce.a.Item,{name:"service_name",label:"service_name"},r.a.createElement(ie.a,{placeholder:"Input service_name"})),r.a.createElement(ce.a.Item,{label:"Priority Order"},r.a.createElement(ie.a.Group,{compact:!0},r.a.createElement(ce.a.Item,{name:"priority_1",noStyle:!0},r.a.createElement(ze.a.Group,null,r.a.createElement(ze.a,{value:"lte"},"lte"),r.a.createElement(ze.a,{value:"eth"},"eth"),r.a.createElement(ze.a,{value:"wifi-2.4G"},"wifi-2.4G"))),r.a.createElement(ce.a.Item,{name:"priority_2",noStyle:!0},r.a.createElement(ze.a.Group,null,r.a.createElement(ze.a,{value:"lte"},"lte"),r.a.createElement(ze.a,{value:"eth"},"eth"),r.a.createElement(ze.a,{value:"wifi-2.4G"},"wifi-2.4G"))),r.a.createElement(ce.a.Item,{name:"priority_3",noStyle:!0},r.a.createElement(ze.a.Group,null,r.a.createElement(ze.a,{value:"lte"},"lte"),r.a.createElement(ze.a,{value:"eth"},"eth"),r.a.createElement(ze.a,{value:"wifi-2.4G"},"wifi-2.4G"))))),r.a.createElement(ce.a.Item,{name:"lte_mode",label:"LTE Mode"},r.a.createElement(ze.a.Group,null,r.a.createElement(ze.a,{value:"bridge"},"bridge"),r.a.createElement(ze.a,{value:"router"},"router"))),r.a.createElement(ce.a.Item,{name:"ethernet_type",label:"Ethernet Type"},r.a.createElement(ze.a.Group,null,r.a.createElement(ze.a,{value:"dhcp"},"dhcp"),r.a.createElement(ze.a,{value:"pppoe"},"pppoe"),r.a.createElement(ze.a,{value:"static"},"static"))),r.a.createElement(ce.a.Item,{name:"static_ipv4_address",label:"static_ipv4_address"},r.a.createElement(ie.a,{placeholder:"Input adress"})),r.a.createElement(ce.a.Item,{name:"static_ipv4_dns_address1",label:"static_dns_address"},r.a.createElement(ie.a,{placeholder:"Input dns adress"})),r.a.createElement(ce.a.Item,{name:"static_ipv4_dns_address2",label:"static_dns_address"},r.a.createElement(ie.a,{placeholder:"Input dns adress"})),r.a.createElement(ce.a.Item,{name:"static_ipv4_dns_address3",label:"static_dns_address"},r.a.createElement(ie.a,{placeholder:"Input dns adress"})),r.a.createElement(ce.a.Item,{name:"static_gateway",label:"static_gateway"},r.a.createElement(ie.a,{placeholder:"Input gateway"})),r.a.createElement(ce.a.Item,{name:"static_netmask",label:"static_netmask"},r.a.createElement(ie.a,{placeholder:"Input netmask"})))})),Je=r.a.memo((function(e){var a=e.DeviceConfig,t=e.id,l=e.setIsUpdate,c=e.IsUpdate,o=e.form,s=e.setUploading,m=Object(n.useContext)(h).dispatch,u=Object(i.g)(),d=a.lte;Object(n.useEffect)((function(){d&&o.setFieldsValue({mode:d.config.mode,mtu:d.config.mtu,pin:d.sim[0].pin,puk:d.sim[0].puk,pin_enabled:d.sim[0].pin_enabled,apn:d.sim[0].apn[0].apn,ipv6_enabled:d.sim[0].apn[0].ipv6_enabled,auth:d.sim[0].apn[0].auth.type,username:d.sim[0].apn[0].auth.username,password:d.sim[0].apn[0].auth.password,limit_mbyte:d.limit[0].limit_mbyte,limit_enabled:d.limit[0].enabled,reset_day:d.limit[0].reset.day,reset_hour:d.limit[0].reset.hour,reset_minute:d.limit[0].reset.minute,reset_second:d.limit[0].reset.second,roaming:d.policy.roaming,recovery_down_time:d.policy.recovery.down_times,recovery_apn_enabled:d.policy.recovery.recover_apn.enabled,recovery_apn_action:d.policy.recovery.recover_apn.action})}),[d]);function p(e){console.log("switch to ".concat(e))}return r.a.createElement(ce.a,Object.assign({},qe,{onFinish:function(e){s(!0);var a={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"set":{"device_cfg":{"filter":{"id":"'.concat(t,'"},"nodeInf":{},"obj":{"lte":{"config":{"mode":"').concat(e.mode,'","mtu":').concat(e.mtu,'},"sim":[{"pin":"').concat(e.pin,'","puk":"').concat(e.puk,'","pin_enabled":').concat(e.pin_enabled,',"apn":[{"apn":"').concat(e.apn,'","ipv6_enabled":').concat(e.ipv6_enabled,',"auth":{"type":"').concat(e.auth,'","username":"').concat(e.username,'","password":"').concat(e.password,'"}}]}],"limit":[{"enabled":').concat(e.limit_enabled,',"limit_mbyte":').concat(e.limit_mbyte,',"reset":{"day":').concat(e.reset_day,',"hour":').concat(e.reset_hour,',"minute":').concat(e.reset_minute,',"second":').concat(e.reset_second,'}}],"policy":{"roaming":').concat(e.roaming,',"recovery":{"down_times":').concat(e.recovery_down_time,',"recover_apn":{"enabled":').concat(e.recovery_apn_enabled,',"action":"').concat(e.recovery_apn_action,'"}}}}}}}}'))};f()(a).then((function(e){console.log(e),s(!1),l(!c),oe.b.success("update successfully.")})).catch((function(e){console.log(e),e.response&&401===e.response.status&&(m({type:"setLogin",payload:{IsLogin:!1}}),S(),u.push("/userlogin")),s(!1),oe.b.error("update fail.")}))},form:o}),r.a.createElement(ce.a.Item,{name:"mode",label:"Mode"},r.a.createElement(ze.a.Group,null,r.a.createElement(ze.a,{value:"auto"},"Auto"),r.a.createElement(ze.a,{value:"2G-only"},"2G-only"),r.a.createElement(ze.a,{value:"3G-only"},"3G-only"),r.a.createElement(ze.a,{value:"4G-only"},"4G-only"))),r.a.createElement(ce.a.Item,{name:"mtu",label:"mtu"},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"pin",label:"pin"},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"puk",label:"puk"},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{valuePropName:"checked",name:"pin_enabled",label:"pin enabled"},r.a.createElement(Ve.a,{defaultChecked:!0,onChange:function(e){console.log("switch to ".concat(e))}})),r.a.createElement(ce.a.Item,{name:"apn",label:"apn"},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{valuePropName:"checked",name:"ipv6_enabled",label:"ipv6 enabled"},r.a.createElement(Ve.a,{defaultChecked:!0,onChange:p})),r.a.createElement(ce.a.Item,{name:"auth",label:"Auth Type"},r.a.createElement(ze.a.Group,null,r.a.createElement(ze.a,{value:"none"},"none"),r.a.createElement(ze.a,{value:"pap"},"pap"),r.a.createElement(ze.a,{value:"chap"},"chap"))),r.a.createElement(ce.a.Item,{name:"username",label:"Auth_UserName"},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"password",label:"Auth_Password"},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{valuePropName:"checked",name:"limit_enabled",label:"limit enabled"},r.a.createElement(Ve.a,{onChange:p})),r.a.createElement(ce.a.Item,{name:"limit_mbyte",label:"Mbyte"},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"reset_day",label:"Reset Day"},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"reset_hour",label:"Reset Hour"},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"reset_minute",label:"Reset Minute"},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"reset_second",label:"Reset Second"},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{valuePropName:"checked",name:"roaming",label:"Roaming"},r.a.createElement(Ve.a,{onChange:function(e){console.log("switch to ".concat(e))}})),r.a.createElement(ce.a.Item,{name:"recovery_down_time",label:"Recovery DownTimes"},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{valuePropName:"checked",name:"recovery_apn_enabled",label:"Recovery apn"},r.a.createElement(Ve.a,{onChange:function(e){console.log("switch to ".concat(e))}})),r.a.createElement(ce.a.Item,{name:"recovery_apn_action",label:"Recovery apn action"},r.a.createElement(ze.a.Group,null,r.a.createElement(ze.a,{value:"reboot"},"reboot"),r.a.createElement(ze.a,{value:"default-apn"},"default-apn"),r.a.createElement(ze.a,{value:"previous-apn"},"previous-apn"))))})),Ke=r.a.memo((function(e){var a=e.DeviceConfig,t=e.id,l=e.setIsUpdate,c=e.IsUpdate,o=e.form,s=e.setUploading,m=Object(n.useContext)(h).dispatch,u=Object(i.g)(),d=a.report_period;Object(n.useEffect)((function(){d&&o.setFieldsValue({alive:d.alive,gps:d.gps,iot:d.iot,status:d.status,timeout:d.timeout})}),[d]);return r.a.createElement(ce.a,Object.assign({},qe,{onFinish:function(e){s(!0);var a={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"set":{"device_cfg":{"filter":{"id":"'.concat(t,'"},"obj":{"report_period":{"alive":').concat(e.alive,',"timeout":').concat(e.timeout,',\n      "status":').concat(e.status,',"iot":').concat(e.iot,',"gps":').concat(e.gps,"}}}}}"))};f()(a).then((function(e){console.log(e),s(!1),l(!c),oe.b.success("update successfully.")})).catch((function(e){e.response&&401===e.response.status&&(m({type:"setLogin",payload:{IsLogin:!1}}),S(),u.push("/userlogin")),console.log(e),s(!1),oe.b.error("update fail.")}))},form:o}),r.a.createElement($.a,{gutter:24},r.a.createElement(ee.a,{xs:10,sm:10,md:10,lg:8,xl:8},r.a.createElement(ce.a.Item,{name:"alive",label:"Alive"},r.a.createElement(ie.a,null))),r.a.createElement(ee.a,{xs:10,sm:10,md:10,lg:8,xl:8},r.a.createElement(ce.a.Item,{name:"status",label:"Status"},r.a.createElement(ie.a,null))),r.a.createElement(ee.a,{xs:10,sm:10,md:10,lg:8,xl:8},r.a.createElement(ce.a.Item,{name:"iot",label:"IoT"},r.a.createElement(ie.a,null))),r.a.createElement(ee.a,{xs:10,sm:10,md:10,lg:8,xl:8},r.a.createElement(ce.a.Item,{name:"gps",label:"GPS"},r.a.createElement(ie.a,null))),r.a.createElement(ee.a,{xs:10,sm:10,md:10,lg:8,xl:8},r.a.createElement(ce.a.Item,{name:"timeout",label:"Timeout"},r.a.createElement(ie.a,null)))))})),Ze=Ee.a.TabPane,Ye=r.a.memo((function(e){var a=e.DeviceSettingvisible,t=e.setDeviceSettingvisible,l=e.record,c=e.setRecord,o=Object(n.useContext)(h).dispatch,s=Object(i.g)(),m=Object(n.useState)(null),u=Object(d.a)(m,2),p=u[0],g=u[1],b=Object(n.useState)(!1),v=Object(d.a)(b,2),E=v[0],_=v[1],y=Object(n.useState)(!1),I=Object(d.a)(y,2),O=I[0],j=I[1],N=Object(n.useState)(!1),C=Object(d.a)(N,2),w=C[0],k=C[1],T=Object(n.useState)(!1),M=Object(d.a)(T,2),L=M[0],x=M[1],A=Object(n.useState)("1"),D=Object(d.a)(A,2),F=D[0],G=D[1],R=ce.a.useForm(),U=Object(d.a)(R,1)[0],P=ce.a.useForm(),V=Object(d.a)(P,1)[0],z=ce.a.useForm(),q=Object(d.a)(z,1)[0],W=ce.a.useForm(),H=Object(d.a)(W,1)[0];Object(n.useEffect)((function(){if(l.id){k(!1),_(!0);var e={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"get":{"device_cfg":{"filter":{"id":"'.concat(l.id,'"},"nodeInf":{},"obj":{"report_period":{},"lan":{},"wan":{},"lte":{}}}}}'))};f()(e).then((function(e){"No Response!"!==e.data.response.device_cfg[0].obj?(g(e.data.response.device_cfg[0].obj),k(!0)):k(!1),_(!1)})).catch((function(e){console.log(e),_(!1),401===e.response.status&&(o({type:"setLogin",payload:{IsLogin:!1}}),S(),s.push("/userlogin"))}))}}),[l.id,L]);return r.a.createElement(_e.a,{visible:a,onOk:function(){return t(!1)},onCancel:function(){t(!1),c({id:null})},destroyOnClose:!0,className:fe.a.modal,centered:!0,width:"50%",footer:["1"===F&&r.a.createElement(ye.a,{key:"LANform",type:"primary",onClick:function(){return U.submit()},loading:O},"Submit"),"2"===F&&r.a.createElement(ye.a,{key:"WANform",type:"primary",onClick:function(){return V.submit()},loading:O},"Submit"),"3"===F&&r.a.createElement(ye.a,{key:"LTEform",type:"primary",onClick:function(){return q.submit()},loading:O},"Submit"),"4"===F&&r.a.createElement(ye.a,{key:"PERIODform",type:"primary",onClick:function(){return H.submit()},loading:O},"Submit")]},p&&!E?r.a.createElement(Ee.a,{defaultActiveKey:"1",onChange:function(e){G(e)}},r.a.createElement(Ze,{tab:"LAN",key:"1",className:fe.a.tabpane},r.a.createElement(We,{setIsUpdate:x,IsUpdate:L,DeviceConfig:p,id:l.id,form:U,uploading:O,setUploading:j})),r.a.createElement(Ze,{tab:"WAN",key:"2",className:fe.a.tabpane},r.a.createElement(He,{setIsUpdate:x,IsUpdate:L,DeviceConfig:p,id:l.id,form:V,uploading:O,setUploading:j})),r.a.createElement(Ze,{tab:"LTE",key:"3",className:fe.a.tabpane},r.a.createElement(Je,{id:l.id,setIsUpdate:x,IsUpdate:L,DeviceConfig:p,form:q,uploading:O,setUploading:j})),r.a.createElement(Ze,{tab:"Period",key:"4",className:fe.a.tabpane},r.a.createElement(Ke,{id:l.id,setIsUpdate:x,IsUpdate:L,DeviceConfig:p,form:H,uploading:O,setUploading:j}))):!w&&E?r.a.createElement(B.a,{tip:"Loading..."},r.a.createElement(Se.a,{message:"Getting Data",description:"We are now getting data from server, please wait for a few seconds"})):r.a.createElement(Oe.a,{description:r.a.createElement("span",null,"No Data")}))})),Xe=t(113),Qe=t(152);var $e=t(372),ea=he.a.Option,aa=r.a.memo((function(e){var a=e.setDataSource,t=e.dataSource,l=e.uploading,c=ce.a.useForm(),o=Object(d.a)(c,1)[0],i=Object(n.useContext)(h),s=i.state,m=i.dispatch,u=Object(n.useState)([]),p=Object(d.a)(u,2),g=p[0],b=p[1],f=Object(n.useState)(""),v=Object(d.a)(f,2),E=v[0],_=v[1],y=Object(n.useRef)(0);Object(n.useEffect)((function(){(0===y.current||l)&&(b(t),o.setFieldsValue({device:[],model:[],health:[],strength:[]}))}),[y.current,t,l]),Object(n.useEffect)((function(){y.current=0}),[s.Login.Cid]);Object(n.useEffect)((function(){if(0!==g.length){var e=new Set;g.filter((function(a){return!e.has(a.model)&&e.add(a.model)}));var a=Array.from(e).map((function(e){return{value:e}}));_(a),s.Topology.health&&(o.setFieldsValue({health:["".concat(s.Topology.health)]}),m({type:"setPietoTopo",payload:{health:""}}),o.submit()),s.Topology.strength&&(o.setFieldsValue({strength:["".concat(s.Topology.strength)]}),m({type:"setPietoTopo",payload:{strength:""}}),o.submit()),s.Topology.device&&(o.setFieldsValue({device:["".concat(s.Topology.device)]}),o.submit(),m({type:"setMaptoTopo",payload:{device:""}}))}}),[g,s.Topology.device]);function I(e){return"up"===e||"excellent"===e?"#28a745":"critical"===e||"good"===e?"#ffc107":"warning"===e||"fair"===e?"#dc3545":"offline"===e||"poor"===e?"#343a40":"gray"}function S(e){var a=e.label,t=(e._,e.closable),n=e.onClose;return r.a.createElement($e.a,{color:I(a),closable:t,onClose:n,style:{marginRight:3}},a)}return r.a.createElement(ce.a,{onFinish:function(e){y.current++;var t=g;e.health.length&&e.strength.length&&e.model.length&&e.device.length||a(g),t=t.filter((function(a){return(!e.device.length||(e.device.includes(a.name)||e.device.includes(a.id)))&&(!e.model.length||e.model.includes(a.model))&&(!e.health.length||e.health.includes(a.health))&&(!e.strength.length||e.strength.includes(a.strength))})),a(t)},form:o,className:fe.a.FilterForm},r.a.createElement(ce.a.Item,{name:"device",label:F("ISMS.Device"),className:fe.a.FilterDevice},r.a.createElement(he.a,{loading:l,disabled:l,mode:"tags",placeholder:F("ISMS.Search"),showArrow:!0,tagRender:S,onFocus:function(){},onChange:function(){return o.submit()},onBlur:function(){return o.submit()}},g.map((function(e,a){return r.a.createElement(ea,{key:a,value:e.name?e.name:e.id},e.name?e.name:e.id)})))),r.a.createElement(ce.a.Item,{name:"model",label:F("ISMS.Model"),className:fe.a.FilterModel},r.a.createElement(he.a,{loading:l,disabled:l,mode:"multiple",showArrow:!0,placeholder:F("ISMS.Search"),tagRender:S,style:{width:"100%"},options:E,onChange:function(){return o.submit()}})),r.a.createElement(ce.a.Item,{name:"health",label:F("ISMS.Health"),className:fe.a.FilterHealth},r.a.createElement(he.a,{loading:l,disabled:l,mode:"multiple",placeholder:F("ISMS.Search"),showArrow:!0,tagRender:S,style:{width:"100%"},options:[{value:"up"},{value:"critical"},{value:"warning"},{value:"offline"}],onChange:function(){return o.submit()}})),r.a.createElement(ce.a.Item,{name:"strength",label:F("ISMS.Strength"),className:fe.a.FilterStrength},r.a.createElement(he.a,{loading:l,disabled:l,mode:"multiple",placeholder:F("ISMS.Search"),showArrow:!0,tagRender:S,style:{width:"100%"},options:[{value:"excellent"},{value:"good"},{value:"fair"},{value:"poor"}],onChange:function(){return o.submit()}})),r.a.createElement(ce.a.Item,{style:{marginLeft:"15px"}},r.a.createElement(ye.a,{type:"primary",loading:l,disabled:l,onClick:function(){a(g),o.setFieldsValue({device:[],model:[],health:[],strength:[]})}},F("ISMS.Reset"))))})),ta=t(225),na=t.n(ta),ra=t(674),la=t(680),ca=t(328),oa=t(109),ia=t.n(oa),sa=ra.a.RangePicker,ma=function(e){var a=e.record,t=e.Mapvisible,l=e.setMapvisible,c=e.setRecord,o=Object(n.useState)([]),s=Object(d.a)(o,2),m=s[0],u=s[1],p=Object(n.useState)(17),g=Object(d.a)(p,2),b=g[0],v=g[1],E=ce.a.useForm(),_=Object(d.a)(E,1)[0],y=Object(n.useState)([24.774222535724427,121.00916565583707]),I=Object(d.a)(y,2),O=I[0],j=I[1],N=Object(n.useState)([]),C=Object(d.a)(N,2),w=C[0],k=C[1],T=Object(n.useState)(!1),M=Object(d.a)(T,2),L=M[0],x=M[1],A=Object(n.useState)(!1),D=Object(d.a)(A,2),F=D[0],G=D[1],R=Object(n.useState)(null),U=Object(d.a)(R,2),P=U[0],V=U[1],z=Object(n.useState)([]),q=Object(d.a)(z,2),Z=q[0],Y=q[1],X=Object(n.useState)([]),Q=Object(d.a)(X,2),$=Q[0],ee=Q[1],ae=Object(n.useState)(!1),te=Object(d.a)(ae,2),ne=te[0],re=te[1],le=Object(i.g)(),ie=Object(n.useContext)(h).dispatch;Object(n.useEffect)((function(){if(a.id){x(!0);var e={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"get":{"device_status":{"filter":{"id":"'.concat(a.id,'"},"nodeInf":{},"obj":{}}}}'))};f()(e).then((function(e){var a=e.data.response.device_status[0].obj.status.gps;k([a.latitude,a.longitude]),j([a.latitude,a.longitude]),e.data.response.device_status[0].nodeInf.lastUpdate=new Date(1e3*e.data.response.device_status[0].nodeInf.lastUpdate),V(e.data.response.device_status[0].nodeInf),x(!1)})).catch((function(e){console.log(e),x(!1)}))}}),[a.id]);var se=[{title:"Time",dataIndex:"readableTime",render:function(e,a){var t=new Date(1e3*a[0]);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()," ").concat(t.getHours(),":").concat(t.getMinutes())}},{title:"Latitude",dataIndex:"lat",responsive:["md"],render:function(e,a){return a[1]}},{title:"Longitude",dataIndex:"lng",responsive:["md"],render:function(e,a){return a[2]}},{title:"height",dataIndex:"height",render:function(e,a){return a[3]}}];return r.a.createElement(_e.a,{visible:t,onCancel:function(){l(!1),c({id:null}),re(!1)},centered:!1,width:"80%",title:"Location",footer:null,style:ne&&{marginTop:"2%"},className:na.a.modal},L?r.a.createElement(B.a,null,r.a.createElement(Se.a,{message:"Getting Data",description:"We are now getting data from server, please wait for a few seconds"})):r.a.createElement(n.Fragment,null,r.a.createElement(la.a,{placement:"top",closable:!0,onClose:function(){re(!1),k($.length?[$.pop()[1],$.pop()[2]]:w),j($.length?[$[$.length-1][1],$[$.length-1][2]]:w),u([])},bodyStyle:{paddingTop:"2px"},visible:ne,destroyOnClose:!0,mask:!1,maskClosable:!1},r.a.createElement(pe.a,{columns:se,dataSource:Z,className:na.a.drawertable,pagination:!1,rowKey:function(e){return e},onRow:function(e){return{onClick:function(){j([e[1],e[2]]),k([e[1],e[2]]),v(17)}}}})),r.a.createElement(ce.a,{name:"SelectTime",onFinish:function(e){G(!0);var t=e.RangePicker[0]._d.getTime()/1e3,n=e.RangePicker[1]._d.getTime()/1e3;console.log(e.RangePicker[0]._d,e.RangePicker[1]._d);var r={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"get":{"gps_track":{"filter":{"id":"'.concat(a.id,'"},"utc_range":{"start":').concat(parseInt(t),',"end":').concat(parseInt(n),'},"nodeInf":{},"obj":{}}}}'))};f()(r).then((function(e){var a=e.data.response.gps_track[0].gps.list;u(a.map((function(e){return[e[1],e[2]]}))),Y(a),(null===a||void 0===a?void 0:a.length)&&ee(a),re(!0),G(!1)})).catch((function(e){e.response&&401===e.response.status&&(ie({type:"setLogin",payload:{IsLogin:!1}}),S(),le.push("/userlogin")),console.log(e),G(!1),oe.b.error("no data")}))},form:_,style:{display:"flex"}},r.a.createElement(ce.a.Item,{name:"RangePicker"},r.a.createElement(sa,{disabledDate:function(e){return e&&(e<ia()().subtract(7,"days")||e>ia()().add(0,"days"))},format:"YYYY-MM-DD",showTime:!1})),r.a.createElement(ce.a.Item,{name:"DateSubmite",style:{marginLeft:"3%"}},r.a.createElement(ye.a,{type:"primary",htmlType:"submit",loading:F},"Submit"))),r.a.createElement(W.a,{center:O,zoom:b,className:na.a.TrackerMap},r.a.createElement(H.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),m&&r.a.createElement(ca.a,{positions:m}),w&&r.a.createElement(J.a,{position:w},P&&r.a.createElement(K.a,null,"position: ","".concat(w[0],", ").concat(w[1]),r.a.createElement("br",null),"Device: ",""!==P.name?P.name:P.id)))))},ua=function(){var e=Object(n.useContext)(h).state,a=Object(n.useState)(!1),t=Object(d.a)(a,2),l=t[0],c=t[1],o=localStorage.getItem("authUser.cid"),i=localStorage.getItem("authUser.level"),s='{"get":{"nodeInf":{"filter":{'.concat("super_super"===i?e.Login.Cid:'"cid":"'.concat(o,'"'),"}}}}"),p=j("/cmd",s,l),g=Object(d.a)(p,2),b=g[0],E=g[1],_=Object(n.useState)([]),y=Object(d.a)(_,2),I=y[0],S=y[1],O=Object(n.useState)(!1),N=Object(d.a)(O,2),C=N[0],w=N[1],k=Object(n.useState)(!1),T=Object(d.a)(k,2),M=T[0],L=T[1],x=Object(n.useState)(!1),D=Object(d.a)(x,2),F=D[0],G=D[1],R=Object(n.useState)(!1),U=Object(d.a)(R,2),B=U[0],V=U[1],z=Object(n.useState)(!1),q=Object(d.a)(z,2),W=q[0],H=q[1],J=r.a.createContext(),K=Object(n.useState)([]),Z=Object(d.a)(K,2),Y=Z[0],X=Z[1],Q=Object(n.useState)([]),$=Object(d.a)(Q,2),ee=$[0],ae=$[1],te=Object(n.useState)([]),be=Object(d.a)(te,2),Ee=be[0],he=be[1],_e=Object(n.useState)([]),ye=Object(d.a)(_e,2),Ie=ye[0],Se=ye[1],Oe=Object(n.useState)([]),Ne=Object(d.a)(Oe,2),Ce=Ne[0],we=Ne[1],Le=Object(A.a)().t,Ae={body:{row:function(e){e.index;var a=Object(le.a)(e,["index"]),t=ce.a.useForm(),n=Object(d.a)(t,1)[0];return r.a.createElement(ce.a,{form:n,component:!1},r.a.createElement(J.Provider,{value:n},r.a.createElement("tr",a)))},cell:function(e){var a=e.title,t=e.editable,l=e.children,o=e.dataIndex,i=e.record,s=e.handleSave,p=Object(le.a)(e,["title","editable","children","dataIndex","record","handleSave"]),g=Object(n.useState)(!1),b=Object(d.a)(g,2),E=b[0],h=b[1],_=Object(n.useRef)(),y=Object(n.useContext)(J);Object(n.useEffect)((function(){E&&_.current.focus()}),[E]);var I=function(){h(!E),y.setFieldsValue(Object(re.a)({},o,i[o]))},S=function(){var e=Object(u.a)(m.a.mark((function e(a){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.validateFields();case 3:if(t=e.sent,I(),i.name!==t.name){e.next=7;break}return e.abrupt("return");case 7:c(!0),n={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"set":{"node_name":{"filter":{"cid":"'.concat(i.cid,'"},"list":[{"id":"').concat(i.id,'","name":"').concat(t.name,'"}]}}}'))},f()(n).then((function(e){s(Object(v.a)(Object(v.a)({},i),t)),console.log(e),oe.b.success("rename successfully."),c(!1)})).catch((function(e){console.log(e),oe.b.error("rename fail.")})),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Save failed:",e.t0),oe.b.error("rename fail."),c(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(a){return e.apply(this,arguments)}}(),O=l;return t&&(O=E?r.a.createElement(ce.a.Item,{style:{margin:0},name:o,rules:[{required:!0,message:"".concat(a," is required.")}]},r.a.createElement(ie.a,{ref:_,onPressEnter:S,onBlur:S})):r.a.createElement(se.a,{placement:"bottom",title:"sure to rename?",onConfirm:function(){return I()},okText:"Yes",cancelText:"No"},r.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24}},l))),r.a.createElement("td",p,O)}}};Object(n.useEffect)((function(){if(E&&E.response){var e=[];E.response.nodeInf.forEach((function(a,t){e.push({key:t,id:a.nodeInf.id,name:a.nodeInf.name,health:a.nodeInf.health,model:a.nodeInf.model,strength:a.nodeInf.sim,connection:a.nodeInf.connect,cid:a.nodeInf.cid})})),S(e)}}),[E]);var De=function(e,a){return r.a.createElement(me.a,null,r.a.createElement(me.a.Item,{key:a},Fe(e,a)))};function Fe(e,a){return r.a.createElement("div",{className:fe.a.RWDwrapper},r.a.createElement(ue.a,{title:"health: ".concat(e.health)},function(e){switch(e){case"up":return r.a.createElement(Xe.b,{className:fe.a.up});case"critical":return r.a.createElement(Qe.a,{className:fe.a.critical});case"warning":return r.a.createElement(Qe.a,{className:fe.a.warning});case"offline":return r.a.createElement(Xe.a,{className:fe.a.offline});default:return}}(e.health)),r.a.createElement(ue.a,{title:"signal: ".concat(e.strength)},function(e){switch(e){case"excellent":return r.a.createElement(ge.f,{className:fe.a.up});case"good":return r.a.createElement(ge.e,{className:fe.a.critical});case"fair":return r.a.createElement(ge.d,{className:fe.a.warning});case"poor":return r.a.createElement(ge.g,{className:fe.a.offline});default:return}}(e.strength)),r.a.createElement(ue.a,{title:"Alarm"},r.a.createElement("a",{href:"/#",key:a,onClick:function(a){a.preventDefault(),w(!0),X(e)}},r.a.createElement(Te.a,{className:fe.a.alarmlog,style:"up"===e.health&&{color:"lightgray"}}))),r.a.createElement(ue.a,{title:"Device Status"},r.a.createElement("a",{href:"/#",key:a,onClick:function(a){console.log(e),a.preventDefault(),L(!0),ae(e)}},r.a.createElement(je.d,{className:fe.a.Status}))),r.a.createElement(ue.a,{title:"Map"},r.a.createElement("a",{href:"/#",key:a,onClick:function(a){a.preventDefault(),H(!0),we(e)}},r.a.createElement(Me.f,{className:fe.a.Map}))),r.a.createElement(ue.a,{title:"View IoT"},r.a.createElement("a",{href:"/#",key:a,onClick:function(a){a.preventDefault(),V(!0),Se(e),console.log(e)}},r.a.createElement(ge.b,{className:fe.a.IoT}))),r.a.createElement(ue.a,{title:"Setting"},r.a.createElement("a",{href:"/#",key:a,onClick:function(a){a.preventDefault(),G(!0),he(e)}},r.a.createElement(je.p,{className:fe.a.Setting}))))}var Ge=function(e){return Le(e)},Re=[{title:Ge("ISMS.Device"),dataIndex:"name",width:"35%",editable:!0,key:"name",render:function(e,a){return r.a.createElement("div",{className:fe.a.rename},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(ue.a,{title:a.id},a.name?r.a.createElement("p",null,a.name):r.a.createElement("p",null,a.id)),r.a.createElement(ue.a,{title:"rename"},r.a.createElement(Te.b,{className:fe.a.renameIcon}))))}},{title:Ge("ISMS.Model"),dataIndex:"model",width:"15%",key:"2",responsive:["sm"]},{title:e.Global.innerWidth>576?Ge("ISMS.Information"):Ge("ISMS.Info"),dataIndex:"information",key:"information",render:function(a,t,l){return r.a.createElement(n.Fragment,null,e.Global.innerWidth>500?Fe(t,l):r.a.createElement(de.a,{overlay:De(t,l),key:l,overlayClassName:fe.a.iconDrop},r.a.createElement(ve.a,null)))}}],Ue=function(e){var a=Object(ne.a)(I),t=a.findIndex((function(a){return e.key===a.key})),n=a[t];a.splice(t,1,Object(v.a)(Object(v.a)({},n),e)),S(a)};return Re=Re.map((function(e){return e.editable?Object(v.a)(Object(v.a)({},e),{},{onCell:function(a){return{record:a,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:Ue}}}):e})),r.a.createElement(n.Fragment,null,r.a.createElement(xe,{setRecord:X,record:Y,AlarmTablevisible:C,setAlarmTablevisible:w}),r.a.createElement(Be,{record:ee,setRecord:ae,DeviceStatevisible:M,setDeviceStatevisible:L}),r.a.createElement(ke,{IoTvisible:B,setIoTvisible:V,record:Ie,setRecord:Se}),r.a.createElement(ma,{setMapvisible:H,Mapvisible:W,record:Ce,setRecord:we}),r.a.createElement(Ye,{DeviceSettingvisible:F,setDeviceSettingvisible:G,record:Ee,setRecord:he}),r.a.createElement(P.a,{style:{marginBottom:"10px"},className:fe.a.TopoTableCard},r.a.createElement(aa,{setDataSource:S,dataSource:I,uploading:b})),r.a.createElement(P.a,{bodyStyle:{padding:"2px"}},r.a.createElement(pe.a,{className:fe.a.TopoTable,components:Ae,rowClassName:function(){return"editable-row"},bordered:!0,loading:b||l,dataSource:I,columns:Re})))},da=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(ua,null))},pa=t(37),ga=t.n(pa),ba=function(e){var a=e.uploading,t=e.setUploading,l=e.Nodeloading,c=e.Fileloading,o=e.form,i=e.FileRepository,s=e.userModel,m=e.setSelectedModel,u=e.NodeData,p=e.setUserModel,g=e.ModelList,b=e.selectedModel,v=Object(n.useContext)(h).state,E=Object(n.useState)([]),_=Object(d.a)(E,2),y=_[0],I=_[1],S=Object(n.useState)(null),O=Object(d.a)(S,2),j=O[0],N=O[1],C=localStorage.getItem("authUser.cid"),w=he.a.Option;return r.a.createElement(ce.a,{name:"dynamic_form_nest_item",onFinish:function(e){t(!0),console.log("Received values of form:",e);var a=v.BackupRestore.ActionStatusList.filter((function(e){return"FILE_UPLOAD"!==e.state&&"START_REBOOT"!==e.state})),n=[];a.forEach((function(e){return n.push(e.id)}));var r=[];(e.Device_ID.includes("All")?y:u.filter((function(a){return e.Device_ID.includes(a.id)||e.Device_ID.includes(a.name)}))).some((function(a){if(n.length&&n.includes(a.id))return oe.b.error("".concat(a.id," is duplicated in action list!")),!1;r.push("{".concat("proscend"===C?""===v.Login.Cid?'"cid":"proscend"':v.Login.Cid:'"cid":"'.concat(C,'"'),',"id":"').concat(a.id,'","type":"').concat("upgrade"===e.Action?"fw":"cfg",'","name":"').concat("backup"===e.Action?"".concat(a,"_").concat(Date.now()):e.Repostiry,'","inf":{"model":"').concat(e.Model,'"}}'))})),console.log(r);var l='{"set":{"'.concat(e.Action,'":[').concat(r,"]}}");console.log(l),console.log(JSON.parse(l));var c={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse(l)};console.log(r.length),r.length?(console.log("/cmd"),f()(c).then((function(e){console.log(e),oe.b.success("action submit successfully."),t(!1),o.resetFields()})).catch((function(e){console.log(e),oe.b.error("action submit fail."),t(!1),o.resetFields()}))):t(!1)},autoComplete:"off",form:o},r.a.createElement("div",{className:ga.a.formwrap},r.a.createElement("div",{className:ga.a.formDiv},r.a.createElement("p",null,F("ISMS.Model")),r.a.createElement(ce.a.Item,{name:"Model",className:ga.a.formitem,rules:[{required:!0,message:"Model is required"}]},r.a.createElement(he.a,{loading:a||l||c,showSearch:!0,showArrow:!0,className:ga.a.modelinput,placeholder:F("ISMS.Select"),optionFilterProp:"children",onChange:function(e){o.resetFields([["Device_ID"]]);var a=[];a.push("All"),u.forEach((function(t){t.model===e&&""===t.name?a.push(t.id):t.model===e&&""!==t.name&&a.push(t.name)})),I(a),m(e)},onFocus:function(){p(Array.from(g))},filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},s.map((function(e,a){return r.a.createElement(w,{key:a,value:e},e)}))))),r.a.createElement("div",{className:ga.a.formDiv},r.a.createElement("p",null,F("ISMS.Device")),r.a.createElement(ce.a.Item,{className:ga.a.formitem,name:"Device_ID",rules:[{required:!0,message:"Deivce Id is required!"}]},r.a.createElement(he.a,{loading:a||l||c,mode:"multiple",placeholder:F("ISMS.Select"),showArrow:!0,tagRender:function(e){var a=e.label,t=(e._,e.closable),n=e.onClose;return r.a.createElement($e.a,{color:"black",closable:t,onClose:n,style:{marginRight:3}},a)},className:ga.a.deviceinput,onFocus:function(){}},y.map((function(e,a){return r.a.createElement(w,{key:a,value:e},e)}))))),r.a.createElement("div",{className:ga.a.formDiv},r.a.createElement("p",null,F("ISMS.Action")),r.a.createElement(ce.a.Item,{className:ga.a.formitem,name:"Action",rules:[{required:!0,message:"Action is required"}]},r.a.createElement(he.a,{loading:a||l||c,showSearch:!0,showArrow:!0,className:ga.a.actioninput,placeholder:F("ISMS.Select"),optionFilterProp:"children",onChange:function(e){N(e),o.resetFields([["Repostiry"]])},filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},r.a.createElement(w,{value:"upgrade"},"Upgrade"),r.a.createElement(w,{value:"backup",disabled:!0},"BackUp"),r.a.createElement(w,{value:"restore",disabled:!0},"Restore")))),r.a.createElement("div",{className:ga.a.formDiv},r.a.createElement("p",null,F("ISMS.File")),r.a.createElement(ce.a.Item,{className:ga.a.formitem,name:"Repostiry",rules:[{required:"backup"!==j,message:"File is required!"}]},r.a.createElement(he.a,{loading:a||l||c,disabled:"backup"===j,showSearch:!0,className:ga.a.fileinput,placeholder:F("ISMS.Select"),optionFilterProp:"children",notFoundContent:"Not available",filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},null!==j&&("backup"===j?"":"restore"===j?i.map((function(e,a){if("cfg"===e.type&&e.inf.model===b)return r.a.createElement(w,{key:a,value:e.name},e.name)})):i.map((function(e,a){if("fw"===e.type&&e.inf.model===b)return r.a.createElement(w,{key:a,value:e.name},e.name)})))))),r.a.createElement(ce.a.Item,{className:ga.a.submitBtn},r.a.createElement(ye.a,{type:"primary",htmlType:"submit",className:ga.a.clickBtn,loading:a||l||c},F("ISMS.Submit")))))},fa=function(e){var a=e.uploading,t=e.setUploading,l=Object(n.useContext)(h).state,c=ce.a.useForm(),o=Object(d.a)(c,1)[0],i=Object(n.useState)([]),s=Object(d.a)(i,2),m=s[0],u=s[1],p=Object(n.useState)([]),g=Object(d.a)(p,2),b=g[0],f=g[1],v=Object(n.useState)(""),E=Object(d.a)(v,2),_=E[0],y=E[1],I=Object(n.useState)([]),S=Object(d.a)(I,2),O=S[0],N=S[1],C=localStorage.getItem("authUser.cid"),w=localStorage.getItem("authUser.level"),k='{"get":{"nodeInf":{"filter":{'.concat("super_super"===w?l.Login.Cid:'"cid":"'.concat(C,'"'),'},"nodeInf":{"cid":{},"gid":{},"token":{},"id":{},"model":{},"name":{}}}}}'),T=j("/cmd",k,a),M=Object(d.a)(T,2),L=M[0],x=M[1],A=Object(n.useState)([]),D=Object(d.a)(A,2),G=D[0],R=D[1],U='{"list_file":{'.concat("super_super"===w?l.Login.Cid:'"cid":"'.concat(C,'"'),"}}"),B=j("/repository",U,a),V=Object(d.a)(B,2),z=V[0],q=V[1],W={uploading:a,setUploading:t,Nodeloading:L,Fileloading:z,form:o,FileRepository:m,userModel:b,NodeData:G,setUserModel:f,ModelList:O,setSelectedModel:y,selectedModel:_};return Object(n.useEffect)((function(){if(x&&x.response){var e=[],a=new Set;x.response.nodeInf.forEach((function(t,n){e.push({key:n,id:t.nodeInf.id,name:t.nodeInf.name,model:t.nodeInf.model}),!a.has(t.nodeInf.model)&&a.add(t.nodeInf.model)})),R(e),N(a),o.resetFields()}}),[x]),Object(n.useEffect)((function(){q&&q.response.repository.length?u(q.response.repository[0].list):u([])}),[q]),r.a.createElement(n.Fragment,null,r.a.createElement(P.a,{bordered:!0,title:F("ISMS.Action Request"),className:ga.a.card},r.a.createElement(ba,W)))},va=t(683),Ea=t(690),ha=t(693),_a=t(694),ya=t(695),Ia=t(696),Sa=t(697),Oa=t(217),ja=t.n(Oa),Na=va.a.Step,Ca=function(e){var a=e.setIsUpdate,t=e.IsUpdate,l=Object(n.useContext)(h),c=l.state,o=l.dispatch,i=Object(n.useState)([{name:"",action:"",key:"",model:"",state:""}]),s=Object(d.a)(i,2),m=s[0],u=s[1],p=Object(n.useState)(0),g=Object(d.a)(p,2),b=g[0],E=g[1],_=Object(n.useState)(!1),y=Object(d.a)(_,2),I=y[0],S=y[1],O=localStorage.getItem("authUser.cid"),j=localStorage.getItem("authUser.level");Object(n.useEffect)((function(){S(!0);var e={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"get":{"bck_rst_upg_list":{"list":{'.concat("super_super"===j?c.Login.Cid:'"cid":"'.concat(O,'"'),"}}}}"))};f()(e).then((function(e){var a=[];e.data.response&&e.data.response.bck_rst_upg.forEach((function(e,t){a.push({name:e.name,device_name:e.device_name,action:e.action,key:t,model:e.model,state:e.state,id:e.id})})),JSON.stringify(a)!==JSON.stringify(m)?(u(a),o({type:"ActionStatusList",payload:{ActionStatusList:a}}),S(!1)):S(!1)})).catch((function(){S(!1)}));var a=setInterval((function(){E((function(e){return e+1}))}),1e4);return function(){return clearInterval(a)}}),[b,t,c.Login.Cid]);var N=function(e){return{filterDropdown:function(a){var t=a.setSelectedKeys,n=a.selectedKeys,l=a.confirm,c=a.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(ie.a,{ref:function(e){R.current=e},placeholder:"Search ".concat(e),value:n[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:function(){return D(n,l,e)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(Ea.b,null,r.a.createElement(ye.a,{size:"small",type:"primary",onClick:function(){return D(n,l,e)},icon:r.a.createElement(ha.a,null),style:{width:90}},"Search"),r.a.createElement(ye.a,{onClick:function(){return G(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(ha.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(a,t){return t[e]?t[e].toString().toLowerCase().includes(a.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return R.current.select()}),100)},render:function(a){return x===e?r.a.createElement(ja.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[k],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},C=Object(n.useState)(""),w=Object(d.a)(C,2),k=w[0],T=w[1],M=Object(n.useState)(""),L=Object(d.a)(M,2),x=L[0],A=L[1],D=function(e,a,t){a(),T(e[0]),A(t)},G=function(e){e(),T("")},R=Object(n.useRef)("");var U=[Object(v.a)(Object(v.a)({title:F("ISMS.Device"),dataIndex:"id",width:"30%"},N("id")),{},{render:function(e,a){return""!==a.device_name?a.device_name:a.id}}),Object(v.a)({title:F("ISMS.Device"),dataIndex:"model",width:"15%"},N("model")),Object(v.a)({title:F("ISMS.Action"),dataIndex:"action",width:"15%"},N("action")),Object(v.a)({title:F("ISMS.Status"),dataIndex:"state",width:"20%"},N("state")),{title:F("ISMS.History"),dataIndex:"History",width:"20%",render:function(e,l,c){return r.a.createElement(n.Fragment,null,r.a.createElement(se.a,{title:"Sure to delete?",onConfirm:function(){return function(e){S(!0);var n={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"set":{"bck_rst_upg_list":{"delete":{"id":"'.concat(e,'"}}}}'))};f()(n).then((function(e){console.log(e),E((function(e){return e+1})),S(!1),a(!t),oe.b.success("clear successfully.")})).catch((function(e){console.log(e),S(!1),oe.b.error("operation failed.")}))}(l.id)}},r.a.createElement(ye.a,{key:c,loading:I},"clear")))}}];return r.a.createElement(n.Fragment,null,r.a.createElement(P.a,{title:F("ISMS.Action Status"),bordered:!0},r.a.createElement(pe.a,{columns:U,dataSource:m,pagination:!1,className:ga.a.table,loading:0===b&&I,expandable:{expandedRowRender:function(e){return r.a.createElement("div",{className:ga.a.step},r.a.createElement(va.a,null,r.a.createElement(Na,{status:"RECEIVE_COMMAND"===e.state||"START"===e.state?"process":"finish",title:"RECEIVE_COMMAND",icon:"RECEIVE_COMMAND"===e.state||"START"===e.state?r.a.createElement(_a.a,null):r.a.createElement(ya.a,null)}),r.a.createElement(Na,{status:"FILE_UPLOADING"===e.state||"FILE_DOWNLOADING"===e.state||"FILE_DOWNLOAD"===e.state?"process":"wait",title:"Processing",icon:"FILE_UPLOADING"===e.state||"FILE_DOWNLOADING"===e.state||"FILE_DOWNLOAD"===e.state?r.a.createElement(_a.a,null):r.a.createElement(Ia.a,null)}),r.a.createElement(Na,{status:"wait",title:"Complete",icon:r.a.createElement(Sa.a,null)})))},rowExpandable:function(e){return"START_REBOOT"!==e.state&&"FILE_UPLOAD"!==e.state}}})))},wa=t(677),ka=t(698),Ta=t(256),Ma=t.n(Ta),La=function(e){var a=e.setIsUpdate,t=e.IsUpdate,l=ce.a.useForm(),c=Object(d.a)(l,1)[0],o=Object(n.useState)(!1),i=Object(d.a)(o,2),s=i[0],p=i[1],g=Object(n.useState)([{key:"",name:"",type:"",date:"",model:"",size:""}]),b=Object(d.a)(g,2),E=b[0],_=b[1],y=Object(n.useContext)(h).state,I=Object(n.useState)([]),S=Object(d.a)(I,2),O=S[0],N=S[1],C=Object(n.useState)(!1),w=Object(d.a)(C,2),k=w[0],T=w[1],M=Object(n.useState)(""),L=Object(d.a)(M,2),x=L[0],A=L[1],D=r.a.createContext(),G=localStorage.getItem("authUser.cid"),R=localStorage.getItem("authUser.level"),U={body:{row:function(e){e.index;var a=Object(le.a)(e,["index"]),t=ce.a.useForm(),n=Object(d.a)(t,1)[0];return r.a.createElement(ce.a,{form:n,component:!1},r.a.createElement(D.Provider,{value:n},r.a.createElement("tr",a)))},cell:function(e){var a=e.title,t=e.editable,l=e.children,c=e.dataIndex,o=e.record,i=Object(le.a)(e,["title","editable","children","dataIndex","record"]),s=Object(n.useState)(!1),g=Object(d.a)(s,2),b=g[0],v=g[1],E=Object(n.useRef)(),h=Object(n.useContext)(D);Object(n.useEffect)((function(){b&&E.current.focus()}),[b]);var _=function(){v(!b),h.setFieldsValue(Object(re.a)({},c,o[c]))},y=function(){var e=Object(u.a)(m.a.mark((function e(){var a,t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.validateFields();case 2:if(a=e.sent,_(),o.name!==a.name){e.next=6;break}return e.abrupt("return");case 6:p(!0),t={method:"post",headers:{"Content-Type":"application/json"},url:"/repository",data:JSON.parse('{"rename_file":{"cid":"'.concat(o.cid,'","old_name":"').concat(o.name,'","new_name":"').concat(a.name,'","type":"').concat(o.type,'"}}'))},f()(t).then((function(e){p(!1),console.log(e),oe.b.success("rename successfully.")})).catch((function(e){console.log(e),oe.b.error("rename failed."),p(!1)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=l;return t&&(I=b?r.a.createElement(ce.a.Item,{style:{margin:0},name:c,rules:[{required:!0,message:"".concat(a," is required.")}]},r.a.createElement(ie.a,{ref:E,onPressEnter:y,onBlur:y})):r.a.createElement(se.a,{title:"Edit fileName?",onConfirm:function(){return _()}},r.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24}},l))),r.a.createElement("td",i,I)}}},B=Object(n.useState)([]),V=Object(d.a)(B,2),z=V[0],q=V[1],W='{"list_file":{'.concat("super_super"===R?y.Login.Cid:'"cid":"'.concat(G,'"'),"}}"),H=j("/repository",W,s),J=Object(d.a)(H,2),K=J[0],Z=J[1];Object(n.useEffect)((function(){if(Z&&Z.response.repository.length){var e=Z.response.repository,a=[],t=[];e.forEach((function(e,n){e.list.forEach((function(r,l){t.push(r.name),a.push({cid:e.cid,key:"".concat(n,"_").concat(l),name:r.name,type:r.type,date:r.date,size:r.size,model:r.inf.model})}))})),_(a),q(t)}else _([]),q([])}),[Z]);var Y=Object(n.useState)(""),X=Object(d.a)(Y,2),Q=X[0],$=X[1],ee=Object(n.useState)(""),ae=Object(d.a)(ee,2),te=ae[0],me=ae[1],ue=function(e,a,t){a(),$(e[0]),me(t)},de=Object(n.useRef)(""),ge=function(e){return{filterDropdown:function(a){var t=a.setSelectedKeys,n=a.selectedKeys,l=a.confirm,c=a.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(ie.a,{ref:function(e){de.current=e},placeholder:"Search ".concat(e),value:n[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:function(){return ue(n,l,e)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(Ea.b,null,r.a.createElement(ye.a,{type:"primary",onClick:function(){return ue(n,l,e)},icon:r.a.createElement(ha.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(ye.a,{onClick:function(){return function(e){e(),$("")}(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(ha.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(a,t){return t[e]?t[e].toString().toLowerCase().includes(a.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return de.current.select()}),100)},render:function(a){return te===e?r.a.createElement(ja.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[Q],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},be={onRemove:function(e){var a=O.indexOf(e),t=O.slice();t.splice(a,1),N(t)},onChange:function(e){var a=Object(ne.a)(e.fileList);a=(a=a.slice(-1)).map((function(e){return e.response&&(e.url=e.response.url),e})),N(a),Oe(""),console.log(a);var t=new FileReader;t.readAsBinaryString(a[0].originFileObj),t.onload=function(e){console.log(a,Ma()(e.target.result)),A(Ma()(e.target.result))}},beforeUpload:function(e){return N([].concat(Object(ne.a)(O),[e])),!1},fileList:O},fe=he.a.Option,ve=he.a.OptGroup,Ee=Object(n.useState)(null),Ie=Object(d.a)(Ee,2),Se=Ie[0],Oe=Ie[1],Ne=[Object(v.a)({title:F("ISMS.FileName"),dataIndex:"name",width:"30%",editable:!0},ge("name")),Object(v.a)({title:F("ISMS.Model"),dataIndex:"model",width:"15%"},ge("model")),Object(v.a)({title:F("ISMS.FileType"),dataIndex:"type",width:"15%"},ge("type")),Object(v.a)({title:F("ISMS.CreatedDate"),dataIndex:"date",width:"25%",responsive:["md"]},ge("date")),{title:F("ISMS.Size"),dataIndex:"size",width:"15%",responsive:["md"]},{title:F("ISMS.Action"),dataIndex:"action",width:"20%",className:"".concat(ga.a.actionCol),render:function(e,l,c){return r.a.createElement(n.Fragment,{key:c},r.a.createElement(ye.a,{onClick:function(){return function(e){p(!0);var n={method:"post",headers:{"Content-Type":"application/json"},url:"/repository",data:JSON.parse('{"download_file":{"cid":"'.concat(e.cid,'","name":"').concat(e.name,'","type":"').concat(e.type,'"}}')),responseType:"blob"};f()(n).then((function(n){var r=window.URL.createObjectURL(new Blob([n.data])),l=document.createElement("a");l.href=r,l.setAttribute("download","".concat(e.name)),document.body.appendChild(l),l.click(),p(!1),a(!t)})).catch((function(e){console.log(e),p(!1),oe.b.error("download fail.")}))}(l)},icon:r.a.createElement(je.e,null)}),r.a.createElement(se.a,{title:"Sure to delete?",onConfirm:function(){return function(e){p(!0);var n={method:"post",headers:{"Content-Type":"application/json"},url:"/repository",data:JSON.parse('{"delete_file":{"cid":"'.concat(e.cid,'","name":"').concat(e.name,'","type":"').concat(e.type,'"}}'))};f()(n).then((function(e){console.log(e),p(!1),a(!t),oe.b.success("delete successfully.")})).catch((function(e){console.log(e),p(!1),oe.b.error("delete fail.")}))}(l)}},r.a.createElement(ye.a,{icon:r.a.createElement(je.b,null)})))}}];return Ne=Ne.map((function(e){return e.editable?Object(v.a)(Object(v.a)({},e),{},{onCell:function(a){return{record:a,editable:e.editable,dataIndex:e.dataIndex,title:e.title}}}):e})),r.a.createElement(P.a,{title:"Data on Clould Libary",className:ga.a.card,headStyle:{display:"none"}},r.a.createElement(ye.a,{type:"primary",loading:s,onClick:function(){return T(!0)},className:ga.a.clickBtn,icon:r.a.createElement(ka.a,null)},F("ISMS.Upload")),r.a.createElement(_e.a,{title:"Upload",visible:k,onCancel:function(){T(!1),c.resetFields(),be.onRemove(),Oe(null)},footer:[r.a.createElement(ye.a,{key:"submit",type:"primary",disabled:0===O.length,loading:s,onClick:function(){c.submit()}},s?"Uploading":"Start Upload")]},r.a.createElement(ce.a,{name:"dynamic_form_nest_item",onFinish:function(e){p(!0),console.log("Received values of form:",e);var n=new FormData;n.append("file",e.upload.fileList[0].originFileObj),console.log(e);var r="/repository?upload_file={".concat("super_super"===R?""===y.Login.Cid?'"cid":"'.concat(G,'"'):y.Login.Cid:'"cid": "'.concat(G,'"'),',"name":"').concat(e.filename||e.upload.file.name,'","type":"').concat(e.type,'","inf": {"MD5":"').concat(void 0===e.MD5?"123":e.MD5,'","model": "').concat(e.model,'"}}');if(console.log(r),e.filename?z.includes(e.filename):z.includes(e.upload.file.name))return oe.b.error("File Name is duplicated! Please try again!"),void p(!1);f.a.post(r,n).then((function(e){console.log(e),N([]),oe.b.success("upload successfully."),p(!1),c.resetFields(),Oe(""),a(!t)})).catch((function(e){console.log(e),p(!1),oe.b.error("upload fail."),c.resetFields(),Oe("")}))},autoComplete:"off",form:c},r.a.createElement(ce.a.Item,{label:"File",name:"upload",rules:[{required:!0,message:"Please select a file"}]},r.a.createElement(wa.a,be,r.a.createElement(ye.a,{icon:r.a.createElement(ka.a,null)},"Select File"))),r.a.createElement(ce.a.Item,{label:"Model",name:"model",rules:[{required:!0,message:"Please select a model"}]},r.a.createElement(he.a,{style:{width:200}},["M300","M301","M302","M330","M350","M351","M352","M360"].map((function(e,a){return r.a.createElement(fe,{key:a,value:e},e)})))),r.a.createElement(ce.a.Item,{label:"File Name",name:"filename",rules:[{required:!1,message:"Input a file name"}]},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{label:"File Type",name:"type",rules:[{required:!0,message:"Please select a type"}]},r.a.createElement(he.a,{style:{width:200},onChange:function(e){Oe(e),c.setFieldsValue({MD5:x})}},r.a.createElement(ve,{label:"Restore"},r.a.createElement(fe,{value:"cfg"},"cfg")),r.a.createElement(ve,{label:"Upgrade"},r.a.createElement(fe,{value:"fw"},"fw")))),"fw"===Se&&r.a.createElement(ce.a.Item,{label:"MD5",name:"MD5",rules:[{required:!0,message:"Please input the MD5 number!"}]},r.a.createElement(ie.a,{placeholder:"Please input a specific series of MD5",disabled:!0})))),r.a.createElement("div",null,r.a.createElement(pe.a,{components:U,rowClassName:function(){return"editable-row"},columns:Ne,dataSource:E,pagination:!1,className:ga.a.table,loading:s||K})))},xa=Ee.a.TabPane,Aa=function(){var e=Object(n.useState)(!1),a=Object(d.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(!1),o=Object(d.a)(c,2),i=o[0],s=o[1];return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:ga.a.container},r.a.createElement(Ee.a,{defaultActiveKey:"1",className:ga.a.tabs},r.a.createElement(xa,{tab:r.a.createElement("span",{className:ga.a.TabPane},r.a.createElement(ge.a,{className:ga.a.Tabicon}),F("ISMS.Upgrade")),key:"1"},r.a.createElement("div",{className:ga.a.wrap},r.a.createElement(fa,{uploading:t,setUploading:l}),r.a.createElement(Ca,{uploading:t,setUploading:l,setIsUpdate:s,IsUpdate:i}))),r.a.createElement(xa,{tab:r.a.createElement("span",{className:ga.a.TabPane},r.a.createElement(Me.c,{className:ga.a.Tabicon}),F("ISMS.Repository")),key:"2"},r.a.createElement("div",{className:ga.a.wrap},r.a.createElement(La,{uploading:t,setUploading:l,setIsUpdate:s,IsUpdate:i}))),r.a.createElement(xa,{disabled:!0,tab:r.a.createElement("span",{className:ga.a.TabPane},r.a.createElement(ge.c,{className:ga.a.Tabicon,style:{color:"lightgray",fontSize:"2.4rem"}}),F("ISMS.FOTA")),key:"3"},r.a.createElement("div",{className:ga.a.wrap})))))},Da=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Aa,null))},Fa=t(22),Ga=t.n(Fa),Ra={labelCol:{span:5},wrapperCol:{span:16}},Ua=he.a.Option,Pa=r.a.memo((function(e){var a=e.setRecord,t=e.record,l=e.NotifiModalvisible,c=e.setNotifiModalvisible,o=Object(n.useContext)(h).dispatch,s=ce.a.useForm(),m=Object(d.a)(s,1)[0],u=Object(n.useState)(!1),p=Object(d.a)(u,2),g=p[0],b=p[1],v=Object(n.useState)(!1),E=Object(d.a)(v,2),_=E[0],y=E[1],I=Object(i.g)();Object(n.useEffect)((function(){if(t.cid){b(!0);var e={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"get":{"notification":{"filter":{"cid":"'.concat(t.cid,'"}}}}'))};f()(e).then((function(e){var a=e.data.response.notification[0];m.setFieldsValue({timezone:a.timezone,mail_active:a.mail.active,mail_from:a.mail.mail_from,mail_to:a.mail.mail_to,mail_token:a.mail.token,line_token:a.line.token,line_active:a.line.active,level:a.conditions.level}),b(!1)})).catch((function(e){console.log(e),e.response&&401===e.response.status&&(o({type:"setLogin",payload:{IsLogin:!1}}),S(),I.push("/userlogin")),b(!1)}))}}),[t.cid,_]);return r.a.createElement(_e.a,{visible:l,title:"Notification",onCancel:function(){c(!1),a({cid:null})},centered:!0,className:Ga.a.modal,destroyOnClose:!0,footer:[r.a.createElement(ye.a,{key:"submit",type:"primary",loading:g,onClick:function(){m.submit()}},"Submit")]},g?r.a.createElement(B.a,{tip:"Loading..."},r.a.createElement(Se.a,{message:"Getting Data",description:"We are now getting data from server, please wait for a few seconds"})):r.a.createElement(ce.a,Object.assign({},Ra,{onFinish:function(e){b(!0),console.log(e,t);var a='/cmd?set={"notification":[{"cid":"'.concat(t.cid,'", "timezone":"').concat(e.timezone,'", "conditions":{"level":"').concat(e.level,'"}, "mail":{"active":"').concat(e.mail_active,'", "mail_from":"').concat(e.mail_from,'","mail_to":').concat(JSON.stringify(e.mail_to),', "token":"').concat(e.mail_token,'"},"line":{"active":"').concat(e.line_active,'","token":"').concat(e.line_token,'"}}]}');console.log(a),f.a.post(a).then((function(){b(!1),oe.b.success("update successfully."),y(!_)})).catch((function(e){e.response&&401===e.response.status&&(o({type:"setLogin",payload:{IsLogin:!1}}),S(),I.push("/userlogin")),b(!1),oe.b.error("update fail."),console.log(e)}))},form:m}),r.a.createElement(ce.a.Item,{label:"Time Zone",name:"timezone"},r.a.createElement(he.a,null,r.a.createElement(Ua,{value:"Etc/GMT+12"},"(GMT-12:00) International Date Line West"),r.a.createElement(Ua,{value:"Pacific/Midway"},"(GMT-11:00) Midway Island, Samoa"),r.a.createElement(Ua,{value:"Pacific/Honolulu"},"(GMT-10:00) Hawaii"),r.a.createElement(Ua,{value:"US/Alaska"},"(GMT-09:00) Alaska"),r.a.createElement(Ua,{value:"America/Los_Angeles"},"(GMT-08:00) Pacific Time (US & Canada)"),r.a.createElement(Ua,{value:"America/Tijuana"},"(GMT-08:00) Tijuana, Baja California"),r.a.createElement(Ua,{value:"US/Arizona"},"(GMT-07:00) Arizona"),r.a.createElement(Ua,{value:"America/Chihuahua"},"(GMT-07:00) Chihuahua, La Paz, Mazatlan"),r.a.createElement(Ua,{value:"US/Mountain"},"(GMT-07:00) Mountain Time (US & Canada)"),r.a.createElement(Ua,{value:"America/Managua"},"(GMT-06:00) Central America"),r.a.createElement(Ua,{value:"US/Central"},"(GMT-06:00) Central Time (US & Canada)"),r.a.createElement(Ua,{value:"America/Mexico_City"},"(GMT-06:00) Guadalajara, Mexico City, Monterrey"),r.a.createElement(Ua,{value:"Canada/Saskatchewan"},"(GMT-06:00) Saskatchewan"),r.a.createElement(Ua,{value:"America/Bogota"},"(GMT-05:00) Bogota, Lima, Quito, Rio Branco"),r.a.createElement(Ua,{value:"US/Eastern"},"(GMT-05:00) Eastern Time (US & Canada)"),r.a.createElement(Ua,{value:"US/East-Indiana"},"(GMT-05:00) Indiana (East)"),r.a.createElement(Ua,{value:"Canada/Atlantic"},"(GMT-04:00) Atlantic Time (Canada)"),r.a.createElement(Ua,{value:"America/Caracas"},"(GMT-04:00) Caracas, La Paz"),r.a.createElement(Ua,{value:"America/Manaus"},"(GMT-04:00) Manaus"),r.a.createElement(Ua,{value:"America/Santiago"},"(GMT-04:00) Santiago"),r.a.createElement(Ua,{value:"Canada/Newfoundland"},"(GMT-03:30) Newfoundland"),r.a.createElement(Ua,{value:"America/Sao_Paulo"},"(GMT-03:00) Brasilia"),r.a.createElement(Ua,{value:"America/Argentina/Buenos_Aires"},"(GMT-03:00) Buenos Aires, Georgetown"),r.a.createElement(Ua,{value:"America/Godthab"},"(GMT-03:00) Greenland"),r.a.createElement(Ua,{value:"America/Montevideo"},"(GMT-03:00) Montevideo"),r.a.createElement(Ua,{value:"America/Noronha"},"(GMT-02:00) Mid-Atlantic"),r.a.createElement(Ua,{value:"Atlantic/Cape_Verde"},"(GMT-01:00) Cape Verde Is."),r.a.createElement(Ua,{value:"Atlantic/Azores"},"(GMT-01:00) Azores"),r.a.createElement(Ua,{value:"Africa/Casablanca"},"(GMT+00:00) Casablanca, Monrovia, Reykjavik"),r.a.createElement(Ua,{value:"Etc/Greenwich"},"(GMT+00:00) Greenwich Mean Time : Dublin, Edinburgh, Lisbon, London"),r.a.createElement(Ua,{value:"Europe/Amsterdam"},"(GMT+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna"),r.a.createElement(Ua,{value:"Europe/Belgrade"},"(GMT+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague"),r.a.createElement(Ua,{value:"Europe/Brussels"},"(GMT+01:00) Brussels, Copenhagen, Madrid, Paris"),r.a.createElement(Ua,{value:"Europe/Sarajevo"},"(GMT+01:00) Sarajevo, Skopje, Warsaw, Zagreb"),r.a.createElement(Ua,{value:"Africa/Lagos"},"(GMT+01:00) West Central Africa"),r.a.createElement(Ua,{value:"Asia/Amman"},"(GMT+02:00) Amman"),r.a.createElement(Ua,{value:"Europe/Athens"},"(GMT+02:00) Athens, Bucharest, Istanbul"),r.a.createElement(Ua,{value:"Asia/Beirut"},"(GMT+02:00) Beirut"),r.a.createElement(Ua,{value:"Africa/Cairo"},"(GMT+02:00) Cairo"),r.a.createElement(Ua,{value:"Africa/Harare"},"(GMT+02:00) Harare, Pretoria"),r.a.createElement(Ua,{value:"Europe/Helsinki"},"(GMT+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius"),r.a.createElement(Ua,{value:"Asia/Jerusalem"},"(GMT+02:00) Jerusalem"),r.a.createElement(Ua,{value:"Europe/Minsk"},"(GMT+02:00) Minsk"),r.a.createElement(Ua,{value:"Africa/Windhoek"},"(GMT+02:00) Windhoek"),r.a.createElement(Ua,{value:"Asia/Kuwait"},"(GMT+03:00) Kuwait, Riyadh, Baghdad"),r.a.createElement(Ua,{value:"Europe/Moscow"},"(GMT+03:00) Moscow, St. Petersburg, Volgograd"),r.a.createElement(Ua,{value:"Africa/Nairobi"},"(GMT+03:00) Nairobi"),r.a.createElement(Ua,{value:"Asia/Tbilisi"},"(GMT+03:00) Tbilisi"),r.a.createElement(Ua,{value:"Asia/Tehran"},"(GMT+03:30) Tehran"),r.a.createElement(Ua,{value:"Asia/Muscat"},"(GMT+04:00) Abu Dhabi, Muscat"),r.a.createElement(Ua,{value:"Asia/Baku"},"(GMT+04:00) Baku"),r.a.createElement(Ua,{value:"Asia/Yerevan"},"(GMT+04:00) Yerevan"),r.a.createElement(Ua,{value:"Asia/Kabul"},"(GMT+04:30) Kabul"),r.a.createElement(Ua,{value:"Asia/Yekaterinburg"},"(GMT+05:00) Yekaterinburg"),r.a.createElement(Ua,{value:"Asia/Karachi"},"(GMT+05:00) Islamabad, Karachi, Tashkent"),r.a.createElement(Ua,{value:"Asia/Calcutta"},"(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi"),r.a.createElement(Ua,{value:"Asia/Calcutta"},"(GMT+05:30) Sri Jayawardenapura"),r.a.createElement(Ua,{value:"Asia/Katmandu"},"(GMT+05:45) Kathmandu"),r.a.createElement(Ua,{value:"Asia/Almaty"},"(GMT+06:00) Almaty, Novosibirsk"),r.a.createElement(Ua,{value:"Asia/Dhaka"},"(GMT+06:00) Astana, Dhaka"),r.a.createElement(Ua,{value:"Asia/Rangoon"},"(GMT+06:30) Yangon (Rangoon)"),r.a.createElement(Ua,{value:"Asia/Bangkok"},"(GMT+07:00) Bangkok, Hanoi, Jakarta"),r.a.createElement(Ua,{value:"Asia/Krasnoyarsk"},"(GMT+07:00) Krasnoyarsk"),r.a.createElement(Ua,{value:"Asia/Hong_Kong"},"(GMT+08:00) Beijing, Chongqing, Hong Kong, Urumqi"),r.a.createElement(Ua,{value:"Asia/Kuala_Lumpur"},"(GMT+08:00) Kuala Lumpur, Singapore"),r.a.createElement(Ua,{value:"Asia/Irkutsk"},"(GMT+08:00) Irkutsk, Ulaan Bataar"),r.a.createElement(Ua,{value:"Australia/Perth"},"(GMT+08:00) Perth"),r.a.createElement(Ua,{value:"Asia/Taipei"},"(GMT+08:00) Taipei"),r.a.createElement(Ua,{value:"Asia/Tokyo"},"(GMT+09:00) Osaka, Sapporo, Tokyo"),r.a.createElement(Ua,{value:"Asia/Seoul"},"(GMT+09:00) Seoul"),r.a.createElement(Ua,{value:"Asia/Yakutsk"},"(GMT+09:00) Yakutsk"),r.a.createElement(Ua,{value:"Australia/Adelaide"},"(GMT+09:30) Adelaide"),r.a.createElement(Ua,{value:"Australia/Darwin"},"(GMT+09:30) Darwin"),r.a.createElement(Ua,{value:"Australia/Brisbane"},"(GMT+10:00) Brisbane"),r.a.createElement(Ua,{value:"Australia/Canberra"},"(GMT+10:00) Canberra, Melbourne, Sydney"),r.a.createElement(Ua,{value:"Australia/Hobart"},"(GMT+10:00) Hobart"),r.a.createElement(Ua,{value:"Pacific/Guam"},"(GMT+10:00) Guam, Port Moresby"),r.a.createElement(Ua,{value:"Asia/Vladivostok"},"(GMT+10:00) Vladivostok"),r.a.createElement(Ua,{value:"Asia/Magadan"},"(GMT+11:00) Magadan, Solomon Is., New Caledonia"),r.a.createElement(Ua,{value:"Pacific/Auckland"},"(GMT+12:00) Auckland, Wellington"),r.a.createElement(Ua,{value:"Pacific/Fiji"},"(GMT+12:00) Fiji, Kamchatka, Marshall Is."),r.a.createElement(Ua,{value:"Pacific/Tongatapu"},"(GMT+13:00) Nuku'alofa"))),r.a.createElement(ce.a.Item,{name:"level",label:"Level to Inform"},r.a.createElement(ze.a.Group,null,r.a.createElement(ze.a,{value:"INFO"},"INFO"),r.a.createElement(ze.a,{value:"WARN"},"WARN"),r.a.createElement(ze.a,{value:"ERROR"},"ERROR"),r.a.createElement(ze.a,{value:"FATAL"},"FATAL"))),r.a.createElement(ce.a.Item,{name:"mail_active",label:"Mail active"},r.a.createElement(ze.a.Group,null,r.a.createElement(ze.a,{value:"true"},"on"),r.a.createElement(ze.a,{value:"false"},"off"))),r.a.createElement(ce.a.Item,{label:"Mail From",name:"mail_from"},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{label:"Mail To",name:"mail_to"},r.a.createElement(he.a,{mode:"tags",style:{width:"100%"},tokenSeparators:[","]})),r.a.createElement(ce.a.Item,{label:"Mail Token",name:"mail_token"},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"line_active",label:"Line active"},r.a.createElement(ze.a.Group,null,r.a.createElement(ze.a,{value:"true"},"on"),r.a.createElement(ze.a,{value:"false"},"off"))),r.a.createElement(ce.a.Item,{label:"Line Token",name:"line_token"},r.a.createElement(ie.a,null))))})),Ba=function(e){var a=e.SchemeModalvisible,t=e.setSchemeModalvisible,l=e.record,c=e.setRecord,o=ce.a.useForm(),s=Object(d.a)(o,1)[0],m=Object(n.useState)({}),u=Object(d.a)(m,2),p=u[0],g=u[1],b=Object(n.useState)(!1),v=Object(d.a)(b,2),E=v[0],_=v[1],y=localStorage.getItem("authUser.level"),I=Object(n.useState)(!1),O=Object(d.a)(I,2),j=O[0],N=O[1],C=Object(n.useState)(!1),w=Object(d.a)(C,2),k=w[0],T=w[1],M=Object(n.useState)(!1),L=Object(d.a)(M,2),x=L[0],A=L[1],D=Object(i.g)(),F=Object(n.useContext)(h),G=F.state,R=F.dispatch;Object(n.useEffect)((function(){if(l.cid){T(!0);var e={method:"post",headers:{"Content-Type":"application/json"},url:"/scheme_mgnt",data:JSON.parse('{"list_scheme":{"cid":"'.concat(l.cid,'"}}'))};f()(e).then((function(e){var a=e.data.response[0].scheme_list,t=new Date(1e3*a.expire);a.expire="".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate());var n=new Date(1e3*a.expires);a.expires="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),g(a),s.setFieldsValue({user:a.user,device:a.device,group:a.group,iot:a.iot,iot_poor:a.iot_poor,tracking:a.tracking,tracking_pool:a.tracking_pool,period_alive:a.period_alive,period_status:a.period_status,period_iot:a.period_iot,period_gps:a.period_gps,alive_timeout:a.alive_timeout,expire:a.expire}),T(!1)})).catch((function(e){console.log(e),T(!1)}))}}),[l.cid,x]);return r.a.createElement(_e.a,{visible:a,onCancel:function(){t(!1),N(!1),c({cid:null}),_(!1),s.resetFields()},centered:!0,className:Ga.a.modal,title:"Scheme",destroyOnClose:!0,footer:["super_super"===y&&E&&r.a.createElement(ye.a,{key:"Submit",loading:k,onClick:function(){s.submit()}},"Submit"),!E&&r.a.createElement(ye.a,{key:"Confirm",type:"primary",loading:k,onClick:function(){t(!1)}},"Confirm")]},k?r.a.createElement(B.a,{tip:"Loading..."},r.a.createElement(Se.a,{message:"Getting Data",description:"We are now getting data from server, please wait for a few seconds"})):p&&r.a.createElement(n.Fragment,null,"super_super"===y&&""===G.Login.Cid&&r.a.createElement(n.Fragment,null,""!==p.user&&r.a.createElement(ye.a,{key:"Edit",loading:k,onClick:function(){_(!E)},style:{marginRight:"5px",marginBottom:"10px"}},"Edit"),""===p.user&&r.a.createElement(ye.a,{key:"Create",loading:k,onClick:function(){_(!E),N(!0)},style:{marginRight:"5px",marginBottom:"10px"}},"Create")),r.a.createElement(ce.a,{onFinish:function(e){T(!0);var a={method:"post",headers:{"Content-Type":"application/json"},url:"/scheme_mgnt",data:JSON.parse('{"'.concat(j?"create":"modify",'_scheme":{"cid":"').concat(l.cid,'","scheme_list":{"user":"').concat(e.user,'","group":"').concat(e.group,'","device":"').concat(e.device,'","expire":"').concat(Date.parse(e.expire)/1e3,'","tracking":"').concat(e.tracking,'","tracking_pool":').concat(e.tracking_pool,',"iot":"').concat(e.iot,'","iot_poor":"').concat(e.iot_poor,'","period_alive":"').concat(e.period_alive,'","alive_timeout":"').concat(e.alive_timeout,'","period_status":"').concat(e.period_status,'","period_gps":"').concat(e.period_gps,'","period_iot":"').concat(e.period_iot,'"}}}'))},t={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"set":{"device_cfg":{"filter":{"cid":"'.concat(l.cid,'"},"obj":{"report_period":{"alive":"').concat(e.period_alive,'","timeout":"').concat(e.alive_timeout,'",\n      "status":"').concat(e.period_status,'","iot":"').concat(e.period_iot,'","gps":"').concat(e.period_gps,'"}}}}}'))};f.a.post([f()(a),f()(t)]).then(f.a.spread((function(){T(!1),oe.b.success("update successfully."),N(!1),_(!1),A(!x)}))).catch((function(e){e.response&&401===e.response.status&&(R({type:"setLogin",payload:{IsLogin:!1}}),S(),D.push("/userlogin")),T(!1),console.log(e),oe.b.error("update fail."),N(!1),_(!1),s.resetFields()}))},form:s},r.a.createElement(Ie.a,{bordered:!0,className:Ga.a.desc,column:{xxl:4,xl:3,lg:3,md:3,sm:2,xs:1}},r.a.createElement(Ie.a.Item,{key:"user",label:"user"},E?r.a.createElement(ce.a.Item,{name:"user",rules:[{required:!0,message:"required"}]},r.a.createElement(ie.a,{className:Ga.a.SchemeInput})):p.user,"/ ",p.users),r.a.createElement(Ie.a.Item,{key:"device",label:"device"},E?r.a.createElement(ce.a.Item,{name:"device",rules:[{required:!0,message:"required"}]},r.a.createElement(ie.a,{className:Ga.a.SchemeInput})):p.device,"/ ",p.devices),r.a.createElement(Ie.a.Item,{key:"group",label:"group"},E?r.a.createElement(ce.a.Item,{name:"group",rules:[{required:!0,message:"required"}]},r.a.createElement(ie.a,{className:Ga.a.SchemeInput})):p.group,"/ ",p.groups),r.a.createElement(Ie.a.Item,{key:"IoT",label:"IoT"},E?r.a.createElement(ce.a.Item,{name:"iot",rules:[{required:!0,message:"required"}]},r.a.createElement(ie.a,{className:Ga.a.SchemeInput})):p.iot," / ",p.iots),r.a.createElement(Ie.a.Item,{key:"IoT_poor",label:"IoT_poor"},E?r.a.createElement(ce.a.Item,{name:"iot_poor",rules:[{required:!0,message:"required"}]},r.a.createElement(ie.a,{className:Ga.a.SchemeInput})):p.iot_poor," / ",p.iot_poors),r.a.createElement(Ie.a.Item,{key:"tracking",label:"tracking"},E?r.a.createElement(ce.a.Item,{name:"tracking",rules:[{required:!0,message:"required"}]},r.a.createElement(ie.a,{className:Ga.a.SchemeInput})):p.tracking," / ",p.trackings),r.a.createElement(Ie.a.Item,{key:"tracking_pool",label:"tracking_pool"},E?r.a.createElement(ce.a.Item,{name:"tracking_pool",rules:[{required:!0,message:"required"}]},r.a.createElement(ie.a,{className:Ga.a.SchemeInput})):p.tracking_pool," / ",p.tracking_pools),r.a.createElement(Ie.a.Item,{key:"period_alive",label:"period_alive"},E?r.a.createElement(ce.a.Item,{name:"period_alive",rules:[{required:!0,message:"required"}]},r.a.createElement(ie.a,{className:Ga.a.SchemeInput})):p.period_alive),r.a.createElement(Ie.a.Item,{key:"period_status",label:"period_status"},E?r.a.createElement(ce.a.Item,{name:"period_status",rules:[{required:!0,message:"required"}]},r.a.createElement(ie.a,{className:Ga.a.SchemeInput})):p.period_status),r.a.createElement(Ie.a.Item,{key:"period_iot",label:"period_iot"},E?r.a.createElement(ce.a.Item,{name:"period_iot",rules:[{required:!0,message:"required"}]},r.a.createElement(ie.a,{className:Ga.a.SchemeInput})):p.period_iot),r.a.createElement(Ie.a.Item,{key:"period_gps",label:"period_gps"},E?r.a.createElement(ce.a.Item,{name:"period_gps",rules:[{required:!0,message:"required"}]},r.a.createElement(ie.a,{className:Ga.a.SchemeInput})):p.period_gps),r.a.createElement(Ie.a.Item,{key:"alive_timeout",label:"alive_timeout"},E?r.a.createElement(ce.a.Item,{name:"alive_timeout",rules:[{required:!0,message:"required"}]},r.a.createElement(ie.a,{className:Ga.a.SchemeInput})):p.alive_timeout),r.a.createElement(Ie.a.Item,{key:"expire",label:"expire"},E?r.a.createElement(ce.a.Item,{name:"expire",rules:[{required:!0,message:"required"}]},r.a.createElement(ie.a,{style:{width:"130px"}})):p.expire)))))},Va=Ee.a.TabPane,za=he.a.Option,qa=r.a.memo((function(e){var a=e.GroupModalvisible,t=e.setGroupModalvisible,l=e.record,c=e.setRecord,o=Object(n.useContext)(h).dispatch,s=ce.a.useForm(),m=Object(d.a)(s,1)[0],u=ce.a.useForm(),p=Object(d.a)(u,1)[0],g=Object(n.useState)(!1),b=Object(d.a)(g,2),v=b[0],E=b[1],_=Object(n.useState)(!1),y=Object(d.a)(_,2),I=y[0],O=y[1],j=Object(n.useState)([{name:"",node_list:[]}]),N=Object(d.a)(j,2),C=N[0],w=N[1],k=Object(n.useState)([]),T=Object(d.a)(k,2),M=T[0],L=T[1],x=Object(n.useState)("1"),A=Object(d.a)(x,2),D=A[0],F=A[1],G=Object(i.g)();Object(n.useEffect)((function(){if(l.cid){E(!0);var e={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"get":{"nodeInf":{"filter":{"cid":"'.concat(l.cid,'"},"nodeInf":{"cid":{},"gid":{},"token":{},"id":{}}}}}'))},a={method:"post",headers:{"Content-Type":"application/json"},url:"/device_mgnt/group",data:JSON.parse('{"list_group":{"cid":"'.concat(l.cid,'"}}'))};f.a.all([f()(e),f()(a)]).then(f.a.spread((function(e,a){var t;if(null===(t=e.data.response)||void 0===t?void 0:t.nodeInf){var n=[];e.data.response.nodeInf.forEach((function(e,a){n.push({key:a,id:e.nodeInf.id})})),L(n);var r=[];a.data.response[0].group_list.forEach((function(e,a){r.push({key:a,name:e.gid,node_list:e.node_list})})),w(r),m.setFieldsValue({Group:r})}else w([]),L([]);E(!1)}))).catch((function(e){console.error(e),e.response&&401===e.response.status&&(o({type:"setLogin",payload:{IsLogin:!1}}),S(),G.push("/userlogin")),E(!1)}))}}),[l.cid,I]);var R=function(e){var a='/device_mgnt/group?delete_group={"cid":"'.concat(l.cid,'","group_list":[{"name":"').concat(e.name,'"}]}');console.log(a),E(!0),f.a.post(a).then((function(){E(!1),oe.b.success("Delete successfully."),O(!I)})).catch((function(e){e.response&&401===e.response.status&&(o({type:"setLogin",payload:{IsLogin:!1}}),S(),G.push("/userlogin")),oe.b.error("Delete fail."),E(!1),console.log(e)}))};function U(e){var a=e.label,t=(e._,e.closable),n=e.onClose;return r.a.createElement($e.a,{color:"black",closable:t,onClose:n,style:{marginRight:3}},a)}var P=[{title:"Group",width:"30%",dataIndex:"name",key:"name",render:function(e,a,t){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement(ce.a.Item,{style:{marginBottom:"10px"},className:Ga.a.formitem,name:["Group",t,"name"],rules:[{required:!0,message:"Group is required!"}]},r.a.createElement(ie.a,{disabled:!0})),r.a.createElement(ue.a,{title:"Delete Group"},r.a.createElement(se.a,{title:"Sure to delete?",onConfirm:function(){R(a)}},r.a.createElement(je.c,{className:Ga.a.DeleteGroupIcon,style:{fontSize:"2rem",cursor:"pointer"}}))))}},{title:"Device",width:"70%",dataIndex:"node_list",key:"node_list",render:function(e,a,t){return r.a.createElement(ce.a.Item,{className:Ga.a.formitem,name:["Group",t,"node_list"],rules:[{required:!0,message:"Deivce Id is required!"}]},r.a.createElement(he.a,{mode:"multiple",placeholder:"Select devices",showArrow:!0,tagRender:U,style:{width:"100%"},className:Ga.a.deviceinput,onFocus:function(){}},M.map((function(e,a){return r.a.createElement(za,{key:a,value:e.id},e.id)}))))}}];return r.a.createElement(_e.a,{visible:a,onCancel:function(){t(!1),c({cid:null})},centered:!0,className:Ga.a.modal,destroyOnClose:!0,footer:["1"===D&&r.a.createElement(ye.a,{loading:v,key:"back",onClick:function(){return p.submit()}},"Submit"),"2"===D&&r.a.createElement(ye.a,{key:"ok",loading:v,onClick:function(){m.submit()}},"Submit")]},r.a.createElement(Ee.a,{defaultActiveKey:"1",onChange:function(e){F(e)}},r.a.createElement(Va,{tab:"Create Group",key:"1"},r.a.createElement(ce.a,{name:"CreateGroup",onFinish:function(e){console.log("Received values of form:",e),E(!0);var a='/device_mgnt/group?create_group={"cid":"'.concat(l.cid,'", "group_list":[{"name":"').concat(e.groupName,'","node_list":').concat(JSON.stringify(e.Device_ID),"}]}");console.log(a),p.resetFields(["Device_ID","groupName"]),f.a.post(a).then((function(e){E(!1),oe.b.success("Create completely."),O(!I),console.log(e)})).catch((function(e){console.log(e),e.response&&401===e.response.status&&(o({type:"setLogin",payload:{IsLogin:!1}}),S(),G.push("/userlogin")),oe.b.error("Create fail."),E(!1)}))},autoComplete:"off",form:p,className:Ga.a.Form},r.a.createElement("div",{className:Ga.a.formwrap},r.a.createElement("div",{className:Ga.a.formDiv},r.a.createElement("p",null,"Device"),r.a.createElement(ce.a.Item,{style:{width:250},className:Ga.a.formitem,name:"Device_ID",rules:[{required:!0,message:"Deivce Id is required!"}]},r.a.createElement(he.a,{loading:v,mode:"multiple",placeholder:"Select devices",showArrow:!0,tagRender:U,className:Ga.a.deviceinput,onFocus:function(){}},M.map((function(e,a){return r.a.createElement(za,{key:a,value:e.id},e.id)}))))),r.a.createElement("div",{className:Ga.a.formDiv},r.a.createElement("p",null,"Group Name"),r.a.createElement(ce.a.Item,{className:Ga.a.formitem,name:"groupName",rules:[{required:!0,message:"Group name is required"}]},r.a.createElement(ie.a,null)))))),r.a.createElement(Va,{tab:"Edit Group",key:"2",className:Ga.a.groupPane},r.a.createElement(ce.a,{name:["Group"],onFinish:function(e){console.log(e),E(!0);var a='/device_mgnt/group?modify_group={"cid":"'.concat(l.cid,'","group_list":').concat(JSON.stringify(e.Group),"}");console.log(a),f.a.post(a).then((function(){oe.b.success("Update successfully."),E(!1),O(!I)})).catch((function(e){console.log(e),oe.b.error("Update fail."),e.response&&401===e.response.status&&(o({type:"setLogin",payload:{IsLogin:!1}}),S(),G.push("/userlogin")),E(!1)}))},autoComplete:"off",form:m,className:Ga.a.Form},r.a.createElement(pe.a,{columns:P,dataSource:C,pagination:!1,loading:v})))))})),Wa=function(e){var a=e.Tokenvisible,t=e.setTokenvisible,l=e.record,c=e.setRecord,o=ce.a.useForm(),s=Object(d.a)(o,1)[0],p=Object(n.useState)([]),g=Object(d.a)(p,2),b=g[0],v=g[1],E=Object(n.useState)(!1),_=Object(d.a)(E,2),y=_[0],I=_[1],O=localStorage.getItem("authUser.level"),j=Object(n.useState)(!1),N=Object(d.a)(j,2),C=N[0],w=N[1],k=Object(n.useState)(!1),T=Object(d.a)(k,2),M=T[0],L=T[1],x=Object(i.g)(),A=Object(n.useContext)(h),D=A.state,F=A.dispatch;Object(n.useEffect)((function(){if(l.cid){w(!0);var e={method:"post",headers:{"Content-Type":"application/json"},url:"/device_mgnt/token",data:JSON.parse('{"list_token":{"cid":"'.concat(l.cid,'"}}'))};f()(e).then((function(e){v(e.data.response[0].token_list),s.setFieldsValue({token:e.data.response[0].token_list}),w(!1)})).catch((function(e){e.response&&401===e.response.status&&(F({type:"setLogin",payload:{IsLogin:!1}}),S(),x.push("/userlogin")),console.log(e),w(!1)}))}}),[l.cid,M]);var G=function(){var e=Object(u.a)(m.a.mark((function e(){var a,t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),t={method:"post",headers:{"Content-Type":"application/json"},url:"/device_mgnt/token",data:JSON.parse('{"generate_token":{}}')},e.next=4,f()(t).then((function(e){a=e.data.response.token}));case 4:n={method:"post",headers:{"Content-Type":"application/json"},url:"/device_mgnt/token",data:JSON.parse('{"create_token":{"cid":"'.concat(l.cid,'", "token_list":["').concat(a,'"]}}'))},f()(n).then((function(e){console.log(e),w(!1),L(!M),oe.b.success("Create successfully")})).catch((function(e){e.response&&401===e.response.status&&(F({type:"setLogin",payload:{IsLogin:!1}}),S(),x.push("/userlogin")),console.log(e),w(!1),oe.b.error("Create fail")}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(_e.a,{visible:a,onCancel:function(){t(!1),c({cid:null}),I(!1)},centered:!0,className:Ga.a.modal,destroyOnClose:!0,title:"Token",footer:["super_super"===O&&y&&r.a.createElement(ye.a,{key:"Submit",loading:C,onClick:function(){s.submit()}},"Submit"),!y&&r.a.createElement(ye.a,{key:"Confirm",type:"primary",loading:C,onClick:function(){t(!1)}},"Confirm")]},C?r.a.createElement(B.a,{tip:"Loading..."},r.a.createElement(Se.a,{message:"Getting Data",description:"We are now getting data from server, please wait for a few seconds"})):r.a.createElement(n.Fragment,null,"super_super"===O&&""===D.Login.Cid&&r.a.createElement(n.Fragment,{key:"123"},r.a.createElement(ye.a,{key:"Edit",loading:C,onClick:function(){I(!y)},style:{marginRight:"5px",marginBottom:"10px"},disabled:!b.length},"Edit"),!y&&r.a.createElement(ye.a,{key:"Create",loading:C,onClick:function(){G()}},"Create")),r.a.createElement(ce.a,{onFinish:function(e){console.log(e),w(!0);for(var a="",t=0;t<e.token.length;t++)void 0!==e.token[t]&&(a+='{"old_token":"'.concat(b[t],'","new_token":"').concat(e.token[t],'"},'));var n={method:"post",headers:{"Content-Type":"application/json"},url:"/device_mgnt/token",data:JSON.parse('{"modify_token":{"cid":"'.concat(l.cid,'", "token_list":[').concat(a.substring(0,a.length-1),"]}}"))};f()(n).then((function(e){console.log(e),w(!1),oe.b.success("modify successfully"),s.resetFields(),I(!1),L(!M)})).catch((function(e){e.response&&401===e.response.status&&(F({type:"setLogin",payload:{IsLogin:!1}}),S(),x.push("/userlogin")),console.log(e),w(!1),oe.b.success("modify fail"),s.resetFields(),I(!1)}))},form:s},r.a.createElement(Ie.a,{bordered:!0,className:Ga.a.desc},r.a.createElement(Ie.a.Item,{label:"Token"},b.map((function(e,a){return y?r.a.createElement(ce.a.Item,{name:["token",a],key:a},r.a.createElement(ie.a,null)):r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},key:a},r.a.createElement("p",{key:a},e),"super_super"===O&&""===D.Login.Cid&&r.a.createElement(ue.a,{title:"Delete Token"},r.a.createElement(se.a,{title:"Sure to Delete?",onConfirm:function(){!function(e){w(!0);var a={method:"post",headers:{"Content-Type":"application/json"},url:"/device_mgnt/token",data:JSON.parse('{"delete_token":{"cid":"'.concat(l.cid,'", "token_list":["').concat(e,'"]}}'))};f()(a).then((function(e){console.log(e),w(!1),L(!M),oe.b.success("Delete successfully")})).catch((function(e){e.response&&401===e.response.status&&(F({type:"setLogin",payload:{IsLogin:!1}}),S(),x.push("/userlogin")),console.log(e),w(!1),oe.b.error("Delete fail")}))}(e)}},r.a.createElement(Xe.c,{className:Ga.a.trashIcon}))))})),r.a.createElement("br",null))))))},Ha=t(699),Ja=t(700),Ka=Ee.a.TabPane,Za=he.a.Option,Ya={labelCol:{span:6},wrapperCol:{span:16}},Xa=r.a.memo((function(e){var a=e.setRecord,t=e.record,l=e.CreateUservisible,c=e.setCreateUservisible,o=ce.a.useForm(),s=Object(d.a)(o,1)[0],m=ce.a.useForm(),u=Object(d.a)(m,1)[0],p=Object(n.useState)([]),g=Object(d.a)(p,2),b=g[0],v=g[1],E=Object(n.useState)("1"),_=Object(d.a)(E,2),y=_[0],I=_[1],O=Object(n.useState)([]),j=Object(d.a)(O,2),N=j[0],C=j[1],w=Object(n.useState)(!1),k=Object(d.a)(w,2),T=k[0],M=k[1],L=Object(n.useState)(!1),x=Object(d.a)(L,2),A=x[0],D=x[1],F=Object(i.g)(),G=Object(n.useContext)(h).dispatch;Object(n.useEffect)((function(){if(t.cid){console.log("\u6709\u57f7\u884c"),M(!0);var e={method:"post",headers:{"Content-Type":"application/json"},url:"/user_mgnt",data:JSON.parse('{"list_user":{"cid":"'.concat(t.cid,'"}}'))},a={method:"post",headers:{"Content-Type":"application/json"},url:"/device_mgnt/group",data:JSON.parse('{"list_group":{"cid":"'.concat(t.cid,'"}}'))};f.a.all([f()(e),f()(a)]).then(f.a.spread((function(e,a){var t=[];e.data.response[0]&&e.data.response[0].user_list?(e.data.response[0].user_list.forEach((function(e,a){t.push({key:a,name:e.name,level:e.level,gid:e.gid})})),v(t)):v([]),C(a.data.response[0].group_list),M(!1),u.setFieldsValue({EditUser:t})}))).catch((function(e){e.response&&401===e.response.status&&(G({type:"setLogin",payload:{IsLogin:!1}}),S(),F.push("/userlogin")),console.error(e),M(!1)}))}}),[t.cid,A]),Object(n.useEffect)((function(){s.setFieldsValue({cid:t.cid})}),[l]);var R=function(e){M(!0);var a={method:"post",headers:{"Content-Type":"application/json"},url:"/user_mgnt",data:JSON.parse('{"delete_user":{"cid":"'.concat(t.cid,'", "user_list":[{"name":"').concat(e.name,'"}]}}'))};f()(a).then((function(e){M(!1),oe.b.success("Delete successfully."),console.log(e),D(!A),s.resetFields()})).catch((function(e){console.log(e),M(!1),oe.b.error("Delete fail."),s.resetFields()}))},U=[{title:"name",dataIndex:["name"],render:function(e,a,t){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement(ce.a.Item,{style:{marginBottom:"10px"},name:["EditUser",t,"name"],rules:[{required:!0,message:"Group is required!"}],initialValue:a.name},r.a.createElement(ie.a,{disabled:!0,style:{width:"300px"}})),r.a.createElement(ue.a,{title:"Delete User"},r.a.createElement(se.a,{title:"Sure to delete?",onConfirm:function(){R(a)}},r.a.createElement(je.c,{className:Ga.a.DeleteGroupIcon,style:{fontSize:"2rem",cursor:"pointer"}}))))}},{title:"password",dataIndex:["password"],render:function(e,a,t){return r.a.createElement(ce.a.Item,{style:{marginBottom:"10px"},name:["EditUser",t,"password"],rules:[{whitespace:!0,message:"spaces are not allow!"},{pattern:new RegExp("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$"),message:"Must contain  at leat a numeric digit/Uppercase and lowercase letter/special character, and at least 8 or more characters"}]},r.a.createElement(ie.a,{placeholder:"Password",style:{width:"200px"}}))}},{title:"level",dataIndex:["level"],render:function(e,a,t){return r.a.createElement(ce.a.Item,{name:["EditUser",t,"level"],rules:[{required:!0,message:"level is required!"}],initialValue:a.level},r.a.createElement(he.a,{placeholder:"Select level",style:{width:"100px"},className:Ga.a.deviceinput,loading:T},r.a.createElement(Za,{key:1,value:"super"},"super"),r.a.createElement(Za,{key:2,value:"admin"},"admin"),r.a.createElement(Za,{key:3,value:"get"},"get"),r.a.createElement(Za,{key:4,value:"set"},"set")))}},{title:"Group",dataIndex:["gid"],render:function(e,a,t){return r.a.createElement(ce.a.Item,{className:Ga.a.formitem,name:["EditUser",t,"gid"],initialValue:a.gid},r.a.createElement(he.a,{mode:"multiple",placeholder:"Select Group",showArrow:!0,style:{width:"300px"},loading:T},N.map((function(e,a){return r.a.createElement(Za,{key:a,value:e.gid},e.gid)}))))}}];return r.a.createElement(_e.a,{visible:l,onCancel:function(){c(!1),a({cid:null})},className:Ga.a.modal,destroyOnClose:!0,footer:["1"===y&&r.a.createElement(ye.a,{key:"Create",type:"primary",loading:T,onClick:function(){s.submit()}},"Submit"),"2"===y&&r.a.createElement(ye.a,{key:"Edit",type:"primary",loading:T,onClick:function(){u.submit()}},"Submit")]},T?r.a.createElement(B.a,{tip:"Loading..."},r.a.createElement(Se.a,{message:"Getting Data",description:"We are now getting data from server, please wait for a few seconds"})):r.a.createElement(Ee.a,{defaultActiveKey:"1",onChange:function(e){console.log(e),I("".concat(e))}},r.a.createElement(Ka,{tab:"Create User",key:"1"},r.a.createElement(ce.a,{name:"CreateUser",form:s,onFinish:function(e){console.log("Received values of form:",e),M(!0);var a={method:"post",headers:{"Content-Type":"application/json"},url:"/user_mgnt",data:JSON.parse('{"create_user":{"cid":"'.concat(t.cid,'", "user_list":').concat(JSON.stringify(e.users),"}}"))};f()(a).then((function(e){M(!1),oe.b.success("Create successfully."),console.log(e),D(!A),s.resetFields()})).catch((function(e){console.log(e),e.response&&401===e.response.status&&(G({type:"setLogin",payload:{IsLogin:!1}}),S(),F.push("/userlogin")),M(!1),oe.b.error("Create fail.")}))}},r.a.createElement(ce.a.Item,{name:"cid",rules:[{required:!0,message:""}],label:"Customer",style:{display:"none"}},r.a.createElement(ie.a,{disabled:!0})),r.a.createElement(ce.a.List,{name:"users"},(function(e,a){var t=a.add,n=a.remove;return r.a.createElement("div",null,e.map((function(e){return r.a.createElement(Ea.b,{key:e.key,style:{display:"flex",marginBottom:8,flexWrap:"wrap"},align:"start"},r.a.createElement(ce.a.Item,Object.assign({className:Ga.a.name},e,{name:[e.name,"name"],fieldKey:[e.fieldKey,"name"],rules:[{type:"email",required:!0,message:"must be name@xxx.com"}]}),r.a.createElement(ie.a,{placeholder:"Name@xxx.com"})),r.a.createElement(ce.a.Item,Object.assign({},e,{className:Ga.a.password,style:{width:250},name:[e.name,"password"],fieldKey:[e.fieldKey,"password"],rules:[{required:!0,message:"Missing password"},{whitespace:!0,message:"spaces are not allow!"},{pattern:new RegExp("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$"),message:"Must contain  at leat a numeric digit/Uppercase and lowercase letter/special character, and at least 8 or more characters"}]}),r.a.createElement(ie.a,{placeholder:"Password",type:"password"})),r.a.createElement(ce.a.Item,Object.assign({},e,{className:Ga.a.level,name:[e.name,"level"],fieldKey:[e.fieldKey,"level"],rules:[{required:!0,message:"Missing level"}]}),r.a.createElement(he.a,{placeholder:"Level  "},r.a.createElement(Za,{value:"super"},"super"),r.a.createElement(Za,{value:"admin"},"admin"),r.a.createElement(Za,{value:"get"},"get"),r.a.createElement(Za,{value:"set"},"set"))),r.a.createElement(ce.a.Item,Object.assign({},e,{className:Ga.a.gid,name:[e.name,"gid"],fieldKey:[e.fieldKey,"gid"],initialValue:[]}),r.a.createElement(he.a,{style:{width:150},mode:"multiple",placeholder:"Group"},N.map((function(e,a){return r.a.createElement(Za,{key:a,value:e.gid},e.gid)})))),r.a.createElement(Ha.a,{onClick:function(){n(e.name)}}),r.a.createElement("br",null))})),r.a.createElement(ce.a.Item,null,r.a.createElement(ye.a,{type:"dashed",onClick:function(){t()},block:!0},r.a.createElement(Ja.a,null)," Add User")))})))),r.a.createElement(Ka,{tab:"Edit User",key:"2"},r.a.createElement(ce.a,{form:u,onFinish:function(e){console.log("Received values of form:",e),M(!0),e.EditUser.forEach((function(e){e.password||delete e.password}));var a={method:"post",headers:{"Content-Type":"application/json"},url:"/user_mgnt",data:JSON.parse('{"modify_user":{"cid":"'.concat(t.cid,'", "user_list":').concat(JSON.stringify(e.EditUser),"}}"))};f()(a).then((function(e){M(!1),oe.b.success("Edit successfully."),console.log(e),u.resetFields(),D(!A)})).catch((function(e){console.log(e),e.response&&401===e.response.status&&(G({type:"setLogin",payload:{IsLogin:!1}}),S(),F.push("/userlogin")),M(!1),u.resetFields(),oe.b.error("Edit fail.")}))},style:{overflowX:"auto"}},r.a.createElement(pe.a,{columns:U,dataSource:b,pagination:!1})))))})),Qa=r.a.memo((function(e){var a=e.CreateVisible,t=e.setCreateVisible,l=e.setIsUpdate,c=e.IsUpdate,o=ce.a.useForm(),i=Object(d.a)(o,1)[0],s=Object(n.useState)(!1),p=Object(d.a)(s,2),g=p[0],b=p[1],v=Object(n.useContext)(h),E=v.state,_=v.dispatch,y=function(){var e=Object(u.a)(m.a.mark((function e(a){var n,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Received values of form:",a),b(!0),n={method:"post",headers:{"Content-Type":"application/json"},url:"/user_mgnt",data:JSON.parse('{"generate_token":{}}')},e.next=5,f()(n).then((function(e){r=e.data.response.token}));case 5:o={method:"post",headers:{"Content-Type":"application/json"},url:"/inf_mgnt",data:JSON.parse('{"create_inf":{"cid":"'.concat(r,'","inf_list":{"company":"').concat(a.company?a.company:"",'", "contact":"').concat(a.contact?a.contact:"",'", "mail":"').concat(a.mail?a.mail:"",'", "phone":"').concat(a.phone?a.phone:"",'"}}}'))},f()(o).then((function(e){b(!1),oe.b.success("Create successfully."),_({type:"setIsUpdate",payload:{IsUpdate:!E.Global.IsUpdate}}),t(!1),l(!c),console.log(e)})).catch((function(e){console.log(e),b(!1),oe.b.error("Create fail.")}));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(_e.a,{title:"Create Customer",visible:a,onCancel:function(){t(!1)},footer:[r.a.createElement(ye.a,{key:"Submit",loading:g,onClick:function(){i.submit()}},"Submit")]},r.a.createElement(ce.a,Object.assign({},Ya,{name:"CreateInfo",onFinish:y,form:i}),r.a.createElement(ce.a.Item,{name:"company",label:"Company",rules:[{required:!0}]},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"contact",label:"Contact Person"},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"mail",label:"Email"},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"phone",label:"Phone"},r.a.createElement(ie.a,null))))})),$a=r.a.memo((function(e){var a=e.EditCustomerInfovisible,t=e.setEditCustomerInfovisible,l=e.record,c=e.setRecord,o=e.setIsUpdate,s=e.IsUpdate,m=ce.a.useForm(),u=Object(d.a)(m,1)[0],p=Object(n.useState)(!1),g=Object(d.a)(p,2),b=g[0],v=g[1],E=Object(n.useContext)(h),_=E.state,y=E.dispatch,I=Object(i.g)();Object(n.useEffect)((function(){l.inf_list&&u.setFieldsValue({company:l.inf_list.company,contact:l.inf_list.contact,mail:l.inf_list.mail,phone:l.inf_list.phone})}),[l.inf_list]);return r.a.createElement(_e.a,{title:"Edit Customer Info",visible:a,onCancel:function(){t(!1),c({inf_list:null})},footer:[r.a.createElement(ye.a,{key:"submit",type:"primary",loading:b,onClick:function(){u.submit()}},F("ISMS.Submit"))]},r.a.createElement(ce.a,Object.assign({},Ya,{name:"Edit Info",onFinish:function(e){console.log("Received values of form:",e),v(!0);var a={method:"post",headers:{"Content-Type":"application/json"},url:"/inf_mgnt",data:JSON.parse('{"modify_inf":{"cid":"'.concat(l.cid,'", "inf_list":{"company":"').concat(e.company,'", "contact":"').concat(e.contact,'", "mail":"').concat(e.mail,'", "phone":"').concat(e.phone,'"}}}'))};f()(a).then((function(){v(!1),oe.b.success("update successfully."),y({type:"setIsUpdate",payload:{IsUpdate:!_.Global.IsUpdate}}),o(!s)})).catch((function(e){e.response&&401===e.response.status&&(y({type:"setLogin",payload:{IsLogin:!1}}),S(),I.push("/userlogin")),console.log(e),v(!1),oe.b.error("update fail.")}))},form:u}),r.a.createElement(ce.a.Item,{name:"company",label:"Customer",rules:[{required:!0}],disabled:!0},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"contact",label:"Contact Person",initialValue:""},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"mail",label:"Email",initialValue:""},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"phone",label:"Phone",initialValue:""},r.a.createElement(ie.a,null))))})),et=r.a.memo((function(e){var a=e.record,t=e.EventLogModalvisible,l=e.setEventLogModalvisible,c=e.setRecord,o=Object(n.useState)(!1),i=Object(d.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)([]),p=Object(d.a)(u,2),g=p[0],b=p[1];Object(n.useEffect)((function(){if(a.cid){m(!0);var e={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"get":{"event_log":{"filter":{"cid":"'.concat(a.cid,'"}}}}'))};f()(e).then((function(e){var a=[];e.data.response.event_log.list[0].event_list.forEach((function(e,t){var n=new Date(1e3*e.timestamp);a.push({key:t,message:e.message,time:"".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()," ").concat(n.getHours(),":").concat(n.getMinutes())})})),console.log(a),b(a),m(!1)})).catch((function(e){console.log(e),m(!1)}))}}),[a.cid]);return r.a.createElement(_e.a,{title:"Event Log",className:Ga.a.modal,visible:t,onCancel:function(){l(!1),c({cid:null})},footer:[r.a.createElement(ye.a,{key:"submit",type:"primary",loading:s,onClick:function(){l(!1)}},"Confirm")]},s?r.a.createElement(B.a,{tip:"Loading..."},r.a.createElement(Se.a,{message:"Getting Data",description:"We are now getting data from server, please wait for a few seconds"})):r.a.createElement(pe.a,{columns:[{title:"Message",dataIndex:"message"},{title:"Time",dataIndex:"time"}],dataSource:g}))})),at=function(){var e=Object(n.useContext)(h),a=e.state,t=e.dispatch,l=ce.a.useForm(),c=Object(d.a)(l,1)[0],o=Object(n.useState)(!1),s=Object(d.a)(o,2),m=s[0],u=s[1],p=localStorage.getItem("authUser.cid"),g=localStorage.getItem("authUser.level"),b=Object(n.useState)(!1),v=Object(d.a)(b,2),E=v[0],_=v[1],y=Object(n.useState)([]),I=Object(d.a)(y,2),O=I[0],N=I[1],C=Object(n.useState)(!1),w=Object(d.a)(C,2),k=w[0],T=w[1],M=Object(n.useState)(!1),L=Object(d.a)(M,2),x=L[0],A=L[1],D=Object(n.useState)(!1),G=Object(d.a)(D,2),R=G[0],U=G[1],B=Object(n.useState)(!1),V=Object(d.a)(B,2),z=V[0],q=V[1],W=Object(n.useState)(!1),H=Object(d.a)(W,2),J=H[0],K=H[1],Z=Object(n.useState)(!1),Y=Object(d.a)(Z,2),X=Y[0],Q=Y[1],$=Object(n.useState)(!1),ee=Object(d.a)($,2),ae=ee[0],te=ee[1],ne=Object(n.useState)(!1),re=Object(d.a)(ne,2),le=re[0],ie=re[1],me=Object(n.useState)(""),de=Object(d.a)(me,2),ge=de[0],be=de[1],fe=Object(n.useState)(""),ve=Object(d.a)(fe,2),Ee=ve[0],he=ve[1],_e=Object(n.useState)(""),Ie=Object(d.a)(_e,2),Se=Ie[0],Oe=Ie[1],Ne=Object(n.useState)(""),Ce=Object(d.a)(Ne,2),we=Ce[0],ke=Ce[1],Me=Object(n.useState)(""),Le=Object(d.a)(Me,2),xe=Le[0],Ae=Le[1],De=Object(n.useState)(""),Fe=Object(d.a)(De,2),Ge=Fe[0],Re=Fe[1],Ue=Object(n.useState)(!1),Pe=Object(d.a)(Ue,2),Be=Pe[0],Ve=Pe[1],ze="super_super"===localStorage.getItem("authUser.level"),qe='{"list_inf":{'.concat("super_super"===g?a.Login.Cid:'"cid":"'.concat(p,'"'),"}}"),We=j("/inf_mgnt",qe,m),He=Object(d.a)(We,2),Je=He[0],Ke=He[1],Ze=Object(i.g)();Object(n.useEffect)((function(){Ke&&N(Ke.response)}),[Ke]);var Ye=[{title:F("ISMS.Customer"),dataIndex:["inf_list","company"],key:"company"},{title:F("ISMS.Operation"),dataIndex:"information",key:"information",render:function(e,n){return r.a.createElement("div",{className:Ga.a.InformationBtnWrapper},r.a.createElement(ue.a,{title:"Information"},r.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),Ve(n),ie(!0)}},r.a.createElement(Te.b,{className:Ga.a.EditIcon}))),r.a.createElement(ue.a,{title:"Scheme"},r.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),Ae(n),q(!0)}},r.a.createElement(je.s,{className:Ga.a.ViewSchemeIcon}))),r.a.createElement(ue.a,{title:"User"},r.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),A(!0),ke(n)}},r.a.createElement(je.i,{className:Ga.a.CreateUserIcon}))),r.a.createElement(ue.a,{title:"Device Group"},r.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),Oe(n),Q(!0)}},r.a.createElement(je.a,{className:Ga.a.EditGroupIcon}))),r.a.createElement(ue.a,{title:"Device Token"},r.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),be(n),te(!0)}},r.a.createElement(je.j,{className:Ga.a.TokenIcon}))),r.a.createElement(ue.a,{title:"Notification"},r.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),he(n),U(!0)}},r.a.createElement(je.q,{className:Ga.a.NotificationIcon}))),r.a.createElement(ue.a,{title:"Event Log"},r.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),Re(n),K(!0)}},r.a.createElement(je.h,{className:Ga.a.ViewSchemeIcon}))),ze&&""===a.Login.Cid&&r.a.createElement(ue.a,{title:"Delete Customer"},r.a.createElement(se.a,{title:"Sure to Delete?",onConfirm:function(){!function(e){_(!0);var n={method:"post",headers:{"Content-Type":"application/json"},url:"/inf_mgnt",data:JSON.parse('{"delete_inf":{"cid":"'.concat(e.cid,'"}}'))};f()(n).then((function(){_(!1),u(!m),oe.b.success("Delete successfully."),t({type:"setIsUpdate",payload:{IsUpdate:!a.Global.IsUpdate}})})).catch((function(e){_(!1),oe.b.error("Delete fail."),e.response&&401===e.response.status&&(t({type:"setLogin",payload:{IsLogin:!1}}),S(),Ze.push("/userlogin")),console.log(e)}))}(n)}},r.a.createElement(Xe.c,{className:Ga.a.DeleteIcon}))))}}];return r.a.createElement("div",null,r.a.createElement(Qa,{CreateVisible:k,setCreateVisible:T,setIsUpdate:u,IsUpdate:m}),r.a.createElement($a,{EditCustomerInfovisible:le,setEditCustomerInfovisible:ie,record:Be,setRecord:Ve,setIsUpdate:u,IsUpdate:m}),r.a.createElement(Ba,{SchemeModalvisible:z,setSchemeModalvisible:q,record:xe,setRecord:Ae}),r.a.createElement(Xa,{record:we,setRecord:ke,CreateUservisible:x,setCreateUservisible:A}),r.a.createElement(qa,{GroupModalvisible:X,setGroupModalvisible:Q,record:Se,setRecord:Oe}),r.a.createElement(Wa,{Tokenvisible:ae,setTokenvisible:te,record:ge,setRecord:be}),r.a.createElement(Pa,{NotifiModalvisible:R,setNotifiModalvisible:U,record:Ee,setRecord:he}),r.a.createElement(et,{EventLogModalvisible:J,setEventLogModalvisible:K,record:Ge,setRecord:Re}),r.a.createElement(P.a,null,ze&&r.a.createElement(ye.a,{type:"primary",onClick:function(){return T(!0)},className:Ga.a.NewUserInfoBtn,loading:E},F("ISMS.Create Customer")),r.a.createElement(ce.a,{form:c,component:!1},r.a.createElement(pe.a,{className:Ga.a.UserInfoTable,loading:Je||E,columns:Ye,dataSource:O,rowKey:function(e){return e.cid}}))))},tt=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(at,null))},nt=[{title:"Dashboard",path:"/",icon:r.a.createElement(je.n,{style:{fontSize:"1.5rem"}}),cName:"NavText",auth:!0,component:te},{title:"Topology",path:"/topology",icon:r.a.createElement(je.m,{style:{fontSize:"1.5rem"}}),cName:"NavText",auth:!0,component:da},{title:"Upgrade",path:"/backuprestore",icon:r.a.createElement(je.o,{style:{fontSize:"1.5rem"}}),cName:"NavText",auth:!0,component:Da},{title:"Management",path:"/management",icon:r.a.createElement(je.f,{style:{fontSize:"1.5rem"}}),cName:"NavText",auth:!0,component:tt}],rt=t(153),lt=t.n(rt),ct=function(){var e=Object(i.g)(),a=Object(n.useContext)(h),l=a.state,c=a.dispatch,s=Object(n.useState)(!1),p=Object(d.a)(s,2),b=p[0],f=p[1],v=l.Global.showNav,E=l.Global.IsMD,_=Object(A.a)().t;Object(n.useEffect)((function(){l.Global.innerWidth<1200?c({type:"setShowNav",payload:{showNav:!1}}):c({type:"setShowNav",payload:{showNav:!0}}),l.Global.innerWidth<768?c({type:"setIsMD",payload:{IsMD:!0}}):c({type:"setIsMD",payload:{IsMD:!1}})}),[l.Global.innerWidth]);var y=function(){c({type:"setWindow",payload:{innerWidth:window.innerWidth,innerHeight:window.innerHeight}})};return Object(n.useEffect)((function(){}),[v]),Object(n.useEffect)((function(){return window.addEventListener("resize",y),function(){return window.removeEventListener("resize",y)}}),[window.innerWidth]),Object(n.useEffect)((function(){c({type:"setWindow",payload:{innerWidth:window.innerWidth,innerHeight:window.innerHeight}})}),[l.Login.IsLogin]),r.a.createElement("div",{className:g.a.container},r.a.createElement("div",{className:v?E?"".concat(g.a.navwrap," ").concat(g.a.MDshowNav):"".concat(g.a.navwrap):E?"".concat(g.a.MDhideNav," "):"".concat(g.a.navwrap," ").concat(g.a.ChangeBGforHide)},r.a.createElement("ul",{className:g.a.navitems},r.a.createElement("li",{className:g.a.title,style:v?null:{background:"white"}},v?r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement("img",{alt:"",src:t(663),className:g.a.LogoProscend}),r.a.createElement("img",{alt:"",src:t(664),className:g.a.Logo})):null,r.a.createElement(o.b,{to:"#",className:g.a.cross,onClick:function(){c({type:"setShowNav",payload:{showNav:!v}})}},v?r.a.createElement(Xe.c,null):r.a.createElement(je.k,{style:{fontSize:"1.5rem"}}))),nt.map((function(e,a){return r.a.createElement("li",{className:e.navitem,key:a},r.a.createElement(o.b,{to:e.path},r.a.createElement(ue.a,{title:e.title,placement:"right",key:a},e.icon),v?r.a.createElement("span",null,_("ISMS.".concat(e.title))," "):null))}))),l.Login.IsLogin&&(v?r.a.createElement(ye.a,{className:g.a.LogoutBtn,loading:b,onClick:Object(u.a)(m.a.mark((function a(){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return f(!0),c({type:"setLogin",payload:{IsLogin:!1}}),a.next=4,S();case 4:lt.a.fire({title:"Sign Out Success",icon:"success",showConfirmButton:!1,timer:1200}),f(!1),e.push("/userlogin");case 7:case"end":return a.stop()}}),a)})))},_("ISMS.LogOut")):r.a.createElement(ue.a,{title:"Sign-out",placement:"right"},r.a.createElement(je.g,{style:{fontSize:"1.5rem",cursor:"pointer",marginRight:"8px"},onClick:Object(u.a)(m.a.mark((function a(){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return f(!0),c({type:"setLogin",payload:{IsLogin:!1}}),a.next=4,S();case 4:lt.a.fire({title:"Sign Out Success",icon:"success",showConfirmButton:!1,timer:1200}),f(!1),e.push("/userlogin");case 7:case"end":return a.stop()}}),a)})))})))))},ot=(t(665),t(177)),it=t.n(ot),st=t(701),mt={wrapperCol:{xs:{span:5,offset:0},sm:{span:14,offset:5},md:{span:14,offset:5},lg:{span:14,offset:5},xl:{span:10,offset:6}}},ut=function(){var e=Object(n.useContext)(h),a=e.state,t=e.dispatch,l=Object(n.useState)(!1),c=Object(d.a)(l,2),o=c[0],s=c[1],m=Object(i.g)(),u=Object(A.a)().t;return r.a.createElement(P.a,{bodyStyle:{width:"100%"},className:it.a.card},r.a.createElement(ce.a,Object.assign({},mt,{className:it.a.form,name:"basic",initialValues:{remember:!0},onFinish:function(e){s(!0);var n={method:"post",headers:{"Content-Type":"application/json"},url:"/login",data:JSON.parse('{"user":{"name":"'.concat(e.name,'","password":"').concat(e.password,'"}}'))};f()(n).then((function(e){lt.a.fire({title:u("ISMS.SignInSuccess"),icon:"success",showConfirmButton:!1,timer:1200}),localStorage.setItem("authUser.name",e.data.response.name),localStorage.setItem("authUser.cid",e.data.response.cid),localStorage.setItem("authUser.level",e.data.response.level),localStorage.setItem("auth.isAuthed",!0),s(!1),t({type:"setUser",payload:{User:e.data.response.name}}),t({type:"setCid",payload:{Cid:""}}),t({type:"setLogin",payload:{IsLogin:!0}}),a.Login.LogPath&&"/login"!==a.Login.LogPath?m.push(a.Login.LogPath):m.push("/")})).catch((function(e){console.log(e),lt.a.fire({title:u("ISMS.SignInError"),icon:"error",showConfirmButton:!1,timer:1200}),s(!1),m.push("/userlogin")}))},onFinishFailed:function(e){console.log("Failed:",e)}}),r.a.createElement(ce.a.Item,{className:it.a.item,name:"name",rules:[{required:!0,message:"Please input your username!"}]},r.a.createElement(ie.a,{prefix:r.a.createElement(ya.a,{className:"site-form-item-icon"}),placeholder:"Username"})),r.a.createElement(ce.a.Item,{className:it.a.item,name:"password",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(ie.a.Password,{prefix:r.a.createElement(st.a,{className:"site-form-item-icon"})})),r.a.createElement(ce.a.Item,null,r.a.createElement(ye.a,{type:"primary",htmlType:"submit",loading:o},F("ISMS.Login")))))},dt=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(ut,null))},pt=t(691),gt=t(681),bt=t(684),ft=t(47),vt=t.n(ft),Et=t(156),ht=t(367),_t=va.a.Step,yt={labelCol:{xs:{span:8},sm:{span:6}},wrapperCol:{xs:{span:16},sm:{span:12}}},It={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},St=function(e){console.log("Received values of form: ",e)},Ot=function(){var e=ce.a.useForm(),a=Object(d.a)(e,1)[0],t=Object(n.useState)(0),l=Object(d.a)(t,2),c=l[0],o=l[1],i=[{title:"Account Register",content:r.a.createElement(ce.a,Object.assign({},yt,{form:a,name:"register",onFinish:St,scrollToFirstError:!0}),r.a.createElement(ce.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0},r.a.createElement(ie.a.Password,null)),r.a.createElement(ce.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(ie.a.Password,null)),r.a.createElement(ce.a.Item,{name:"company",label:"Company",rules:[{required:!0,message:"Please input your company!"}]},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"contact",label:"Contact Person",rules:[{required:!0,message:"Please input a contact person"}]},r.a.createElement(ie.a,null)),r.a.createElement(ce.a.Item,{name:"phone",label:"Phone Number",rules:[{required:!0,message:"Please input your phone number!"}]},r.a.createElement(ie.a,{style:{width:"100%"}})),r.a.createElement(ce.a.Item,It,r.a.createElement(ye.a,{type:"primary",htmlType:"submit"},"Register")))},{title:"Selecte a Package",content:r.a.createElement("div",{className:"site-card-wrapper"},r.a.createElement($.a,{gutter:{xs:8,sm:16,md:24,lg:32},justify:"space-around"},r.a.createElement(ee.a,{className:"gutter-row",span:7},r.a.createElement(P.a,{bordered:!1,bodyStyle:{padding:0},style:{borderRadius:"15px",overflow:"hidden"},hoverable:!0},r.a.createElement(r.a.Fragment,null,r.a.createElement(pt.b,{size:"large",header:r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:vt.a.ListHeader,style:{background:"#1E90FF",color:"white"}},r.a.createElement("div",{className:vt.a.HeaderIcon},r.a.createElement(Me.d,{style:{fontSize:"55px"}})),r.a.createElement("p",null,"Essential")),r.a.createElement(gt.a,{disabled:!0,defaultValue:2.5,className:vt.a.HeaderRate})),footer:r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:vt.a.Btnbackgroupd},r.a.createElement(ye.a,{className:vt.a.planBtn,style:{background:"#1E90FF",color:"white"}},"Select this plan!")),r.a.createElement("div",{className:vt.a.ListFooter,style:{background:"#1e90ff"}},r.a.createElement("span",{style:{color:"white"}},"See more detail!"))),bordered:!1,dataSource:["30-Day trail","100 Routers","Backup","FOTA","IoT","GPS Track"],renderItem:function(e){return r.a.createElement(pt.b.Item,{className:vt.a.listItems},r.a.createElement("p",null,e),("Backup"===e||"30-Day trail"===e||"100 Routers"===e)&&r.a.createElement(Et.a,{className:vt.a.Essentialv}),("IoT"===e||"FOTA"===e||"GPS Track"===e)&&r.a.createElement(Et.a,{className:vt.a.Essentialx}))}})))),r.a.createElement(ee.a,{className:"gutter-row",span:7},r.a.createElement(P.a,{bordered:!1,bodyStyle:{padding:0},style:{borderRadius:"15px",overflow:"hidden"},hoverable:!0},r.a.createElement(r.a.Fragment,null,r.a.createElement(pt.b,{size:"large",header:r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:vt.a.ListHeader,style:{background:"#32CD32",color:"white"}},r.a.createElement("div",{className:vt.a.HeaderIcon,style:{background:"#32CD32"}},r.a.createElement(ht.a,{style:{fontSize:"55px"}})),r.a.createElement("p",null,"Deluxe")),r.a.createElement(gt.a,{disabled:!0,defaultValue:3.5,className:vt.a.HeaderRate})),footer:r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:vt.a.Btnbackgroupd},r.a.createElement(ye.a,{className:vt.a.planBtn,style:{background:"#32CD32",color:"white"}},"Select this plan!")),r.a.createElement("div",{className:vt.a.ListFooter,style:{background:"#32CD32"}},r.a.createElement("span",{style:{color:"white"}},"See more detail!"))),bordered:!1,dataSource:["100k / month","10000 Routers","Backup","FOTA","IoT","GPS Track"],renderItem:function(e){return r.a.createElement(pt.b.Item,{className:vt.a.listItems},r.a.createElement("p",null,e),("Backup"===e||"100k / month"===e||"FOTA"===e||"10000 Routers"===e)&&r.a.createElement(Et.a,{className:vt.a.Deluxev}),("IoT"===e||"GPS Track"===e)&&r.a.createElement(Et.a,{className:vt.a.Deluxex}))}})))),r.a.createElement(ee.a,{className:"gutter-row",span:7},r.a.createElement(P.a,{bordered:!1,bodyStyle:{padding:0},style:{borderRadius:"15px",overflow:"hidden"},hoverable:!0},r.a.createElement(r.a.Fragment,null,r.a.createElement(pt.b,{size:"large",header:r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:vt.a.ListHeader,style:{background:"#FFD700",color:"brown"}},r.a.createElement("div",{className:vt.a.HeaderIcon,style:{background:"#FFD700"}},r.a.createElement(Me.b,{style:{fontSize:"55px"}})),r.a.createElement("p",null,"Platinum")),r.a.createElement(gt.a,{disabled:!0,defaultValue:5,className:vt.a.HeaderRate})),footer:r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:vt.a.Btnbackgroupd},r.a.createElement(ye.a,{className:vt.a.planBtn,style:{background:"#FFD700",color:"brown"}},"Select this plan!")),r.a.createElement("div",{className:vt.a.ListFooter,style:{background:"#FFD700"}},r.a.createElement("span",{style:{color:"brown"}},"See more detail!"))),bordered:!1,dataSource:["10000k / month","unlimited Routers","Backup","FOTA","IoT","GPS Track"],renderItem:function(e){return r.a.createElement(pt.b.Item,{className:vt.a.listItems},r.a.createElement("p",null,e),("Backup"===e||"10000k / month"===e||"unlimited Routers"===e||"IoT"===e||"FOTA"===e||"GPS Track"===e)&&r.a.createElement(Et.a,{className:vt.a.Platinumv}))}}))))))},{title:"Complete!",content:r.a.createElement("div",null,r.a.createElement(bt.a,{status:"success",title:"Successfully register an account",subTitle:"You can now start using ISMS server!",extra:[r.a.createElement(ye.a,{type:"primary",key:"login"},"Go to Login")]}))}];return r.a.createElement(P.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(va.a,{current:c},i.map((function(e){return r.a.createElement(_t,{key:e.title,title:e.title})}))),r.a.createElement("div",{className:vt.a.stepsContent},i[c].content),r.a.createElement("div",{className:vt.a.stepsAction},c<i.length-1&&r.a.createElement(ye.a,{type:"primary",onClick:function(){o(c+1)}},"Next"),c===i.length-1&&r.a.createElement(ye.a,{type:"primary",onClick:function(){return oe.b.success("Processing complete!")}},"Done"),c>0&&r.a.createElement(ye.a,{style:{margin:"0 8px"},onClick:function(){o(c-1)}},"Previous"))))},jt=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Ot,null))},Nt=t(73),Ct=t.n(Nt),wt=me.a.SubMenu,kt=he.a.Option,Tt=function(){var e=Object(n.useContext)(h),a=e.state,t=e.dispatch,l=localStorage.getItem("authUser.name"),c=Object(i.g)(),o=localStorage.getItem("authUser.cid"),s=localStorage.getItem("authUser.level"),m=Object(n.useState)(null),u=Object(d.a)(m,2),p=u[0],g=u[1],b=Object(n.useState)(!1),v=Object(d.a)(b,2),E=v[0],_=v[1],y=Object(n.useState)(null),I=Object(d.a)(y,2),S=I[0],O=I[1];return Object(n.useEffect)((function(){_(!0);var e={method:"post",headers:{"Content-Type":"application/json"},url:"/inf_mgnt",data:JSON.parse('{"list_inf":{}}')},t={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"get":{"current_alarm":{"filter":{'.concat("super_super"===s?a.Login.Cid:'"cid":"'.concat(o,'"'),"}}}}"))};f.a.all([f()(e),f()(t)]).then(f.a.spread((function(e,a){_(!1),g(e.data),O(a.data.response.current_alarm.list[0].alarm_list),console.log(a.data.response.current_alarm.list[0].alarm_list)}))).catch((function(e){_(!1),console.log(e)}))}),[a.Login.User,a.Global.IsUpdate]),Object(n.useEffect)((function(){a.Global.Lang&&T.a.changeLanguage(a.Global.Lang)}),[a.Global.Lang]),r.a.createElement("div",{className:Ct.a.head},r.a.createElement(je.k,{className:a.Global.IsMD?Ct.a.Reverse:"".concat(Ct.a.Reverse," ").concat(Ct.a.HideReverse),onClick:function(){t({type:"setShowNav",payload:{showNav:!a.Global.showNav}})}}),r.a.createElement(me.a,{mode:"horizontal",className:Ct.a.menu},a.Login.IsLogin&&r.a.createElement(wt,{key:"Notification",icon:r.a.createElement(n.Fragment,null,r.a.createElement(Me.a,{className:Ct.a.NotiIcon}),(null===S||void 0===S?void 0:S.length)&&r.a.createElement($e.a,{color:"#f50",className:Ct.a.NotiTag},S.length)),onClick:function(){}},r.a.createElement(me.a.Item,{onClick:function(){return c.push("./alarm")}},"View all Alarm"),S&&S.map((function(e,a){var n=new Date(1e3*e.trigger_time);return r.a.createElement(me.a.Item,{key:a,icon:"CRITICAL"===e.level?r.a.createElement(Qe.a,{className:Ct.a.critical}):r.a.createElement(Qe.a,{className:Ct.a.warning}),onClick:function(){t({type:"setMaptoTopo",payload:{device:e.id}}),c.push("./topology")}},e.id," | ",n.getFullYear(),"-",n.getMonth()+1,"-",n.getDate())})))),r.a.createElement(me.a,{mode:"horizontal",className:Ct.a.menu},r.a.createElement(wt,{key:"user",icon:r.a.createElement(je.l,{className:Ct.a.user}),title:a.Login.IsLogin&&l})),"super_super"===s&&a.Login.IsLogin&&r.a.createElement(me.a,{mode:"horizontal",className:Ct.a.menu},r.a.createElement(me.a.Item,{key:"s1",className:Ct.a.superSelect},r.a.createElement(he.a,{defaultValue:"All Customer",style:{width:130},onChange:function(e){console.log("selected ".concat(e)),t({type:"setCid",payload:{Cid:e}})},loading:E,disabled:E},r.a.createElement(kt,{value:""},"All Customer"),p&&p.response.map((function(e,a){return r.a.createElement(kt,{key:a,value:'"cid":"'.concat(e.cid,'"')},e.inf_list.company)}))))),a.Global.innerWidth>490&&r.a.createElement(me.a,{mode:"horizontal",className:Ct.a.menu},r.a.createElement(wt,{key:"language",icon:r.a.createElement(Me.e,{className:Ct.a.language}),onClick:function(e){var a=e.key;t(a?{type:"setLang",payload:{Lang:a}}:{type:"setLang",payload:{Lang:"en"}})}},r.a.createElement(me.a.Item,{key:"zh-TW"},"ZH \u7e41\u9ad4\u4e2d\u6587"),r.a.createElement(me.a.Item,{key:"en"},"EN \u82f1\u6587"))))},Mt=function(){var e=Object(i.g)();return r.a.createElement(n.Fragment,null,r.a.createElement(bt.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:r.a.createElement(ye.a,{type:"primary",onClick:function(){e.push("/")}},"Back Home")}))},Lt=function(){var e=Object(i.g)();return r.a.createElement(n.Fragment,null,r.a.createElement(bt.a,{status:"500",title:"500",subTitle:"Sorry, something went wrong.",extra:r.a.createElement(ye.a,{type:"primary",onClick:function(){e.push("/")}},"Back Home")}))},xt=function(){var e=localStorage.getItem("authUser.cid"),a=Object(i.g)(),t=localStorage.getItem("authUser.level"),l=Object(n.useState)(null),c=Object(d.a)(l,2),o=c[0],s=c[1],m=Object(n.useContext)(h),u=m.state,p=m.dispatch,g=Object(n.useState)(!1),b=Object(d.a)(g,2),v=b[0],E=b[1];Object(n.useEffect)((function(){E(!0);var n={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"get":{"current_alarm":{"filter":{'.concat("super_super"===t?u.Login.Cid:'"cid":"'.concat(e,'"'),"}}}}"))};f()(n).then((function(e){s(e.data.response.current_alarm.list[0].alarm_list),E(!1)})).catch((function(e){e.response&&401===e.response.status&&(p({type:"setLogin",payload:{IsLogin:!1}}),S(),a.push("/userlogin")),console.log(e),E(!1)}))}),[u.Login.Cid]);var _=[{title:"Alarm Device",dataIndex:"id",render:function(e,t){return r.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),p({type:"setMaptoTopo",payload:{device:t.id}}),a.push("./topology")}},t.id)}},{title:"Trigger_Time",dataIndex:"time",render:function(e,a){var t=new Date(1e3*a.trigger_time);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())}},{title:"Level",dataIndex:"level",render:function(e,a){return r.a.createElement($e.a,{color:"CRITICAL"===a.level?"red":"#FF8C00"},a.level)}},{title:"Message",dataIndex:"message"}];return r.a.createElement(P.a,{bordered:!1,className:U.a.Card},r.a.createElement(pe.a,{loading:v,columns:_,dataSource:o,rowKey:function(e){return"".concat(e.alarm_record_time," ").concat(e.id)},className:U.a.alarmtable}))},At=function(){var e=Object(i.g)(),a=localStorage.getItem("authUser.cid"),t=localStorage.getItem("authUser.level"),l=Object(n.useState)(null),c=Object(d.a)(l,2),o=c[0],s=c[1],m=Object(n.useContext)(h),u=m.state,p=m.dispatch,g=Object(n.useState)(!1),b=Object(d.a)(g,2),v=b[0],E=b[1];Object(n.useEffect)((function(){E(!0);var n={method:"post",headers:{"Content-Type":"application/json"},url:"/cmd",data:JSON.parse('{"get":{"alarm_log":{"filter":{'.concat("super_super"===t?u.Login.Cid:'"cid":"'.concat(a,'"'),"}}}}"))};f()(n).then((function(e){s(e.data.response.alarm_log.list[0].alarm_list),E(!1)})).catch((function(a){a.response&&401===a.response.status&&(p({type:"setLogin",payload:{IsLogin:!1}}),S(),e.push("/userlogin")),console.log(a),E(!1)}))}),[u.Login.Cid]);var _=[{title:"Alarm Device",dataIndex:"id",render:function(a,t){return r.a.createElement("a",{href:"/#",onClick:function(a){a.preventDefault(),p({type:"setMaptoTopo",payload:{device:t.id}}),e.push("./topology")}},t.id)}},{title:"Trigger",dataIndex:"trigger_time",render:function(e,a){var t=new Date(1e3*a.trigger_time);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())}},{title:"Recover",dataIndex:"recover_time",render:function(e,a){var t=new Date(1e3*a.recover_time);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())}},{title:"Level",dataIndex:"level",render:function(e,a){return r.a.createElement($e.a,{color:"CRITICAL"===a.level?"red":"#FF8C00"},a.level)}},{title:"Message",dataIndex:"message"}];return r.a.createElement(P.a,{bordered:!1,className:U.a.Card},r.a.createElement(pe.a,{loading:v,columns:_,dataSource:o,rowKey:function(e){return"".concat(e.alarm_record_time," ").concat(e.id)},className:U.a.alarmtable}))},Dt=Ee.a.TabPane,Ft=function(){return r.a.createElement(Ee.a,{defaultActiveKey:"1"},r.a.createElement(Dt,{tab:"Current Alarm",key:"1"},r.a.createElement(xt,null)),r.a.createElement(Dt,{tab:"History",key:"2"},r.a.createElement(At,null)))},Gt=(t(670),function(){return r.a.createElement(o.a,null,r.a.createElement(I,null,r.a.createElement("div",{className:"container_"},r.a.createElement("div",null,r.a.createElement(ct,null)),r.a.createElement("div",{className:"rightPage"},r.a.createElement(Tt,null),r.a.createElement("div",{className:"content"},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/alarm",exact:!0,component:Ft}),r.a.createElement(i.b,{path:"/userlogin",exact:!0,component:dt}),r.a.createElement(i.b,{path:"/register",exact:!0,component:jt}),r.a.createElement(i.b,{path:"/internalerror",exact:!0,component:Lt}),nt.map((function(e,a){return r.a.createElement(i.b,{key:a,path:e.path,exact:!0,render:function(){return localStorage.getItem("auth.isAuthed")?r.a.createElement(e.component,null):r.a.createElement(i.a,{to:"/userlogin"})}})})),r.a.createElement(i.b,{component:Mt})))))))});c.a.render(r.a.createElement(Gt,null),document.getElementById("root"))},73:function(e,a,t){e.exports={head:"header_head__1ME8S",Reverse:"header_Reverse__2vU4q",HideReverse:"header_HideReverse__eXuCH",menu:"header_menu__2HDPY",inform:"header_inform__TD8fl",user:"header_user__2i2UO",language:"header_language__1NHnv",NotiIcon:"header_NotiIcon__gMHfi",NotiTag:"header_NotiTag__3tP4P",superSelect:"header_superSelect__1jGp3",critical:"header_critical__xucW6",warning:"header_warning__16mHa"}},81:function(e,a,t){e.exports={Logo:"Navbar_Logo__uDjvZ",LogoProscend:"Navbar_LogoProscend__1eoM8",LogoSmall:"Navbar_LogoSmall__1E9Kr",MD:"Navbar_MD__15iKw",MDhideNav:"Navbar_MDhideNav__jX8gA",NavIconWrapper:"Navbar_NavIconWrapper__2b3aF",container:"Navbar_container__6M_3M",navwrap:"Navbar_navwrap__1AREv",MDshowNav:"Navbar_MDshowNav__1LNnM",ChangeBGforHide:"Navbar_ChangeBGforHide__U8OlD",MDmenue:"Navbar_MDmenue__3A6-P",hideNavbar:"Navbar_hideNavbar__1zkup",navitems:"Navbar_navitems__5VD67",title:"Navbar_title__ShavZ",cross:"Navbar_cross__1AtCn",LogoutBtn:"Navbar_LogoutBtn__2D_xx"}}},[[374,1,2]]]);
//# sourceMappingURL=main.ed3a9862.chunk.js.map