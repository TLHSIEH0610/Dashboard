(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{10:function(e,a,t){e.exports={up:"topology_up__3frHP",critical:"topology_critical__2gRr_",warning:"topology_warning__2T2al",offline:"topology_offline__3KWiK",desc:"topology_desc___vLvg",Tabs:"topology_Tabs__1FbM9",tabpane:"topology_tabpane__3PTJj",connection:"topology_connection__332da",alarmlog:"topology_alarmlog__2T5Lo",disabled:"topology_disabled__1TMLS",modal:"topology_modal__1z4Im",IoT:"topology_IoT__2hPub",Status:"topology_Status__K-cUo",Map:"topology_Map__3-SlI",Setting:"topology_Setting__wVm7Q",alarmtable:"topology_alarmtable__1iA9n",echartBar:"topology_echartBar__SoJvN",IoTinput:"topology_IoTinput__1JL4B",rename:"topology_rename__rpX_E",renameIcon:"topology_renameIcon__2U7Y7",FilterForm:"topology_FilterForm__2_3ly",FilterDevice:"topology_FilterDevice__1JbKm",FilterModel:"topology_FilterModel__3Nv3r",FilterHealth:"topology_FilterHealth__101U9",FilterStrength:"topology_FilterStrength__2QraQ",iconDrop:"topology_iconDrop__10eOi",TopoTable:"topology_TopoTable__nwe2g",FourEightFiveBar:"topology_FourEightFiveBar__1vduH",Refresh:"topology_Refresh__grPlN",RWDwrapper:"topology_RWDwrapper__1QeKl"}},110:function(e,a,t){e.exports={addbtn:"fota_input_addbtn__3If-n",actionbtn:"fota_input_actionbtn__2JxKq",card:"fota_input_card__1EuPU",table:"fota_input_table__gEEQw",disable:"fota_input_disable__3n9BU",form:"fota_input_form__30OBN",input:"fota_input_input__TqB1P",group:"fota_input_group__LJFGU",EdtiDeleBtn:"fota_input_EdtiDeleBtn__2z0eG",EdtiBtn:"fota_input_EdtiBtn__ax0xB"}},158:function(e,a,t){e.exports={card:"login_card__xfxjg",registerBtn:"login_registerBtn__1JoJv"}},170:function(e,a,t){e.exports={marker:"track_map_marker__2aV8g",circle:"track_map_circle__27jVe",circleText:"track_map_circleText__3Rs27",DashboardMap:"track_map_DashboardMap__2tUqU",TrackerMap:"track_map_TrackerMap__30Bd5",SlideBar:"track_map_SlideBar__2mK-7"}},22:function(e,a,t){e.exports={subHeader:"management_subHeader__2oILI",stepsContent:"management_stepsContent__1oogI",stepsAction:"management_stepsAction__10O0x",formwrap:"management_formwrap__hbQtg",formDiv:"management_formDiv__3D1hW",submitBtn:"management_submitBtn__3ihLn",NotifiForm:"management_NotifiForm__36Sk0",InformationBtnWrapper:"management_InformationBtnWrapper__1YF46",NewUserInfoBtn:"management_NewUserInfoBtn__2D1e1",EditIcon:"management_EditIcon__2pnlx",TokenIcon:"management_TokenIcon__SsBVD",NotificationIcon:"management_NotificationIcon__5atnT",CreateUserIcon:"management_CreateUserIcon__2YpV4",DeleteIcon:"management_DeleteIcon__-fJ6n",ViewSchemeIcon:"management_ViewSchemeIcon__3DLkA",EditGroupIcon:"management_EditGroupIcon__1UTTv",groupPane:"management_groupPane__EYwpE",desc:"management_desc__3dgDg",modal:"management_modal__1J3EJ",UserInfoTable:"management_UserInfoTable__2gYzD",spin:"management_spin__2VLDU",Form:"management_Form__1iYVh",EditTokenFormItem:"management_EditTokenFormItem__2Wofo",name:"management_name__2SRh0",password:"management_password__1yBPk",level:"management_level__3E2tb",gid:"management_gid__1LnC0"}},223:function(e,a,t){e.exports={PieWrapper:"Pie_PieWrapper__ntsUT",IotMapWrapper:"Pie_IotMapWrapper__1Bt7b",PieCard:"Pie_PieCard__3Laxp",donC:"Pie_donC__2YSfD"}},340:function(e){e.exports=JSON.parse('{"ISMS":{"Submit":"Submit","Select":"Select","SignInSuccess":"Sign In Success!","SignInError":"Sign In Error!","Setting":"Setting","DevicesHealth":"Devices Health","DevicesStrength":"Devices Strength","up":"up","warning":"warning","critical":"critical","offline":"offline","excellent":"excellent","good":"good","fair":"fair","poor":"poor","Sum":"Sum","Login":"Log in","LogOut":"Log Out","goRegister1":"Don\'t have an account?","goRegister2":"Register and enjoy free trail","Dashboard":"Dashboard","Topology":"Topology","IoT":"IoT","Management":"Management","Device":"Device","Model":"Model","Health":"Health","Strength":"Strength","Reset":"Reset","Search":"Search","Information":"Information","Info":"Info","Device Backup":"Device Backup","Upgrade":"Upgrade","User":"User","Group":"Group","Token":"Token","Notification":"Notification","Scheme":"Scheme","New User Info":"New User Info","Customer":"Customer","Company":"Company","Contact":"Contact","Email":"Email","Phone":"Phone","Operation":"Operation","Action":"Action","TokenList":"TokenList","TimeZone":"TimeZone","Level to Inform":"Level to Inform","Mail active":"Mail active","Mail from":"Mail from","Mail to":"Mail to","Mail Token":"Mail Token","Line active":"Line active","Line Token":"Line Token","New Scheme":"New Scheme","Action Request":"Action Request","File":"File","Action Status":"Action Status","History":"History","FileName":"FileName","FileType":"FileType","CreatedDate":"CreatedDate","Size":"Size","Repository":"Repository","Status":"Status","Upload":"Upload","FOTA":"FOTA"}}')},341:function(e){e.exports=JSON.parse('{"ISMS":{"Submit":"\u9001\u51fa","Select":"\u9078\u64c7","SignInSuccess":"\u767b\u5165\u6210\u529f!","SignInError":"\u767b\u5165\u5931\u6557!","Setting":"\u8a2d\u5b9a","DevicesHealth":"\u5065\u5eb7\u72c0\u614b","DevicesStrength":"\u8a0a\u865f\u5f37\u5f31","up":"\u6b63\u5e38","warning":"\u8b66\u544a","critical":"\u5371\u96aa","offline":"\u96e2\u7dda","excellent":"\u4f73","good":"\u5c1a\u53ef","fair":"\u5f31","poor":"\u4e0d\u4f73","Sum":"\u7e3d\u6578","Login":"\u767b\u5165","LogOut":"\u767b\u51fa","goRegister1":"\u9084\u6c92\u6709\u5e33\u865f\u5bc6\u78bc?","goRegister2":"\u514d\u8cbb\u8a3b\u518a","Dashboard":"\u5100\u9336\u677f","Topology":"\u88dd\u7f6e\u7e3d\u89bd","IoT":"\u7269\u806f\u7db2","Management":"\u7ba1\u7406\u8a2d\u5b9a","Device":"\u88dd\u7f6e","Model":"\u578b\u865f","Health":"\u5065\u5eb7","Strength":"\u8a0a\u865f","Reset":"\u91cd\u7f6e","Search":"\u641c\u5c0b","Information":"\u64cd\u4f5c\u8cc7\u8a0a","Info":"\u8cc7\u8a0a","Device Backup":"\u5099\u4efd\u8207\u66f4\u65b0","Upgrade":"\u88dd\u7f6e\u5347\u7d1a","User":"\u4f7f\u7528\u8005","Group":"\u5206\u7fa4","Token":"\u91d1\u9470","Notification":"\u901a\u77e5\u544a\u8b66","Scheme":"\u65b9\u6848","New User Info":"\u65b0\u589e\u4f7f\u7528\u8005","Customer":"\u5ba2\u6236","Company":"\u516c\u53f8","Contact":"\u63a5\u6d3d\u4eba","Email":"\u4fe1\u7bb1","Phone":"\u96fb\u8a71","Operation":"\u529f\u80fd\u8a2d\u5b9a","Action":"\u64cd\u4f5c","TokenList":"\u91d1\u9470\u6e05\u55ae","TimeZone":"\u6642\u5340","Level to Inform":"\u901a\u77e5\u5c64\u7d1a","Mail active":"\u555f\u7528\u4fe1\u4ef6\u544a\u8b66","Mail from":"\u5bc4\u4ef6\u8005","Mail to":"\u6536\u4ef6\u8005","Mail Token":"\u4fe1\u4ef6\u91d1\u9470","Line active":"\u555f\u7528Line\u544a\u8b66","Line Token":"Line\u91d1\u9470","New Scheme":"\u65b0\u589e\u65b9\u6848","Action Request":"\u767c\u9001\u8acb\u6c42","File":"\u6a94\u6848","Action Status":"\u5df2\u767c\u9001\u8acb\u6c42\u4e4b\u72c0\u614b","History":"\u6b77\u53f2\u7d00\u9304","FileName":"\u6a94\u6848\u540d","FileType":"\u6a94\u6848\u985e\u578b","CreatedDate":"\u5275\u5efa\u65e5\u671f","Size":"\u6a94\u6848","Repository":"\u8cc7\u6599\u5eab","Status":"\u72c0\u614b","Upload":"\u4e0a\u50b3","FOTA":"\u7121\u7dda\u97cc\u9ad4\u66f4\u65b0"}}')},374:function(e,a,t){e.exports=t(673)},39:function(e,a,t){e.exports={card:"devicebackup_card__1umPS",step:"devicebackup_step__1gsa2",Tabicon:"devicebackup_Tabicon__sVAso",Form:"devicebackup_Form__kvSWO",outerspace:"devicebackup_outerspace__1-fFL",clickBtn:"devicebackup_clickBtn__pKW5u",fileinput:"devicebackup_fileinput__3Y30-",actioninput:"devicebackup_actioninput__AHt-_",deviceinput:"devicebackup_deviceinput__2aORH",modelinput:"devicebackup_modelinput__1VPml",formwrap:"devicebackup_formwrap__1iU6B",formDiv:"devicebackup_formDiv__1EZ6Z",submitBtn:"devicebackup_submitBtn__2QxLC",table:"devicebackup_table__10gJv",actionCol:"devicebackup_actionCol__uyUEZ"}},49:function(e,a,t){e.exports={stepsContent:"register_stepsContent__v5qa5",stepsAction:"register_stepsAction__2UaNy",ContentWrapper:"register_ContentWrapper__WiG_Q",ListHeader:"register_ListHeader__XhlJR",HeaderIcon:"register_HeaderIcon__23xS2",HeaderRate:"register_HeaderRate__1tKs8",ListFooter:"register_ListFooter__2rEzU",Btnbackgroupd:"register_Btnbackgroupd__3h9Us",planBtn:"register_planBtn__3ZeDi",listItems:"register_listItems__3mf_C",Essentialv:"register_Essentialv__1RZqp",Essentialx:"register_Essentialx__al13N",Deluxev:"register_Deluxev__1Wza_",Deluxex:"register_Deluxex__2l2G9",Platinumv:"register_Platinumv__21CcK"}},517:function(e,a,t){},666:function(e,a,t){e.exports=t.p+"static/media/ISMS.1e5886b1.png"},667:function(e,a,t){},673:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),r=t(33),c=t.n(r),o=t(81),i=t(61),s=t(48),m=t.n(s),u=t(63),d=t(7),p=t(78),g=t.n(p),f=t(223),E=t.n(f),b=t(687),v=t(207),_=t(18),h=t.n(_),y=t(29),S=Object(n.createContext)(),I=S,k={Global:{innerWidth:"",innerHeight:"",IsMD:!1,showNav:!0,Lang:"en"},Login:{IsLogin:!1,LogPath:"/",User:null,Cid:""},Topology:{id:"id",deviceStatusByID:"",health:null,strength:null,device:null},BackupRestore:{BackupReq:"",ActionStatusList:"",IsActionUpdated:"false"}},w=function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setWindow":return(e=Object(y.a)({},a)).Global.innerWidth=t.payload.innerWidth,e.Global.innerHeight=t.payload.innerHeight,e;case"setLogin":return(e=Object(y.a)({},a)).Login.IsLogin=t.payload.IsLogin,e;case"setUser":return(e=Object(y.a)({},a)).Login.User=t.payload.User,e;case"setCid":return(e=Object(y.a)({},a)).Login.Cid=t.payload.Cid,e;case"LogPath":return(e=Object(y.a)({},a)).Login.LogPath=t.payload.LogPath,e;case"id":return(e=Object(y.a)({},a)).Topology.id=t.payload.id,e;case"deviceStatusByID":return(e=Object(y.a)({},a)).Topology.deviceStatusByID=t.payload.deviceStatusByID,e;case"updateCloud":return(e=Object(y.a)({},a)).BackupRestore.BackupReq=t.payload.BackupReq,e;case"ActionStatusList":return(e=Object(y.a)({},a)).BackupRestore.ActionStatusList=t.payload.ActionStatusList,e;case"IsActionUpdated":return(e=Object(y.a)({},a)).BackupRestore.IsActionUpdated=t.payload.IsActionUpdated,e;case"setPietoTopo":return(e=Object(y.a)({},a)).Topology.health=t.payload.health,e.Topology.strength=t.payload.strength,e;case"setMaptoTopo":return(e=Object(y.a)({},a)).Topology.device=t.payload.device,e;case"setIsMD":return(e=Object(y.a)({},a)).Global.IsMD=t.payload.IsMD,e;case"setLang":return(e=Object(y.a)({},a)).Global.Lang=t.payload.Lang,e;case"setShowNav":return(e=Object(y.a)({},a)).Global.showNav=t.payload.showNav,e;default:return a}},O=function(e){var a=e.children,t=Object(n.useReducer)(w,k),r=Object(d.a)(t,2),c=r[0],o=r[1];return l.a.createElement(S.Provider,{value:{state:c,dispatch:o}},a)};function T(){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(m.a.mark((function e(){var a,t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="/logout",e.prev=1,localStorage.getItem("authUser.cid")){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,fetch(a,{credentials:"include"});case 7:return t=e.sent,console.log(t),localStorage.clear(),e.abrupt("return",t);case 13:return e.prev=13,e.t0=e.catch(1),console.log("error: ",e.t0),t=e.t0,e.abrupt("return",t);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}var j=function(e,a){var t=Object(n.useState)(null),l=Object(d.a)(t,2),r=l[0],c=l[1],o=Object(n.useState)(!1),s=Object(d.a)(o,2),m=s[0],u=s[1],p=Object(i.g)(),g=Object(n.useContext)(I).dispatch,f=Object(i.h)();return Object(n.useEffect)((function(){u(!0),h.a.get(e).then((function(e){c(e.data),u(!1)})).catch((function(e){if(console.log(e),u(!1),e.response&&401===e.response.status){if(!localStorage.getItem("auth.isAuthed"))return;g({type:"LogPath",payload:{LogPath:f.pathname}}),T(),p.push("/login")}else p.push("/internalerror")}))}),[a,e]),[m,r]},C=(t(399),t(197)),N=t.n(C),x=t(57),A=t.n(x),D=(t(309),t(316),t(317),t(177)),G=t(179),P=t(340),F=t(341),L=t(690),U=t(342),R=function(e){return(0,Object(L.a)().t)(e)},B={en:{translation:P},"zh-TW":{translation:F}};D.a.use(U.a),D.a.use(G.e).init({resources:B,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});var V=function(e){var a=e.dataSource,t=e.data,r=e.name,c=Object(i.g)(),o=Object(n.useContext)(I).dispatch,s={click:function(e){"excellent"===e.data.name?o({type:"setPietoTopo",payload:{strength:"".concat(e.data.name)}}):o({type:"setPietoTopo",payload:{health:"".concat(e.data.name)}}),c.push("./topology")}};return l.a.createElement(N.a,{echarts:A.a,option:{title:{text:r,subtext:"\n \n \n \n \n \n \n \n \n ".concat(a?R("ISMS.Sum"):"no data","  ").concat(a?a.reduce((function(e,a){return e+a}),0):"","  "),left:"center",padding:[10,0],subtextStyle:{color:"black",fontSize:15,fontWeight:"bold"}},color:["#28a745","#ffc107","#dc3545","#343a40"],tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"horizontal",data:t,align:"auto",padding:[50,30]},series:[{name:"Number",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!0,top:50,label:{show:!0,position:"inside",bleedMargin:5,alignTo:"none",formatter:"{b} : {c}",fontWeight:"bold",fontSize:"15"},emphasis:{label:{show:!0,fontSize:"20",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:a?a[0]:null,name:t[0],label:{show:!!a&&a[0]}},{value:a?a[1]:null,name:t[1],label:{show:!!a&&a[1]}},{value:a?a[2]:null,name:t[2],label:{show:!!a&&a[2]}},{value:a?a[3]:null,name:t[3],label:{show:!!a&&a[3]}}]}]},notMerge:!0,lazyUpdate:!0,theme:"theme_name",onEvents:s})},H=function(){var e=Object(n.useContext)(I).state,a=localStorage.getItem("authUser.cid"),t="proscend"===a?'/cmd?get={"statistic":{"filter":{'.concat(e.Login.Cid,"}}}"):'/cmd?get={"statistic":{"filter":{"cid":"'.concat(a,'"}}}'),r=j(t),c=Object(d.a)(r,2),o=c[0],i=c[1],s=Object(n.useState)([]),m=Object(d.a)(s,2),u=m[0],p=m[1];return Object(n.useEffect)((function(){i&&p(i.response.statistic.obj)}),[i]),l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:E.a.PieWrapper},l.a.createElement(b.a,{className:E.a.PieCard,bodyStyle:{padding:0}},o?l.a.createElement(v.a,null,l.a.createElement(V,{dataSource:[100,0,0,0],data:[R("ISMS.up"),R("ISMS.warning"),R("ISMS.critical"),R("ISMS.offline")],name:R("ISMS.DevicesHealth")})):l.a.createElement(V,{dataSource:u.health&&[u.health.up,u.health.warning,u.health.critical,u.health.offline],data:[R("ISMS.up"),R("ISMS.warning"),R("ISMS.critical"),R("ISMS.offline")],name:R("ISMS.DevicesHealth")})),l.a.createElement(b.a,{className:E.a.PieCard,bodyStyle:{padding:0}},o?l.a.createElement(v.a,null,l.a.createElement(V,{dataSource:[100,0,0,0],data:[R("ISMS.excellent"),R("ISMS.good"),R("ISMS.fair"),R("ISMS.poor")],name:R("ISMS.DevicesStrength")})):l.a.createElement(V,{dataSource:u.sim&&[u.sim.excellent,u.sim.good,u.sim.fair,u.sim.poor],data:[R("ISMS.excellent"),R("ISMS.good"),R("ISMS.fair"),R("ISMS.poor")],name:R("ISMS.DevicesStrength")}))))},W=t(170),q=t.n(W),z=t(345),K=t.n(z),J=t(325),Y=t(328),Z=t(326),Q=t(327),X=t(25),$=new X.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[35,50],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),ee=new X.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[35,50],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),ae=function(){var e=Object(n.useContext)(I),a=e.state,t=e.dispatch,r=localStorage.getItem("authUser.cid"),c=Object(i.g)(),o='/cmd?get={"device_status":{"filter":{'.concat("proscend"===r?""===a.Login.Cid?"":a.Login.Cid:'"cid":"'.concat(r,'"'),'},"nodeInf":{},"obj":{}}}'),s=j(o),m=Object(d.a)(s,2),u=m[0],p=m[1],g=Object(n.useState)(13),f=Object(d.a)(g,2),E=f[0],_=(f[1],Object(n.useState)([40.692646,-74.033839])),h=Object(d.a)(_,2),y=h[0],S=h[1],k=Object(n.useState)([]),w=Object(d.a)(k,2),O=w[0],T=w[1];Object(n.useEffect)((function(){if(p){var e=[];p.response.device_status.forEach((function(a){e.push({latitude:a.obj.status.gps.latitude,longitude:a.obj.status.gps.longitude,id:a.nodeInf.id,name:a.nodeInf.name,health:a.nodeInf.health,sim:a.nodeInf.sim,lastUpdate:a.nodeInf.lastUpdate})})),T(e),S([e[0].latitude,e[0].longitude])}}),[p]);return l.a.createElement(b.a,{bodyStyle:{padding:"6px"},style:{}},u?l.a.createElement(v.a,null,l.a.createElement(J.a,{center:y,zoom:E,className:q.a.DashboardMap},l.a.createElement(Y.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}))):l.a.createElement(J.a,{center:y,zoom:E,className:q.a.DashboardMap},l.a.createElement(Y.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),l.a.createElement(K.a,{disableClusteringAtZoom:18,removeOutsideVisibleBounds:!0},O&&O.map((function(e,a){var n=new Date(e.lastUpdate);return l.a.createElement(Z.a,{key:a,position:[e.latitude,e.longitude],icon:"up"===e.health?ee:$},l.a.createElement(Q.a,null,"Device: ",""!==e.name?e.name:e.id,l.a.createElement("br",null),"Status: ",e.health,l.a.createElement("br",null),"Signal: ",e.sim,l.a.createElement("br",null),"LastUpdate:"," ","".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()," ").concat(n.getHours(),":").concat(n.getMinutes()),l.a.createElement("br",null),l.a.createElement("a",{href:"/#",onClick:function(a){a.preventDefault(),function(e){console.log(e),t({type:"setMaptoTopo",payload:{device:"".concat(""===e.name?e.id:e.name)}}),c.push("./topology")}(e)}},"see detail")))})))))},te=(t(517),function(){return l.a.createElement("div",null,l.a.createElement(H,null),l.a.createElement(ae,null))}),ne=t(92),le=t(87),re=t(107),ce=t(677),oe=t(682),ie=t(681),se=t(691),me=t(135),ue=t(105),de=t(221),pe=t(678),ge=t(675),fe=t(109),Ee=t(10),be=t.n(Ee),ve=t(695),_e=t(256),he=t(178),ye=t(55),Se=t(684),Ie=t(688),ke=t(117),we=t(44),Oe=_e.a.TabPane,Te=he.a.Option,Me={labelCol:{span:9},wrapperCol:{span:11}},je=l.a.memo((function(e){var a=e.IoTvisible,t=e.setIoTvisible,r=e.record,c=e.setRecord,o=Object(n.useState)(!1),i=Object(d.a)(o,2),s=i[0],m=i[1],u=ce.a.useForm(),p=Object(d.a)(u,1)[0],g=Object(n.useState)(null),f=Object(d.a)(g,2),E=f[0],b=f[1],_=Object(n.useState)(null),y=Object(d.a)(_,2),S=y[0],I=y[1],k=Object(n.useState)(!1),w=Object(d.a)(k,2),O=w[0],T=w[1],M=Object(n.useState)(!1),j=Object(d.a)(M,2),C=j[0],N=j[1];Object(n.useEffect)((function(){if(r&&r.id){m(!0);var e=O?'/cmd?get={"device_cfg":{"filter":{"id":"'.concat(r.id,'"},"nodeInf":{},"obj":{"iot":{}}}}'):'/cmd?get={"device_iot":{"filter":{"id":"'.concat(r.id,'"}}}');console.log(e),h.a.get(e).then((function(e){if(console.log(e.data),e.data.response.device_iot[0].obj.iot){console.log("\u6709data");var a=e.data.response.device_iot[0].obj.iot[0].data;N(!0),b(a),I(e.data.response.device_iot[0].obj.iot),console.log(e.data.response.device_iot[0].obj.iot),p.setFieldsValue({battery_capacity_ah:a.eeprom.battery_capacity_ah,battery_type:a.eeprom.battery_type,charge_limit_voltage_v:a.eeprom.charge_limit_voltage_v,discharge_limit_voltage_v:a.eeprom.discharge_limit_voltage_v,equalizing_charge_interval_day:a.eeprom.equalizing_charge_interval_day,equalizing_charge_time_min:a.eeprom.equalizing_charge_time_min,equalizing_charge_voltage_v:a.eeprom.equalizing_charge_voltage_v,folating_charge_voltage_v:a.eeprom.folating_charge_voltage_v,low_voltage_warning_voltage_v:a.eeprom.low_voltage_warning_voltage_v,over_discharge_delay_s:a.eeprom.over_discharge_delay_s,over_discharge_reverse_voltage_v:a.eeprom.over_discharge_reverse_voltage_v,over_discharge_voltage_v:a.eeprom.over_discharge_voltage_v,overvoltage_voltage_v:a.eeprom.overvoltage_voltage_v,rasing_charge_reverse_voltage_v:a.eeprom.rasing_charge_reverse_voltage_v,rasing_charge_time_min:a.eeprom.rasing_charge_time_min,rasing_charge_voltage_v:a.eeprom.rasing_charge_voltage_v,recognized_voltage_v:a.eeprom.recognized_voltage_v,system_voltage_v:a.eeprom.system_voltage_v,temperature_coefficient:a.eeprom.temperature_coefficient})}else console.log("\u6c92data"),N(!1);m(!1)})).catch((function(e){console.log(e),m(!1)}))}}),[r.id,O]);return l.a.createElement(pe.a,{visible:a,onCancel:function(){t(!1),b(null),T(!1),c({id:null}),N(!1)},centered:!0,destroyOnClose:!0,className:be.a.modal,footer:[l.a.createElement(ye.a,{key:"confirm",type:"primary",onClick:function(){t(!1),b(null),T(!1),c({id:null}),N(!1)}},"Confirm")]},E&&!s?l.a.createElement(n.Fragment,null,l.a.createElement(he.a,{value:S&&S[0].id,className:be.a.FourEightFiveBar,onChange:function(e){console.log("selected ".concat(e))}},S&&S.map((function(e,a){return l.a.createElement(Te,{key:a,value:e.id},e.id)}))),l.a.createElement(ue.a,{title:"Re-get data from Device"},l.a.createElement(se.a,{title:"Will cause extra data usage, sure to refresh?",onConfirm:function(){T(!0),N(!1)}},l.a.createElement(we.s,{className:be.a.Refresh}))),l.a.createElement(_e.a,{defaultActiveKey:"Today",onChange:function(e){console.log(e)}},l.a.createElement(Oe,{tab:"Today",key:"Today",className:be.a.tabpane},l.a.createElement(Se.a,{bordered:!0,column:{xxl:2,xl:2,lg:2,md:2,sm:1,xs:1},className:be.a.desc},l.a.createElement(Se.a.Item,{label:"Battery",className:be.a.descItem},"Minimal Voltage:",E.controller.today.battery.min_voltage_v,"(V)",l.a.createElement("br",null),"Maximum Voltage:",E.controller.today.battery.max_voltage_v,"(V)",l.a.createElement("br",null)),l.a.createElement(Se.a.Item,{label:"Charge",className:be.a.descItem},"Maximum Current:",E.controller.today.charge.max_current_a,"(A)",l.a.createElement("br",null),"AH:",E.controller.today.charge.ampere_hour_ah,"(A/H)",l.a.createElement("br",null),"Watt: ",E.controller.today.charge.watt_w,"(W)",l.a.createElement("br",null),"Maximum Watt:",E.controller.today.charge.max_watt_w,"(W)",l.a.createElement("br",null),"Total Watt:",E.controller.today.charge.total_watt_w,"(W)",l.a.createElement("br",null)),l.a.createElement(Se.a.Item,{label:"Discharge",className:be.a.descItem},"Maximum Current:",E.controller.today.discharge.max_current_a,"(A)",l.a.createElement("br",null),"AH:",E.controller.today.discharge.ampere_hour_ah,"(A/H)",l.a.createElement("br",null),"Watt: ",E.controller.today.discharge.watt_w,"(W)",l.a.createElement("br",null),"Maximum Watt:",E.controller.today.discharge.max_watt_w,"(W)",l.a.createElement("br",null),"Total Watt:",E.controller.today.discharge.total_watt_w,"(W)",l.a.createElement("br",null)))),l.a.createElement(Oe,{tab:"Solar Pannel",key:"Pannel",className:be.a.tabpane},l.a.createElement(Se.a,{bordered:!0,className:be.a.desc,column:{xxl:2,xl:2,lg:2,md:2,sm:1,xs:1}},l.a.createElement(Se.a.Item,{label:"Current"},E.controller.solar_pannel.current_a," (A)"),l.a.createElement(Se.a.Item,{label:"Voltage"},E.controller.solar_pannel.voltage_v," (V)"),l.a.createElement(Se.a.Item,{label:"Watt"},E.controller.solar_pannel.watt_w," (W)"),l.a.createElement(Se.a.Item,{label:"Temperature"},E.controller.temperature_c,"(C)"))),l.a.createElement(Oe,{tab:"Battery",key:"Battery",className:be.a.tabpane},l.a.createElement(Se.a,{bordered:!0,className:be.a.desc},l.a.createElement(Se.a.Item,{label:"Charge Current"},E.controller.battery.charge_current_a," (A)"),l.a.createElement(Se.a.Item,{label:"Full Charged Time"},E.controller.battery.full_charged_time),l.a.createElement(Se.a.Item,{label:"Over Discharged Time"},E.controller.battery.over_discharged_time),l.a.createElement(Se.a.Item,{label:"SOC"},E.controller.battery.soc_percentage," (%)"),l.a.createElement(Se.a.Item,{label:"Temperature"},E.controller.battery.temperature_c," (C)"),l.a.createElement(Se.a.Item,{label:"Total Charge"},E.controller.battery.total_charge_ah,"(A/H)"),l.a.createElement(Se.a.Item,{label:"Total Discharge"},E.controller.battery.total_discharge_ah,"(A/H)"),l.a.createElement(Se.a.Item,{label:"Voltage"},E.controller.battery.voltage_v," (V)"),l.a.createElement(Se.a.Item,{label:"Charge State"},E.controller.charge_state," (W)"))),l.a.createElement(Oe,{tab:"Load",key:"Load",className:be.a.tabpane},l.a.createElement(Se.a,{bordered:!0,className:be.a.desc,column:{xxl:2,xl:2,lg:2,md:2,sm:1,xs:1}},l.a.createElement(Se.a.Item,{label:"Current"},E.controller.load.current_a," (A)"),l.a.createElement(Se.a.Item,{label:"Voltage"},E.controller.load.voltage_v," (V)"),l.a.createElement(Se.a.Item,{label:"Watt"},E.controller.load.watt_w," (W)"),l.a.createElement(Se.a.Item,{label:"Load Light"},E.controller.load_light_percentage,"(%)"),l.a.createElement(Se.a.Item,{label:"Load ON/OFF"},E.controller.load_on_off))),l.a.createElement(Oe,{tab:"eeprom",key:"eeprom",className:be.a.tabpane},l.a.createElement(ce.a,Object.assign({},Me,{name:"nest-messages",onFinish:function(e){console.log(e)},form:p}),l.a.createElement(ce.a.Item,{name:"battery_capacity_ah",label:"Battery Capacity (AH)"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"battery_type",label:"Battery Type"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"charge_limit_voltage_v",label:"Charge limit(V)"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"discharge_limit_voltage_v",label:"Discharge limit(V)"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"equalizing_charge_interval_day",label:"Equalizing Charge Interval(day)"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"equalizing_charge_time_min",label:"Equalizing Charge time(min)"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"equalizing_charge_voltage_v",label:"Equalizing Charge(V)"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"folating_charge_voltage_v",label:"Folating Charge(V)"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"low_voltage_warning_voltage_v",label:"Low Voltage warning(V)"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"over_discharge_delay_s",label:"Over Discharge delay(s)"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"over_discharge_reverse_voltage_v",label:"Over Discharge reverse(V)"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"over_discharge_voltage_v",label:"Over Discharge(V)"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"overvoltage_voltage_v",label:"Overvoltage(V)"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"rasing_charge_reverse_voltage_v",label:"Rasing Charge Reverse Voltage(V)"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"rasing_charge_time_min",label:"Rasing charge time min"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"rasing_charge_voltage_v",label:"Rasing charge(V)"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"recognized_voltage_v",label:"Recognized Voltage(V)"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"system_voltage_v",label:"System Voltage(V)"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})),l.a.createElement(ce.a.Item,{name:"temperature_coefficient",label:"Temp Coefficient"},l.a.createElement(ie.a,{className:be.a.IoTinput,disabled:!0})))),l.a.createElement(Oe,{tab:"system",key:"system",className:be.a.tabpane},l.a.createElement(Se.a,{bordered:!0,className:be.a.desc,column:{xxl:2,xl:2,lg:2,md:2,sm:1,xs:1}},l.a.createElement(Se.a.Item,{label:"Charge Current"},E.system.charge_current_a," (A)"),l.a.createElement(Se.a.Item,{label:"Discharge Current"},E.system.discharge_current_a," (A)"),l.a.createElement(Se.a.Item,{label:"Voltage_max"},E.system.max_voltage_v," (V)"),l.a.createElement(Se.a.Item,{label:"Hardware Version"},E.system.hardware_version),l.a.createElement(Se.a.Item,{label:"Serial Number"},E.system.serial_number),l.a.createElement(Se.a.Item,{label:"Software Version"},E.system.software_version))))):!C&&s?l.a.createElement(v.a,{tip:"Loading..."},l.a.createElement(Ie.a,{message:"Getting Data",description:"We are now getting data from server, please wait for a few seconds"})):l.a.createElement(ke.a,{description:l.a.createElement("span",null,"No Data")}))})),Ce=t(90),Ne=t(115),xe=_e.a.TabPane,Ae=l.a.memo((function(e){var a=e.record,t=e.setAlarmTablevisible,r=e.AlarmTablevisible,c=Object(n.useState)([]),o=Object(d.a)(c,2),i=o[0],s=o[1],m=Object(n.useState)([]),u=Object(d.a)(m,2),p=u[0],g=u[1],f=Object(n.useState)(!1),E=Object(d.a)(f,2),b=E[0],v=E[1];Object(n.useEffect)((function(){var e='/cmd?get={"alarm_log":{"filter":{"id":"'.concat(a.id,'"}}}');v(!0),h.a.get(e).then((function(e){var a=[];e.data.response.alarm_log.list[0].alarm_list.forEach((function(e,t){e.key=t,a.push(e)})),s(a),v(!1)})).catch((function(){v(!1)}))}),[a]),Object(n.useEffect)((function(){var e='/cmd?get={"current_alarm":{"filter":{"id": "'.concat(a.id,'"}}}');v(!0),h.a.get(e).then((function(e){var a=[];e.data.response.current_alarm.list[0].alarm_list.forEach((function(e,t){e.key=t,a.push(e)})),g(a),v(!1)})).catch((function(){v(!1)}))}),[a]);var _=[{title:"Level",dataIndex:"level",key:"level"},{title:"Message",dataIndex:"message",key:"message"},{title:"TrigerTime",dataIndex:"trigger_time",key:"trigger_time",render:function(e){var a=new Date(1e3*e);return"".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate()," ").concat(a.getHours(),":").concat(a.getMinutes())}},{title:"RecoverTime",dataIndex:"recover_time",key:"recover_time",render:function(e){var a=new Date(1e3*e);return"".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate()," ").concat(a.getHours(),":").concat(a.getMinutes())}}];return l.a.createElement(l.a.Fragment,null,l.a.createElement(pe.a,{visible:r,onCancel:function(){return t(!1)},centered:!0,className:be.a.modal,destroyOnClose:!0,footer:[l.a.createElement(ye.a,{key:"confirm",type:"primary",onClick:function(){return t(!1)}},"Confirm")]},l.a.createElement(_e.a,{defaultActiveKey:"Log"},l.a.createElement(xe,{tab:"Current",key:"Current",className:be.a.tabpane},l.a.createElement(ge.a,{loading:b,className:be.a.alarmtable,dataSource:p,columns:_,pagination:!0,scroll:{y:400},size:"middle"})),l.a.createElement(xe,{tab:"Log",key:"Log",className:be.a.tabpane},l.a.createElement(ge.a,{loading:b,className:be.a.alarmtable,dataSource:i,columns:_,pagination:!0,scroll:{y:400},size:"middle"})))))})),De=(t(629),l.a.memo((function(e){var a=e.DeviceIdentity;return l.a.createElement(Se.a,{bordered:!0,className:be.a.desc},a&&l.a.createElement(Se.a.Item,{label:"DeviceIdentity"},"IMEI: ",a.IMEI,l.a.createElement("br",null),"bootloader_version: ",a.bootloader_version,l.a.createElement("br",null),"hardware_mcsv: ",a.hardware_mcsv,l.a.createElement("br",null),"hostname: ",a.hostname,l.a.createElement("br",null),"lan_eth_mac: ",a.lan_eth_mac,l.a.createElement("br",null),"modem_firmware_version: ",a.modem_firmware_version,l.a.createElement("br",null),"serial_number: ",a.serial_number,l.a.createElement("br",null),"wan_eth_mac: ",a.wan_eth_mac,l.a.createElement("br",null),"wifi_ap_mac: ",a.wifi_ap_mac,l.a.createElement("br",null)))}))),Ge=l.a.memo((function(e){var a=e.DeviceStatus.status.sim;return l.a.createElement("div",null,l.a.createElement(Se.a,{bordered:!0,className:be.a.desc},l.a.createElement(Se.a.Item,{label:"Strength"},"EARFCN:",a.EARFCN,l.a.createElement("br",null),"IMSI: ",a.IMSI,l.a.createElement("br",null),"PLMN : ",a.PLMN,l.a.createElement("br",null),"access : ",a.access,l.a.createElement("br",null),"active : ",a.active,l.a.createElement("br",null),"band: ",a.band,l.a.createElement("br",null),"operator: ",a.operator,l.a.createElement("br",null),"phone_number: ",a.phone_number,l.a.createElement("br",null),"roaming: ",a.roaming,l.a.createElement("br",null),"rssi_dbm:",a.rssi_dbm,l.a.createElement("br",null),"status:",a.status,l.a.createElement("br",null))))})),Pe=l.a.memo((function(e){var a=e.DeviceStatus.status.gps;return l.a.createElement("div",null,l.a.createElement(Se.a,{bordered:!0,className:be.a.desc},l.a.createElement(Se.a.Item,{label:"GPS"},"altitude:",a.altitude,l.a.createElement("br",null),"date: ",a.date,l.a.createElement("br",null),"horizontal : ",a.horizontal,l.a.createElement("br",null),"latitude : ",a.latitude,l.a.createElement("br",null),"longitude : ",a.longitude,l.a.createElement("br",null),"satellite: ",a.satellite,l.a.createElement("br",null),"utc-time: ",a["utc-time"],l.a.createElement("br",null))))})),Fe=l.a.memo((function(e){var a=e.DeviceStatus.status.dns;return l.a.createElement("div",null,l.a.createElement(Se.a,{bordered:!0,className:be.a.desc},l.a.createElement(Se.a.Item,{label:"DNS"},"wan_ip4_1:",a.wan[0].ipv4[0],l.a.createElement("br",null),"wan_ip4_2: ",a.wan[0].ipv4[1],l.a.createElement("br",null),"wan_ip4_3:",a.wan[0].ipv4[2],l.a.createElement("br",null),"wan_ip6_1:",a.wan[0].ipv6[0],l.a.createElement("br",null),"wan_ip6_2: ",a.wan[0].ipv6[1],l.a.createElement("br",null),"wan_ip6_3: ",a.wan[0].ipv6[2],l.a.createElement("br",null))))})),Le=l.a.memo((function(e){var a=e.DeviceStatus.status.connection;return l.a.createElement("div",null,l.a.createElement(Se.a,{bordered:!0,className:be.a.desc,column:{xxl:2,xl:2,lg:2,md:2,sm:1,xs:1}},l.a.createElement(Se.a.Item,{label:"LAN"},"ip4_adress: ",a.lan.ipv4.adress,l.a.createElement("br",null),"ip4_netmask: ",a.lan.ipv4.netmask,l.a.createElement("br",null),"ip6_adress: ",a.lan.ipv6.address,l.a.createElement("br",null),"ip6_up_time:",a.lan.ipv6.uptime,l.a.createElement("br",null)),l.a.createElement(Se.a.Item,{label:"LTE"},"active: ",a.lte.active,l.a.createElement("br",null),"ip4_apn_address: ",a.lte.apn[0].ipv4.address,l.a.createElement("br",null),"ip4_apn_gateway: ",a.lte.apn[0].ipv4.gateway,l.a.createElement("br",null),"ip4_apn_netmask: ",a.lte.apn[0].ipv4.netmask,l.a.createElement("br",null),"ip4_apn_uptime: ",a.lte.apn[0].ipv4.uptime,l.a.createElement("br",null),"ip4_address: ",a.lte.ipv4.address,l.a.createElement("br",null),"ip4_gateway: ",a.lte.ipv4.gateway,l.a.createElement("br",null),"ip4_netmask: ",a.lte.ipv4.netmask,l.a.createElement("br",null),"ip4_uptime: ",a.lte.ipv4.uptime,l.a.createElement("br",null)),l.a.createElement(Se.a.Item,{label:"WAN"},"active: ",a.wan.active,l.a.createElement("br",null),"ip4_address: ",a.wan.ipv4.address,l.a.createElement("br",null),"ip4_gateway: ",a.wan.ipv4.gateway,l.a.createElement("br",null),"ip4_netmask:",a.wan.ipv4.netmask,l.a.createElement("br",null),"ip4_up_time:",a.wan.ipv4.uptime,l.a.createElement("br",null)),l.a.createElement(Se.a.Item,{label:"WWAN"},"active: ",a.wwan.active,l.a.createElement("br",null),"ip4_MAC: ",a.wwan.ipv4.MAC,l.a.createElement("br",null),"ip4_SSID: ",a.wwan.ipv4.SSID,l.a.createElement("br",null),"ip4_address:",a.wwan.ipv4.address,l.a.createElement("br",null),"ip4_channel:",a.wwan.ipv4.channel,l.a.createElement("br",null),"ip4_gateway:",a.wwan.ipv4.gateway,l.a.createElement("br",null),"ip4_netmask:",a.wwan.ipv4.netmask,l.a.createElement("br",null),"ip4_up_time:",a.wwan.ipv4.uptime,l.a.createElement("br",null))))})),Ue=l.a.memo((function(e){var a=e.DeviceStatus.status.statistic;return l.a.createElement(N.a,{echarts:A.a,option:{title:{show:!0,text:"DataUsage",textStyle:{fontWeight:"bold",fontFamily:"sans-serif"},right:"auto",left:"auto"},legend:{show:!0,right:"10%"},tooltip:{},dataset:{source:[["product","tx","rx"],["LTE",a.lte.tx_kbytes,a.lte.rx_kbytes],["WAN",a.wan.tx_kbytes,a.wan.rx_kbytes],["LAN",a.lan.tx_kbytes,a.lan.rx_kbytes]]},xAxis:{type:"category"},yAxis:{},series:[{type:"bar"},{type:"bar"}]},notMerge:!0,lazyUpdate:!0,theme:"theme_name",className:be.a.echartBar})})),Re=_e.a.TabPane,Be=l.a.memo((function(e){var a=e.record,t=e.setDeviceStatevisible,r=e.DeviceStatevisible,c=Object(n.useState)([]),o=Object(d.a)(c,2),i=o[0],s=o[1],m=Object(n.useState)(!1),u=Object(d.a)(m,2),p=u[0],g=u[1],f=Object(n.useState)([]),E=Object(d.a)(f,2),b=E[0],_=E[1];return Object(n.useEffect)((function(){if(a.id){var e='/cmd?get={"device_status":{"filter":{"id":"'.concat(a.id,'"},"nodeInf":{},"obj":{}}}');g(!0),h.a.get(e).then((function(e){console.log(e),s(e.data.response.device_status[0].obj),g(!1)})).catch((function(e){console.log(e),g(!1)}))}}),[a]),Object(n.useEffect)((function(){if(a.id){var e='/cmd?get={"device_identity":{"filter":{"id":"'.concat(a.id,'"},"nodeInf":{},"obj":{}}}');g(!0),h.a.get(e).then((function(e){console.log(e),_(e.data.response.device_identity[0].obj.identity),g(!1)})).catch((function(e){console.log(e),g(!1)}))}}),[a]),l.a.createElement(pe.a,{visible:r,onCancel:function(){return t(!1)},destroyOnClose:!0,className:be.a.modal,footer:[l.a.createElement(ye.a,{key:"confirm",type:"primary",onClick:function(){return t(!1)}},"Confirm")]},i.status?l.a.createElement(_e.a,{defaultActiveKey:"1",className:be.a.Tabs},l.a.createElement(Re,{tab:"Statistic",key:"1",className:be.a.tabpane},l.a.createElement(Ue,{uploading:p,DeviceStatus:i})),l.a.createElement(Re,{tab:"Connection",key:"2",className:be.a.tabpane},l.a.createElement(Le,{uploading:p,DeviceStatus:i,className:be.a.connection})),l.a.createElement(Re,{tab:"Strength",key:"3",className:be.a.tabpane},l.a.createElement(Ge,{uploading:p,DeviceStatus:i})),l.a.createElement(Re,{tab:"GPS",key:"4",className:be.a.tabpane},l.a.createElement(Pe,{uploading:p,DeviceStatus:i})),l.a.createElement(Re,{tab:"DNS",key:"5",className:be.a.tabpane},l.a.createElement(Fe,{uploading:p,DeviceStatus:i})),l.a.createElement(Re,{tab:"Identity",key:"6",className:be.a.tabpane},l.a.createElement(De,{DeviceIdentity:b,uploading:p}))):l.a.createElement(v.a,{tip:"Loading..."},l.a.createElement(Ie.a,{message:"Getting Data",description:"We are now getting data from server, please wait for a few seconds"})))})),Ve=t(692),He=t(220),We={labelCol:{span:8},wrapperCol:{span:12}},qe=l.a.memo((function(e){var a=e.DeviceConfig,t=e.id,r=e.setUploading,c=e.uploading,o=ce.a.useForm(),i=Object(d.a)(o,1)[0],s=a.lan;return Object(n.useEffect)((function(){s.ipv4&&(console.log(a),i.setFieldsValue({ipv4_address:s.ipv4.address,ipv4_netmask:s.ipv4.netmask,ipv4_dhcpmode:s.ipv4.dhcp.mode,ipv4_dhcp_start:s.ipv4.dhcp.pool[0].start,ipv4_dhcp_end:s.ipv4.dhcp.pool[0].end,ipv6_type:s.ipv6.type,ipv6_adress:s.ipv6.static.address,ipv6_assignment:s.ipv6.dhcp.assigment}))}),[s.ipv4]),l.a.createElement(ce.a,Object.assign({},We,{onFinish:function(e){r(!0);var a='/cmd?get={"device_cfg":{"filter":{"id":"'.concat(t,'"},"nodeInf":{},"obj":{"lan":{"ipv4":{"address":"').concat(e.ipv4_address,'","netmask":"').concat(e.ipv4_netmask,'","dhcp":{"mode":"').concat(e.ipv4_dhcpmode,'","pool":[{"start":"').concat(e.ipv4_dhcp_start,'","end":"').concat(e.ipv4_dhcp_end,'","fixed_ip":[]}]}},"ipv6":{"type":"').concat(e.ipv6_type,'","static":{"address":"').concat(e.ipv6_adress,'"},"dhcp":{"assigment":"').concat(e.ipv6_assignment,'"}}}}}}');h.a.get(a).then((function(e){console.log(e),r(!1),oe.b.success("update successfully.")})).catch((function(e){console.log(e),r(!1),oe.b.error("update fail.")}))},form:i}),l.a.createElement(ce.a.Item,{name:"ipv4_address",label:"ipv4_address",rules:[{required:!0}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"ipv4_netmask",label:"ipv4_netmask",rules:[{required:!0}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"ipv4_dhcpmode",label:"ipv4_dhcpmode",valuePropName:"checked",rules:[{required:!0}]},l.a.createElement(Ve.a,{defaultChecked:!0})),l.a.createElement(ce.a.Item,{name:"ipv4_dhcp_start",label:"ipv4_dhcp_start",rules:[{required:!0}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"ipv4_dhcp_end",label:"ipv4_dhcp_end",rules:[{required:!0}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"ipv6_type",label:"ipv6_type",rules:[{required:!0}]},l.a.createElement(He.a.Group,null,l.a.createElement(He.a,{value:"delegate-prefix-from-wan"},"delegate-prefix-from-wan"),l.a.createElement(He.a,{value:"static"},"static"))),l.a.createElement(ce.a.Item,{name:"ipv6_adress",label:"ipv6_adress"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"ipv6_assignment",label:"ipv6_assignment",rules:[{required:!0}]},l.a.createElement(He.a.Group,null,l.a.createElement(He.a,{value:"stateful"},"stateful"),l.a.createElement(He.a,{value:"stateless"},"stateless"))),l.a.createElement(ce.a.Item,{wrapperCol:{span:6,offset:18}},l.a.createElement(ye.a,{type:"primary",htmlType:"submit",loading:c},"Submit")))})),ze=l.a.memo((function(e){var a=e.DeviceConfig,t=e.id,r=e.setUploading,c=e.uploading,o=ce.a.useForm(),i=Object(d.a)(o,1)[0],s=a.wan;return Object(n.useEffect)((function(){s.ethernet&&i.setFieldsValue({ipv4_type_1:s.ethernet.dhcp.dns.ipv4[0].type,ipv4_address_1:s.ethernet.dhcp.dns.ipv4[0].address,ipv4_type_2:s.ethernet.dhcp.dns.ipv4[1].type,ipv4_address_2:s.ethernet.dhcp.dns.ipv4[1].address,ipv4_type_3:s.ethernet.dhcp.dns.ipv4[2].type,ipv4_address_3:s.ethernet.dhcp.dns.ipv4[2].address,username:s.ethernet.pppoe.username,password:s.ethernet.pppoe.password,service_name:s.ethernet.pppoe.service_name,priority_1:s.priority.order[0],priority_2:s.priority.order[1],priority_3:s.priority.order[2],lte_mode:s.priority.lte.mode,ethernet_type:s.ethernet.type,static_ipv4_address:s.ethernet.static.ipv4.address,static_ipv4_dns_address1:s.ethernet.static.ipv4.dns[0].address,static_ipv4_dns_address2:s.ethernet.static.ipv4.dns[1].address,static_ipv4_dns_address3:s.ethernet.static.ipv4.dns[2].address,static_gateway:s.ethernet.static.ipv4.gateway,static_netmask:s.ethernet.static.ipv4.netmask})}),[s.ethernet]),l.a.createElement(ce.a,Object.assign({},We,{onFinish:function(e){r(!0);var a='/cmd?set={"device_cfg":{"filter":{"id":"'.concat(t,'"},"nodeInf":{},"obj":{"wan":{"priority":{"order":["').concat(e.priority_1,'","').concat(e.priority_2,'","').concat(e.priority_3,'"],"lte":{"mode":"').concat(e.lte_mode,'"}},"ethernet":{"type":"').concat(e.ethernet_type,'","dhcp":{"dns":{"ipv4":[{"type":"').concat(e.ipv4_type_1,'","address":"').concat(e.ipv4_address_1,'"},{"type":"').concat(e.ipv4_type_2,'","address":"').concat(e.ipv4_address_3,'"},{"type":"').concat(e.ipv4_type_3,'","address":"').concat(e.ipv4_address_2,'"}]}},"pppoe":{"username":"').concat(e.username,'","password":"********","service_name":"').concat(e.service_name,'"},"static":{"ipv4":{"address":"').concat(e.static_ipv4_address,'","netmask":"').concat(e.static_netmask,'","gateway":"').concat(e.static_gateway,'","dns":[{"address":"').concat(e.static_ipv4_dns_address1,'"},{"address":"').concat(e.static_ipv4_dns_address2,'"},{"address":"').concat(e.static_ipv4_dns_address3,'"}]}}}}}}}');h.a.get(a).then((function(e){console.log(e),r(!1),oe.b.success("update successfully.")})).catch((function(e){console.log(e),r(!1),oe.b.error("update fail.")}))},form:i}),l.a.createElement(ce.a.Item,{label:"Ethernet dhcp dns"},l.a.createElement(ie.a.Group,{compact:!0},l.a.createElement(ce.a.Item,{name:"ipv4_type_1"},l.a.createElement(He.a.Group,null,l.a.createElement(He.a,{value:"ISP"},"ISP"),l.a.createElement(He.a,{value:"manual"},"Manual"),l.a.createElement(He.a,{value:"nonec"},"none"))),l.a.createElement(ce.a.Item,{name:"ipv4_address_1",noStyle:!0},l.a.createElement(ie.a,{placeholder:"Input adress"}))),l.a.createElement(ie.a.Group,{compact:!0},l.a.createElement(ce.a.Item,{name:"ipv4_type_2"},l.a.createElement(He.a.Group,null,l.a.createElement(He.a,{value:"ISP"},"ISP"),l.a.createElement(He.a,{value:"manual"},"Manual"),l.a.createElement(He.a,{value:"nonec"},"none"))),l.a.createElement(ce.a.Item,{name:"ipv4_address_2",noStyle:!0},l.a.createElement(ie.a,{placeholder:"Input adress"}))),l.a.createElement(ie.a.Group,{compact:!0},l.a.createElement(ce.a.Item,{name:"ipv4_type_3"},l.a.createElement(He.a.Group,null,l.a.createElement(He.a,{value:"ISP"},"ISP"),l.a.createElement(He.a,{value:"manual"},"Manual"),l.a.createElement(He.a,{value:"nonec"},"none"))),l.a.createElement(ce.a.Item,{name:"ipv4_address_3",noStyle:!0},l.a.createElement(ie.a,{placeholder:"Input adress"})))),l.a.createElement(ce.a.Item,{name:"username",label:"username"},l.a.createElement(ie.a,{placeholder:"Input username"})),l.a.createElement(ce.a.Item,{name:"password",label:"password"},l.a.createElement(ie.a,{placeholder:"Input password"})),l.a.createElement(ce.a.Item,{name:"service_name",label:"service_name"},l.a.createElement(ie.a,{placeholder:"Input service_name"})),l.a.createElement(ce.a.Item,{label:"Priority Order"},l.a.createElement(ie.a.Group,{compact:!0},l.a.createElement(ce.a.Item,{name:"priority_1",noStyle:!0},l.a.createElement(He.a.Group,null,l.a.createElement(He.a,{value:"lte"},"lte"),l.a.createElement(He.a,{value:"eth"},"eth"),l.a.createElement(He.a,{value:"wifi-2.4G"},"wifi-2.4G"))),l.a.createElement(ce.a.Item,{name:"priority_2",noStyle:!0},l.a.createElement(He.a.Group,null,l.a.createElement(He.a,{value:"lte"},"lte"),l.a.createElement(He.a,{value:"eth"},"eth"),l.a.createElement(He.a,{value:"wifi-2.4G"},"wifi-2.4G"))),l.a.createElement(ce.a.Item,{name:"priority_3",noStyle:!0},l.a.createElement(He.a.Group,null,l.a.createElement(He.a,{value:"lte"},"lte"),l.a.createElement(He.a,{value:"eth"},"eth"),l.a.createElement(He.a,{value:"wifi-2.4G"},"wifi-2.4G"))))),l.a.createElement(ce.a.Item,{name:"lte_mode",label:"LTE Mode"},l.a.createElement(He.a.Group,null,l.a.createElement(He.a,{value:"bridge"},"bridge"),l.a.createElement(He.a,{value:"router"},"router"))),l.a.createElement(ce.a.Item,{name:"ethernet_type",label:"Ethernet Type"},l.a.createElement(He.a.Group,null,l.a.createElement(He.a,{value:"dhcp"},"dhcp"),l.a.createElement(He.a,{value:"pppoe"},"pppoe"),l.a.createElement(He.a,{value:"static"},"static"))),l.a.createElement(ce.a.Item,{name:"static_ipv4_address",label:"static_ipv4_address"},l.a.createElement(ie.a,{placeholder:"Input adress"})),l.a.createElement(ce.a.Item,{name:"static_ipv4_dns_address1",label:"static_dns_address"},l.a.createElement(ie.a,{placeholder:"Input dns adress"})),l.a.createElement(ce.a.Item,{name:"static_ipv4_dns_address2",label:"static_dns_address"},l.a.createElement(ie.a,{placeholder:"Input dns adress"})),l.a.createElement(ce.a.Item,{name:"static_ipv4_dns_address3",label:"static_dns_address"},l.a.createElement(ie.a,{placeholder:"Input dns adress"})),l.a.createElement(ce.a.Item,{name:"static_gateway",label:"static_gateway"},l.a.createElement(ie.a,{placeholder:"Input gateway"})),l.a.createElement(ce.a.Item,{name:"static_netmask",label:"static_netmask"},l.a.createElement(ie.a,{placeholder:"Input netmask"})),l.a.createElement(ce.a.Item,{wrapperCol:{span:6,offset:18}},l.a.createElement(ye.a,{type:"primary",htmlType:"submit",loading:c},"Submit")))})),Ke=l.a.memo((function(e){var a=e.DeviceConfig,t=e.id,r=e.setUploading,c=e.uploading,o=ce.a.useForm(),i=Object(d.a)(o,1)[0],s=a.lte;Object(n.useEffect)((function(){s&&i.setFieldsValue({mode:s.config.mode,mtu:s.config.mtu,pin:s.sim[0].pin,puk:s.sim[0].puk,pin_enabled:s.sim[0].pin_enabled,apn:s.sim[0].apn[0].apn,ipv6_enabled:s.sim[0].apn[0].ipv6_enabled,auth:s.sim[0].apn[0].auth.type,username:s.sim[0].apn[0].auth.username,password:s.sim[0].apn[0].auth.password,limit_mbyte:s.limit[0].limit_mbyte,limit_enabled:s.limit[0].enabled,reset_day:s.limit[0].reset.day,reset_hour:s.limit[0].reset.hour,reset_minute:s.limit[0].reset.minute,reset_second:s.limit[0].reset.second,roaming:s.policy.roaming,recovery_down_time:s.policy.recovery.down_times,recovery_apn_enabled:s.policy.recovery.recover_apn.enabled,recovery_apn_action:s.policy.recovery.recover_apn.action})}),[s]);function m(e){console.log("switch to ".concat(e))}return l.a.createElement(ce.a,Object.assign({},We,{onFinish:function(e){r(!0);var a='/cmd?set={"device_cfg":{"filter":{"id":"'.concat(t,'"},"nodeInf":{},"obj":{"lte":{"config":{"mode":"').concat(e.mode,'","mtu":').concat(e.mtu,'},"sim":[{"pin":"').concat(e.pin,'","puk":"').concat(e.puk,'","pin_enabled":').concat(e.pin_enabled,',"apn":[{"apn":"').concat(e.apn,'","ipv6_enabled":').concat(e.ipv6_enabled,',"auth":{"type":"').concat(e.auth,'","username":"').concat(e.username,'","password":"').concat(e.password,'"}}]}],"limit":[{"enabled":').concat(e.limit_enabled,',"limit_mbyte":').concat(e.limit_mbyte,',"reset":{"day":').concat(e.reset_day,',"hour":').concat(e.reset_hour,',"minute":').concat(e.reset_minute,',"second":').concat(e.reset_second,'}}],"policy":{"roaming":').concat(e.roaming,',"recovery":{"down_times":').concat(e.recovery_down_time,',"recover_apn":{"enabled":').concat(e.recovery_apn_enabled,',"action":"').concat(e.recovery_apn_action,'"}}}}}}}');console.log(a),h.a.get(a).then((function(e){console.log(e),r(!1),oe.b.success("update successfully.")})).catch((function(e){console.log(e),r(!1),oe.b.error("update fail.")}))},form:i}),l.a.createElement(ce.a.Item,{name:"mode",label:"Mode"},l.a.createElement(He.a.Group,null,l.a.createElement(He.a,{value:"auto"},"Auto"),l.a.createElement(He.a,{value:"2G-only"},"2G-only"),l.a.createElement(He.a,{value:"3G-only"},"3G-only"),l.a.createElement(He.a,{value:"4G-only"},"4G-only"))),l.a.createElement(ce.a.Item,{name:"mtu",label:"mtu"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"pin",label:"pin"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"puk",label:"puk"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{valuePropName:"checked",name:"pin_enabled",label:"pin enabled"},l.a.createElement(Ve.a,{defaultChecked:!0,onChange:function(e){console.log("switch to ".concat(e))}})),l.a.createElement(ce.a.Item,{name:"apn",label:"apn"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{valuePropName:"checked",name:"ipv6_enabled",label:"ipv6 enabled"},l.a.createElement(Ve.a,{defaultChecked:!0,onChange:m})),l.a.createElement(ce.a.Item,{name:"auth",label:"Auth Type"},l.a.createElement(He.a.Group,null,l.a.createElement(He.a,{value:"none"},"none"),l.a.createElement(He.a,{value:"pap"},"pap"),l.a.createElement(He.a,{value:"chap"},"chap"))),l.a.createElement(ce.a.Item,{name:"username",label:"Auth_UserName"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"password",label:"Auth_Password"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{valuePropName:"checked",name:"limit_enabled",label:"limit enabled"},l.a.createElement(Ve.a,{onChange:m})),l.a.createElement(ce.a.Item,{name:"limit_mbyte",label:"Mbyte"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"reset_day",label:"Reset Day"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"reset_hour",label:"Reset Hour"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"reset_minute",label:"Reset Minute"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"reset_second",label:"Reset Second"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{valuePropName:"checked",name:"roaming",label:"Roaming"},l.a.createElement(Ve.a,{onChange:function(e){console.log("switch to ".concat(e))}})),l.a.createElement(ce.a.Item,{name:"recovery_down_time",label:"Recovery DownTimes"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{valuePropName:"checked",name:"recovery_apn_enabled",label:"Recovery apn"},l.a.createElement(Ve.a,{onChange:function(e){console.log("switch to ".concat(e))}})),l.a.createElement(ce.a.Item,{name:"recovery_apn_action",label:"Recovery apn action"},l.a.createElement(He.a.Group,null,l.a.createElement(He.a,{value:"reboot"},"reboot"),l.a.createElement(He.a,{value:"default-apn"},"default-apn"),l.a.createElement(He.a,{value:"previous-apn"},"previous-apn"))),l.a.createElement(ce.a.Item,{wrapperCol:{span:6,offset:18}},l.a.createElement(ye.a,{type:"primary",htmlType:"submit",loading:c},"Submit")))})),Je=l.a.memo((function(e){var a=e.DeviceConfig,t=e.id,r=e.setUploading,c=e.uploading,o=ce.a.useForm(),i=Object(d.a)(o,1)[0],s=a.report_period;Object(n.useEffect)((function(){s&&i.setFieldsValue({alive:s.alive,gps:s.gps,iot:s.iot,status:s.status,timeout:s.timeout})}),[s]);return l.a.createElement(ce.a,Object.assign({},We,{onFinish:function(e){r(!0);var a='/cmd?set={"device_cfg":{"filter":{"id":"'.concat(t,'"},"obj":{"report_period":{"alive":').concat(e.alive,',"timeout":').concat(e.timeout,',\n    "status":').concat(e.status,',"iot":').concat(e.iot,',"gps":').concat(e.gps,"}}}}");console.log(a),h.a.get(a).then((function(e){console.log(e),r(!1),oe.b.success("update successfully.")})).catch((function(e){console.log(e),r(!1),oe.b.error("update fail.")}))},form:i}),l.a.createElement(ce.a.Item,{name:"alive",label:"Alive"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"status",label:"Status"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"iot",label:"IoT"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"gps",label:"GPS"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"timeout",label:"Timeout"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{wrapperCol:{span:6,offset:18}},l.a.createElement(ye.a,{type:"primary",htmlType:"submit",loading:c},"Submit")))})),Ye=_e.a.TabPane,Ze=l.a.memo((function(e){var a=e.DeviceSettingvisible,t=e.setDeviceSettingvisible,r=e.record,c=e.setRecord,o=Object(i.g)(),s=Object(n.useState)(null),m=Object(d.a)(s,2),u=m[0],p=m[1],g=Object(n.useState)(!1),f=Object(d.a)(g,2),E=f[0],b=f[1],_=Object(n.useState)(!1),y=Object(d.a)(_,2),S=y[0],I=y[1],k=Object(n.useState)(!1),w=Object(d.a)(k,2),O=w[0],M=w[1];return Object(n.useEffect)((function(){if(r.id){M(!1),b(!0);var e='/cmd?get={"device_cfg":{"filter":{"id":"'.concat(r.id,'"},"nodeInf":{},"obj":{"report_period":{},"lan":{},"wan":{},"lte":{}}}}');h.a.get(e).then((function(e){console.log(E,O),"No Response!"!==e.data.response.device_cfg[0].obj?(p(e.data.response.device_cfg[0].obj),M(!0)):M(!1),b(!1),console.log(e.data)})).catch((function(e){console.log(e),b(!1),401===e.response.status&&(T(),o.push("/login"))}))}}),[r.id,S]),l.a.createElement(pe.a,{visible:a,onOk:function(){return t(!1)},onCancel:function(){t(!1),c({id:null})},destroyOnClose:!0,className:be.a.modal,centered:!0,footer:null},u&&!E?l.a.createElement(_e.a,{defaultActiveKey:"1"},l.a.createElement(Ye,{tab:"LAN",key:"lan",className:be.a.tabpane},l.a.createElement(qe,{setUploading:I,uploading:S,DeviceConfig:u,id:r.id})),l.a.createElement(Ye,{tab:"WAN",key:"wan",className:be.a.tabpane},l.a.createElement(ze,{setUploading:I,uploading:S,DeviceConfig:u,id:r.id})),l.a.createElement(Ye,{tab:"LTE",key:"lte",className:be.a.tabpane},l.a.createElement(Ke,{id:r.id,setUploading:I,uploading:S,DeviceConfig:u})),l.a.createElement(Ye,{tab:"Period",key:"period",className:be.a.tabpane},l.a.createElement(Je,{id:r.id,setUploading:I,uploading:S,DeviceConfig:u}))):!O&&E?l.a.createElement(v.a,{tip:"Loading..."},l.a.createElement(Ie.a,{message:"Getting Data",description:"We are now getting data from server, please wait for a few seconds"})):l.a.createElement(ke.a,{description:l.a.createElement("span",null,"No Data")}))})),Qe=t(176),Xe=t(254);var $e=t(372),ea=he.a.Option,aa=l.a.memo((function(e){var a=e.setDataSource,t=e.dataSource,r=e.uploading,c=ce.a.useForm(),o=Object(d.a)(c,1)[0],i=Object(n.useContext)(I),s=i.state,m=i.dispatch,u=Object(n.useState)([]),p=Object(d.a)(u,2),g=p[0],f=p[1],E=Object(n.useState)(""),b=Object(d.a)(E,2),v=b[0],_=b[1],h=Object(n.useRef)(0);Object(n.useEffect)((function(){(0===h.current||r)&&(f(t),o.setFieldsValue({device:[],model:[],health:[],strength:[]}))}),[h.current,t,r]),Object(n.useEffect)((function(){h.current=0}),[s.Login.Cid]);Object(n.useEffect)((function(){if(0!==g.length){var e=new Set;g.filter((function(a){return!e.has(a.model)&&e.add(a.model)}));var a=Array.from(e).map((function(e){return{value:e}}));_(a),s.Topology.health&&(o.setFieldsValue({health:["".concat(s.Topology.health)]}),m({type:"setPietoTopo",payload:{health:""}}),o.submit()),s.Topology.strength&&(o.setFieldsValue({strength:["".concat(s.Topology.strength)]}),m({type:"setPietoTopo",payload:{strength:""}}),o.submit()),s.Topology.device&&(o.setFieldsValue({device:["".concat(s.Topology.device)]}),o.submit(),m({type:"setMaptoTopo",payload:{device:""}}))}}),[g]);function y(e){return"up"===e||"excellent"===e?"#28a745":"critical"===e||"good"===e?"#ffc107":"warning"===e||"fair"===e?"#dc3545":"offline"===e||"poor"===e?"#343a40":"gray"}function S(e){var a=e.label,t=(e._,e.closable),n=e.onClose;return l.a.createElement($e.a,{color:y(a),closable:t,onClose:n,style:{marginRight:3}},a)}return l.a.createElement(ce.a,{onFinish:function(e){h.current++;var t=g;e.health.length&&e.strength.length&&e.model.length&&e.device.length||a(g),t=t.filter((function(a){return(!e.device.length||(e.device.includes(a.name)||e.device.includes(a.id)))&&(!e.model.length||e.model.includes(a.model))&&(!e.health.length||e.health.includes(a.health))&&(!e.strength.length||e.strength.includes(a.strength))})),a(t)},form:o,className:be.a.FilterForm},l.a.createElement(ce.a.Item,{name:"device",label:R("ISMS.Device"),className:be.a.FilterDevice},l.a.createElement(he.a,{loading:r,disabled:r,mode:"tags",placeholder:R("ISMS.Search"),showArrow:!0,tagRender:S,onFocus:function(){},onChange:function(){return o.submit()},onBlur:function(){return o.submit()}},g.map((function(e,a){return l.a.createElement(ea,{key:a,value:e.name?e.name:e.id},e.name?e.name:e.id)})))),l.a.createElement(ce.a.Item,{name:"model",label:R("ISMS.Model"),className:be.a.FilterModel},l.a.createElement(he.a,{loading:r,disabled:r,mode:"multiple",showArrow:!0,placeholder:R("ISMS.Search"),tagRender:S,style:{width:"100%"},options:v,onChange:function(){return o.submit()}})),l.a.createElement(ce.a.Item,{name:"health",label:R("ISMS.Health"),className:be.a.FilterHealth},l.a.createElement(he.a,{loading:r,disabled:r,mode:"multiple",placeholder:R("ISMS.Search"),showArrow:!0,tagRender:S,style:{width:"100%"},options:[{value:"up"},{value:"critical"},{value:"warning"},{value:"offline"}],onChange:function(){return o.submit()}})),l.a.createElement(ce.a.Item,{name:"strength",label:R("ISMS.Strength"),className:be.a.FilterStrength},l.a.createElement(he.a,{loading:r,disabled:r,mode:"multiple",placeholder:R("ISMS.Search"),showArrow:!0,tagRender:S,style:{width:"100%"},options:[{value:"excellent"},{value:"good"},{value:"fair"},{value:"poor"}],onChange:function(){return o.submit()}})),l.a.createElement(ce.a.Item,{style:{marginLeft:"15px"}},l.a.createElement(ye.a,{type:"primary",loading:r,disabled:r,onClick:function(){a(g),o.setFieldsValue({device:[],model:[],health:[],strength:[]})}},R("ISMS.Reset"))))})),ta=function(e){var a=e.record,t=Object(n.useState)([24.774222535724427,121.00916565583707]),r=Object(d.a)(t,2),c=r[0],o=r[1],i=Object(n.useState)([]),s=Object(d.a)(i,2),m=s[0],u=s[1],p=Object(n.useState)(!1),g=Object(d.a)(p,2),f=g[0],E=g[1],b=Object(n.useState)(null),_=Object(d.a)(b,2),y=_[0],S=_[1];return Object(n.useEffect)((function(){if(a.id){E(!0);var e='/cmd?get={"device_status":{"filter":{"id":"'.concat(a.id,'"},"nodeInf":{},"obj":{}}}');h.a.get(e).then((function(e){var a=e.data.response.device_status[0].obj.status.gps;console.log([a.latitude,a.longitude]),u([a.latitude,a.longitude]),o([a.latitude,a.longitude]),e.data.response.device_status[0].nodeInf.lastUpdate=new Date(e.data.response.device_status[0].nodeInf.lastUpdate),S(e.data.response.device_status[0].nodeInf),E(!1)})).catch((function(e){console.log(e),E(!1)}))}}),[a.id]),f?l.a.createElement(v.a,null,l.a.createElement(Ie.a,{message:"Getting Data",description:"We are now getting data from server, please wait for a few seconds"})):l.a.createElement(J.a,{center:c,zoom:17,className:q.a.TrackerMap},l.a.createElement(Y.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),m&&l.a.createElement(Z.a,{position:m},y&&l.a.createElement(Q.a,null,"Device: ",""!==y.name?y.name:y.id,l.a.createElement("br",null),"Status: ",y.health,l.a.createElement("br",null),"Signal: ",y.sim,l.a.createElement("br",null),"LastUpdate: ","".concat(y.lastUpdate.getFullYear(),"-").concat(y.lastUpdate.getMonth()+1,"-").concat(y.lastUpdate.getDate()," ").concat(y.lastUpdate.getHours(),":").concat(y.lastUpdate.getMinutes()),l.a.createElement("br",null))))},na=function(){var e=Object(n.useContext)(I).state,a=Object(n.useState)(!1),t=Object(d.a)(a,2),r=t[0],c=t[1],o=localStorage.getItem("authUser.cid"),i="proscend"===o?'/cmd?get={"nodeInf":{"filter":{'.concat(e.Login.Cid,"}}}"):'/cmd?get={"nodeInf":{"filter":{"cid":"'.concat(o,'"}}}'),s=j(i,r),p=Object(d.a)(s,2),g=p[0],f=p[1],E=Object(n.useState)([]),v=Object(d.a)(E,2),_=v[0],S=v[1],k=Object(n.useState)(!1),w=Object(d.a)(k,2),O=w[0],T=w[1],M=Object(n.useState)(!1),C=Object(d.a)(M,2),N=C[0],x=C[1],A=Object(n.useState)(!1),D=Object(d.a)(A,2),G=D[0],P=D[1],F=Object(n.useState)(!1),U=Object(d.a)(F,2),R=U[0],B=U[1],V=Object(n.useState)(!1),H=Object(d.a)(V,2),W=H[0],q=H[1],z=l.a.createContext(),K=Object(n.useState)([]),J=Object(d.a)(K,2),Y=J[0],Z=J[1],Q=Object(n.useState)([]),X=Object(d.a)(Q,2),$=X[0],ee=X[1],ae=Object(n.useState)([]),te=Object(d.a)(ae,2),Ee=te[0],_e=te[1],he=Object(n.useState)([]),ye=Object(d.a)(he,2),Se=ye[0],Ie=ye[1],ke=Object(n.useState)([]),Oe=Object(d.a)(ke,2),Te=Oe[0],Me=Oe[1],xe=Object(L.a)().t,De={body:{row:function(e){e.index;var a=Object(re.a)(e,["index"]),t=ce.a.useForm(),n=Object(d.a)(t,1)[0];return l.a.createElement(ce.a,{form:n,component:!1},l.a.createElement(z.Provider,{value:n},l.a.createElement("tr",a)))},cell:function(e){var a=e.title,t=e.editable,r=e.children,o=e.dataIndex,i=e.record,s=e.handleSave,p=Object(re.a)(e,["title","editable","children","dataIndex","record","handleSave"]),g=Object(n.useState)(!1),f=Object(d.a)(g,2),E=f[0],b=f[1],v=Object(n.useRef)(),_=Object(n.useContext)(z);Object(n.useEffect)((function(){E&&v.current.focus()}),[E]);var S=function(){b(!E),_.setFieldsValue(Object(le.a)({},o,i[o]))},I=function(){var e=Object(u.a)(m.a.mark((function e(a){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.validateFields();case 3:if(t=e.sent,S(),i.name!==t.name){e.next=7;break}return e.abrupt("return");case 7:c(!0),n='/cmd?set={"node_name":{"filter":{"cid":"'.concat(i.cid,'"},"list":[{"id":"').concat(i.id,'","name":"').concat(t.name,'"}]}}'),h.a.get(n).then((function(e){s(Object(y.a)(Object(y.a)({},i),t)),console.log(e),oe.b.success("rename successfully."),c(!1)})).catch((function(e){console.log(e),oe.b.error("rename fail.")})),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Save failed:",e.t0),oe.b.error("rename fail."),c(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(a){return e.apply(this,arguments)}}(),k=r;return t&&(k=E?l.a.createElement(ce.a.Item,{style:{margin:0},name:o,rules:[{required:!0,message:"".concat(a," is required.")}]},l.a.createElement(ie.a,{ref:v,onPressEnter:I,onBlur:I})):l.a.createElement(se.a,{placement:"bottom",title:"sure to rename?",onConfirm:function(){return S()},okText:"Yes",cancelText:"No"},l.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24}},r))),l.a.createElement("td",p,k)}}};Object(n.useEffect)((function(){if(f){var e=[];f.response.nodeInf.forEach((function(a,t){e.push({key:t,id:a.nodeInf.id,name:a.nodeInf.name,health:a.nodeInf.health,model:a.nodeInf.model,strength:a.nodeInf.sim,connection:a.nodeInf.connect,cid:a.nodeInf.cid})})),S(e)}}),[f]);var Ge=function(e,a){return l.a.createElement(me.a,null,l.a.createElement(me.a.Item,{key:a},Pe(e,a)))};function Pe(e,a){return l.a.createElement("div",{className:be.a.RWDwrapper},l.a.createElement(ue.a,{title:"health: ".concat(e.health)},function(e){switch(e){case"up":return l.a.createElement(Qe.b,{className:be.a.up});case"critical":return l.a.createElement(Xe.a,{className:be.a.critical});case"warning":return l.a.createElement(Xe.a,{className:be.a.warning});case"offline":return l.a.createElement(Qe.a,{className:be.a.offline});default:return}}(e.health)),l.a.createElement(ue.a,{title:"signal: ".concat(e.strength)},function(e){switch(e){case"excellent":return l.a.createElement(fe.f,{className:be.a.up});case"good":return l.a.createElement(fe.e,{className:be.a.critical});case"fair":return l.a.createElement(fe.d,{className:be.a.warning});case"poor":return l.a.createElement(fe.g,{className:be.a.offline});default:return}}(e.strength)),l.a.createElement(ue.a,{title:"Alarm"},l.a.createElement("a",{href:"/#",key:a,onClick:function(a){a.preventDefault(),T(!0),Z(e)}},l.a.createElement(Ce.a,{className:be.a.alarmlog,style:"up"===e.health&&{color:"lightgray"}}))),l.a.createElement(ue.a,{title:"Device Status"},l.a.createElement("a",{href:"/#",key:a,onClick:function(a){console.log(e),a.preventDefault(),x(!0),ee(e)}},l.a.createElement(we.e,{className:be.a.Status}))),l.a.createElement(ue.a,{title:"Map"},l.a.createElement("a",{href:"/#",key:a,onClick:function(a){a.preventDefault(),q(!0),Me(e)}},l.a.createElement(Ne.e,{className:be.a.Map}))),l.a.createElement(ue.a,{title:"View IoT"},l.a.createElement("a",{href:"/#",key:a,onClick:function(a){a.preventDefault(),B(!0),Ie(e),console.log(e)}},l.a.createElement(fe.b,{className:be.a.IoT}))),l.a.createElement(ue.a,{title:"Setting"},l.a.createElement("a",{href:"/#",key:a,onClick:function(a){a.preventDefault(),P(!0),_e(e)}},l.a.createElement(we.q,{className:be.a.Setting}))))}var Fe=function(e){return xe(e)},Le=[{title:Fe("ISMS.Device"),dataIndex:"name",width:"35%",editable:!0,key:"name",render:function(e,a){return l.a.createElement("div",{className:be.a.rename},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(ue.a,{title:a.id},a.name?l.a.createElement("p",null,a.name):l.a.createElement("p",null,a.id)),l.a.createElement(ue.a,{title:"rename"},l.a.createElement(Ce.b,{className:be.a.renameIcon}))))}},{title:Fe("ISMS.Model"),dataIndex:"model",width:"15%",key:"2",responsive:["sm"]},{title:e.Global.innerWidth>576?Fe("ISMS.Information"):Fe("ISMS.Info"),dataIndex:"information",key:"information",render:function(a,t,r){return l.a.createElement(n.Fragment,null,e.Global.innerWidth>500?Pe(t,r):l.a.createElement(de.a,{overlay:Ge(t,r),key:r,overlayClassName:be.a.iconDrop},l.a.createElement(ve.a,null)))}}],Ue=function(e){var a=Object(ne.a)(_),t=a.findIndex((function(a){return e.key===a.key})),n=a[t];a.splice(t,1,Object(y.a)(Object(y.a)({},n),e)),S(a)};return Le=Le.map((function(e){return e.editable?Object(y.a)(Object(y.a)({},e),{},{onCell:function(a){return{record:a,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:Ue}}}):e})),l.a.createElement(n.Fragment,null,l.a.createElement(Ae,{record:Y,AlarmTablevisible:O,setAlarmTablevisible:T}),l.a.createElement(Be,{record:$,DeviceStatevisible:N,setDeviceStatevisible:x}),l.a.createElement(je,{IoTvisible:R,setIoTvisible:B,record:Se,setRecord:Ie}),l.a.createElement(pe.a,{visible:W,onCancel:function(){q(!1)},centered:!1,width:"80%",title:"Location",footer:null,className:be.a.modal},l.a.createElement(ta,{record:Te})),l.a.createElement(Ze,{DeviceSettingvisible:G,setDeviceSettingvisible:P,record:Ee,setRecord:_e}),l.a.createElement(b.a,{style:{marginBottom:"10px"},className:be.a.TopoTableCard},l.a.createElement(aa,{setDataSource:S,dataSource:_,uploading:g})),l.a.createElement(b.a,{bodyStyle:{padding:"2px"}},l.a.createElement(ge.a,{className:be.a.TopoTable,components:De,rowClassName:function(){return"editable-row"},bordered:!0,loading:g||r,dataSource:_,columns:Le})))},la=function(){return l.a.createElement(n.Fragment,null,l.a.createElement(na,null))},ra=t(39),ca=t.n(ra),oa=function(e){var a=e.uploading,t=e.setUploading,r=e.Nodeloading,c=e.Fileloading,o=e.form,i=e.FileRepository,s=e.userModel,m=e.setSelectedModel,u=e.NodeData,p=e.setUserModel,g=e.ModelList,f=e.selectedModel,E=Object(n.useContext)(I).state,b=Object(n.useState)([]),v=Object(d.a)(b,2),_=v[0],y=v[1],S=Object(n.useState)(null),k=Object(d.a)(S,2),w=k[0],O=k[1],T=localStorage.getItem("authUser.cid"),M=he.a.Option;return l.a.createElement(ce.a,{name:"dynamic_form_nest_item",onFinish:function(e){t(!0),console.log("Received values of form:",e);var a=E.BackupRestore.ActionStatusList.filter((function(e){return"FILE_UPLOAD"!==e.state&&"START_REBOOT"!==e.state})),n=[];a.forEach((function(e){return n.push(e.id)}));var l=[],r=u.filter((function(a){return e.Device_ID.includes(a.id)||e.Device_ID.includes(a.name)}));console.log(a,e,u,r,n),r.some((function(a){if(n.length&&n.includes(a.id))return oe.b.error("".concat(a.id," is duplicated in action list!")),!1;l.push("{".concat("proscend"===T?""===E.Login.Cid?'"cid":"proscend"':E.Login.Cid:'"cid":"'.concat(T,'"'),',"id":"').concat(a.id,'","type":"').concat("upgrade"===e.Action?"fw":"cfg",'","name":"').concat("backup"===e.Action?"".concat(a,"_").concat(Date.now()):e.Repostiry,'","inf":{"model":"').concat(e.Model,'"}}'))}));var c='/cmd?set={"'.concat(e.Action,'":[').concat(l,"]}");l.length?(console.log(c),h.a.get(c).then((function(e){console.log(e),oe.b.success("action submit successfully."),t(!1),o.resetFields()})).catch((function(e){console.log(e),oe.b.error("action submit fail."),t(!1),o.resetFields()}))):t(!1)},autoComplete:"off",form:o},l.a.createElement("div",{className:ca.a.formwrap},l.a.createElement("div",{className:ca.a.formDiv},l.a.createElement("p",null,R("ISMS.Model")),l.a.createElement(ce.a.Item,{name:"Model",className:ca.a.formitem,rules:[{required:!0,message:"Model is required"}]},l.a.createElement(he.a,{loading:a||r||c,showSearch:!0,showArrow:!0,className:ca.a.modelinput,placeholder:R("ISMS.Select"),optionFilterProp:"children",onChange:function(e){o.resetFields([["Device_ID"]]);var a=[];u.forEach((function(t){t.model===e&&""===t.name?a.push(t.id):t.model===e&&""!==t.name&&a.push(t.name)})),y(a),m(e)},onFocus:function(){p(Array.from(g))},filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},s.map((function(e,a){return l.a.createElement(M,{key:a,value:e},e)}))))),l.a.createElement("div",{className:ca.a.formDiv},l.a.createElement("p",null,R("ISMS.Device")),l.a.createElement(ce.a.Item,{className:ca.a.formitem,name:"Device_ID",rules:[{required:!0,message:"Deivce Id is required!"}]},l.a.createElement(he.a,{loading:a||r||c,mode:"multiple",placeholder:R("ISMS.Select"),showArrow:!0,tagRender:function(e){var a=e.label,t=(e._,e.closable),n=e.onClose;return l.a.createElement($e.a,{color:"black",closable:t,onClose:n,style:{marginRight:3}},a)},className:ca.a.deviceinput,onFocus:function(){}},_.map((function(e,a){return l.a.createElement(M,{key:a,value:e},e)}))))),l.a.createElement("div",{className:ca.a.formDiv},l.a.createElement("p",null,R("ISMS.Action")),l.a.createElement(ce.a.Item,{className:ca.a.formitem,name:"Action",rules:[{required:!0,message:"Action is required"}]},l.a.createElement(he.a,{loading:a||r||c,showSearch:!0,showArrow:!0,className:ca.a.actioninput,placeholder:R("ISMS.Select"),optionFilterProp:"children",onChange:function(e){O(e),o.resetFields([["Repostiry"]])},filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},l.a.createElement(M,{value:"upgrade"},"Upgrade"),l.a.createElement(M,{value:"backup",disabled:!0},"BackUp"),l.a.createElement(M,{value:"restore",disabled:!0},"Restore")))),l.a.createElement("div",{className:ca.a.formDiv},l.a.createElement("p",null,R("ISMS.File")),l.a.createElement(ce.a.Item,{className:ca.a.formitem,name:"Repostiry",rules:[{required:"backup"!==w,message:"File is required!"}]},l.a.createElement(he.a,{loading:a||r||c,disabled:"backup"===w,showSearch:!0,className:ca.a.fileinput,placeholder:R("ISMS.Select"),optionFilterProp:"children",notFoundContent:"Not available",filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},null!==w&&("backup"===w?"":"restore"===w?i.map((function(e,a){if("cfg"===e.type&&e.inf.model===f)return l.a.createElement(M,{key:a,value:e.name},e.name)})):i.map((function(e,a){if("fw"===e.type&&e.inf.model===f)return l.a.createElement(M,{key:a,value:e.name},e.name)})))))),l.a.createElement(ce.a.Item,{className:ca.a.submitBtn},l.a.createElement(ye.a,{type:"primary",htmlType:"submit",className:ca.a.clickBtn,loading:a||r||c},R("ISMS.Submit")))))},ia=function(e){var a=e.uploading,t=e.setUploading,r=Object(n.useContext)(I).state,c=ce.a.useForm(),o=Object(d.a)(c,1)[0],i=Object(n.useState)([]),s=Object(d.a)(i,2),m=s[0],u=s[1],p=Object(n.useState)([]),g=Object(d.a)(p,2),f=g[0],E=g[1],v=Object(n.useState)(""),_=Object(d.a)(v,2),h=_[0],y=_[1],S=Object(n.useState)([]),k=Object(d.a)(S,2),w=k[0],O=k[1],T=localStorage.getItem("authUser.cid"),M='/cmd?get={"nodeInf":{"filter":{'.concat("proscend"===T?r.Login.Cid:'"cid":"'.concat(T,'"'),'},"nodeInf":{"cid":{},"gid":{},"token":{},"id":{},"model":{},"name":{}}}}'),C=j(M,a),N=Object(d.a)(C,2),x=N[0],A=N[1],D=Object(n.useState)([]),G=Object(d.a)(D,2),P=G[0],F=G[1],L="repository?list_file={".concat("proscend"===T?r.Login.Cid:'"cid":"'.concat(T,'"'),"}"),U=j(L,a),B=Object(d.a)(U,2),V=B[0],H=B[1],W={uploading:a,setUploading:t,Nodeloading:x,Fileloading:V,form:o,FileRepository:m,userModel:f,NodeData:P,setUserModel:E,ModelList:w,setSelectedModel:y,selectedModel:h};return Object(n.useEffect)((function(){if(A){var e=[],a=new Set;A.response.nodeInf.forEach((function(t,n){e.push({key:n,id:t.nodeInf.id,name:t.nodeInf.name,model:t.nodeInf.model}),!a.has(t.nodeInf.model)&&a.add(t.nodeInf.model)})),F(e),O(a),o.resetFields()}}),[A]),Object(n.useEffect)((function(){H&&H.response.repository.length?u(H.response.repository[0].list):u([])}),[H]),l.a.createElement(n.Fragment,null,l.a.createElement(b.a,{bordered:!0,title:R("ISMS.Action Request"),className:ca.a.card},l.a.createElement(oa,W)))},sa=t(685),ma=t(693),ua=t(696),da=t(697),pa=t(698),ga=t(699),fa=t(700),Ea=t(154),ba=t.n(Ea),va=sa.a.Step,_a=function(e){var a=e.uploading,t=e.setUploading,r=Object(n.useContext)(I),c=r.state,o=r.dispatch,i=Object(n.useState)([{name:"",action:"",key:"",model:"",state:""}]),s=Object(d.a)(i,2),m=s[0],u=s[1],p=Object(n.useState)(0),g=Object(d.a)(p,2),f=g[0],E=g[1],v=Object(n.useState)(!1),_=Object(d.a)(v,2),S=_[0],k=_[1],w=localStorage.getItem("authUser.cid");Object(n.useEffect)((function(){k(!0);var e="proscend"===w?'/cmd?get={"bck_rst_upg_list":{"list":{'.concat(c.Login.Cid,"}}}"):'/cmd?get={"bck_rst_upg_list":{"list":{"cid":"'.concat(w,'"}}}');h.a.get(e).then((function(e){var a=[];e.data.response&&e.data.response.bck_rst_upg.forEach((function(e,t){a.push({name:e.name,device_name:e.device_name,action:e.action,key:t,model:e.model,state:e.state,id:e.id})})),JSON.stringify(a)!==JSON.stringify(m)&&(u(a),o({type:"ActionStatusList",payload:{ActionStatusList:a}}),k(!1))})).catch((function(){k(!1)}));var a=setInterval((function(){E((function(e){return e+1}))}),1e4);return function(){return clearInterval(a)}}),[f,a,c.Login.Cid]);var O=function(e){return{filterDropdown:function(a){var t=a.setSelectedKeys,n=a.selectedKeys,r=a.confirm,c=a.clearFilters;return l.a.createElement("div",{style:{padding:8}},l.a.createElement(ie.a,{ref:function(e){F.current=e},placeholder:"Search ".concat(e),value:n[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:function(){return G(n,r,e)},style:{width:188,marginBottom:8,display:"block"}}),l.a.createElement(ma.b,null,l.a.createElement(ye.a,{size:"small",type:"primary",onClick:function(){return G(n,r,e)},icon:l.a.createElement(ua.a,null),style:{width:90}},"Search"),l.a.createElement(ye.a,{onClick:function(){return P(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return l.a.createElement(ua.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(a,t){return t[e]?t[e].toString().toLowerCase().includes(a.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return F.current.select()}),100)},render:function(a){return A===e?l.a.createElement(ba.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[j],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},T=Object(n.useState)(""),M=Object(d.a)(T,2),j=M[0],C=M[1],N=Object(n.useState)(""),x=Object(d.a)(N,2),A=x[0],D=x[1],G=function(e,a,t){a(),C(e[0]),D(t)},P=function(e){e(),C("")},F=Object(n.useRef)("");var L=[Object(y.a)(Object(y.a)({title:R("ISMS.Device"),dataIndex:"id",width:"30%"},O("id")),{},{render:function(e,a){return""!==a.device_name?a.device_name:a.id}}),Object(y.a)({title:R("ISMS.Device"),dataIndex:"model",width:"15%"},O("model")),Object(y.a)({title:R("ISMS.Action"),dataIndex:"action",width:"15%"},O("action")),Object(y.a)({title:R("ISMS.Status"),dataIndex:"state",width:"20%"},O("state")),{title:R("ISMS.History"),dataIndex:"History",width:"20%",render:function(e,a,r){return l.a.createElement(n.Fragment,null,l.a.createElement(se.a,{title:"Sure to delete?",onConfirm:function(){return function(e){t(!0);var a='/cmd?set={"bck_rst_upg_list":{"delete":{"id":"'.concat(e,'"}}}');console.log(a),h.a.get(a).then((function(e){console.log(e),E((function(e){return e+1})),t(!1),oe.b.success("clear successfully.")})).catch((function(e){console.log(e),t(!1),oe.b.error("operation failed.")}))}(a.id)}},l.a.createElement(ye.a,{key:r},"clear")))}}];return l.a.createElement(n.Fragment,null,l.a.createElement(b.a,{title:R("ISMS.Action Status"),bordered:!0},l.a.createElement(ge.a,{columns:L,dataSource:m,pagination:!1,className:ca.a.table,loading:0===f&&S||a,expandable:{expandedRowRender:function(e){return l.a.createElement("div",{className:ca.a.step},l.a.createElement(sa.a,null,l.a.createElement(va,{status:"RECEIVE_COMMAND"===e.state||"START"===e.state?"process":"finish",title:"RECEIVE_COMMAND",icon:"RECEIVE_COMMAND"===e.state||"START"===e.state?l.a.createElement(da.a,null):l.a.createElement(pa.a,null)}),l.a.createElement(va,{status:"FILE_UPLOADING"===e.state||"FILE_DOWNLOADING"===e.state||"FILE_DOWNLOAD"===e.state?"process":"wait",title:"Processing",icon:"FILE_UPLOADING"===e.state||"FILE_DOWNLOADING"===e.state||"FILE_DOWNLOAD"===e.state?l.a.createElement(da.a,null):l.a.createElement(ga.a,null)}),l.a.createElement(va,{status:"wait",title:"Complete",icon:l.a.createElement(fa.a,null)})))},rowExpandable:function(e){return"START_REBOOT"!==e.state&&"FILE_UPLOAD"!==e.state}}})))},ha=t(679),ya=t(701),Sa=t(255),Ia=t.n(Sa),ka=function(e){var a=e.uploading,t=e.setUploading,r=ce.a.useForm(),c=Object(d.a)(r,1)[0],o=Object(n.useState)([{key:"",name:"",type:"",date:"",model:"",size:""}]),i=Object(d.a)(o,2),s=i[0],p=i[1],g=Object(n.useContext)(I).state,f=Object(n.useState)([]),E=Object(d.a)(f,2),v=E[0],_=E[1],S=Object(n.useState)(!1),k=Object(d.a)(S,2),w=k[0],O=k[1],T=Object(n.useState)(""),M=Object(d.a)(T,2),C=M[0],N=M[1],x=l.a.createContext(),A=localStorage.getItem("authUser.cid"),D={body:{row:function(e){e.index;var a=Object(re.a)(e,["index"]),t=ce.a.useForm(),n=Object(d.a)(t,1)[0];return l.a.createElement(ce.a,{form:n,component:!1},l.a.createElement(x.Provider,{value:n},l.a.createElement("tr",a)))},cell:function(e){var a=e.title,r=e.editable,c=e.children,o=e.dataIndex,i=e.record,s=Object(re.a)(e,["title","editable","children","dataIndex","record"]),p=Object(n.useState)(!1),g=Object(d.a)(p,2),f=g[0],E=g[1],b=Object(n.useRef)(),v=Object(n.useContext)(x);Object(n.useEffect)((function(){f&&b.current.focus()}),[f]);var _=function(){E(!f),v.setFieldsValue(Object(le.a)({},o,i[o]))},y=function(){var e=Object(u.a)(m.a.mark((function e(){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.validateFields();case 2:if(a=e.sent,_(),i.name!==a.name){e.next=6;break}return e.abrupt("return");case 6:n='/repository?rename_file={"cid":"'.concat(i.cid,'","old_name":"').concat(i.name,'","new_name":"').concat(a.name,'","type":"').concat(i.type,'"}'),t(!0),h.a.get(n).then((function(e){t(!1),console.log(e),oe.b.success("rename successfully.")})).catch((function(e){console.log(e),oe.b.error("rename failed."),t(!1)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=c;return r&&(S=f?l.a.createElement(ce.a.Item,{style:{margin:0},name:o,rules:[{required:!0,message:"".concat(a," is required.")}]},l.a.createElement(ie.a,{ref:b,onPressEnter:y,onBlur:y})):l.a.createElement(se.a,{title:"Edit fileName?",onConfirm:function(){return _()}},l.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24}},c))),l.a.createElement("td",s,S)}}},G=Object(n.useState)([]),P=Object(d.a)(G,2),F=P[0],L=P[1],U="proscend"===A?"/repository?list_file={".concat(g.Login.Cid,"}"):'/repository?list_file={"cid":"'.concat(A,'"}'),B=j(U,a),V=Object(d.a)(B,2),H=V[0],W=V[1];console.log(U),Object(n.useEffect)((function(){if(W&&W.response.repository.length){var e=W.response.repository,a=[],t=[];e.forEach((function(e,n){e.list.forEach((function(l,r){t.push(l.name),a.push({cid:e.cid,key:"".concat(n,"_").concat(r),name:l.name,type:l.type,date:l.date,size:l.size,model:l.inf.model})}))})),p(a),L(t)}else p([]),L([])}),[W]);var q=Object(n.useState)(""),z=Object(d.a)(q,2),K=z[0],J=z[1],Y=Object(n.useState)(""),Z=Object(d.a)(Y,2),Q=Z[0],X=Z[1],$=function(e,a,t){a(),J(e[0]),X(t)},ee=Object(n.useRef)(""),ae=function(e){return{filterDropdown:function(a){var t=a.setSelectedKeys,n=a.selectedKeys,r=a.confirm,c=a.clearFilters;return l.a.createElement("div",{style:{padding:8}},l.a.createElement(ie.a,{ref:function(e){ee.current=e},placeholder:"Search ".concat(e),value:n[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:function(){return $(n,r,e)},style:{width:188,marginBottom:8,display:"block"}}),l.a.createElement(ma.b,null,l.a.createElement(ye.a,{type:"primary",onClick:function(){return $(n,r,e)},icon:l.a.createElement(ua.a,null),size:"small",style:{width:90}},"Search"),l.a.createElement(ye.a,{onClick:function(){return function(e){e(),J("")}(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return l.a.createElement(ua.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(a,t){return t[e]?t[e].toString().toLowerCase().includes(a.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return ee.current.select()}),100)},render:function(a){return Q===e?l.a.createElement(ba.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[K],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},te={onRemove:function(e){var a=v.indexOf(e),t=v.slice();t.splice(a,1),_(t)},onChange:function(e){var a=Object(ne.a)(e.fileList);a=(a=a.slice(-1)).map((function(e){return e.response&&(e.url=e.response.url),e})),_(a),be(""),console.log(a);var t=new FileReader;t.readAsBinaryString(a[0].originFileObj),t.onload=function(e){console.log(a,Ia()(e.target.result)),N(Ia()(e.target.result))}},beforeUpload:function(e){return _([].concat(Object(ne.a)(v),[e])),!1},fileList:v},me=he.a.Option,ue=he.a.OptGroup,de=Object(n.useState)(null),fe=Object(d.a)(de,2),Ee=fe[0],be=fe[1],ve=[Object(y.a)({title:R("ISMS.FileName"),dataIndex:"name",width:"30%",editable:!0},ae("name")),Object(y.a)({title:R("ISMS.Model"),dataIndex:"model",width:"15%"},ae("model")),Object(y.a)({title:R("ISMS.FileType"),dataIndex:"type",width:"15%"},ae("type")),Object(y.a)({title:R("ISMS.CreatedDate"),dataIndex:"date",width:"25%",responsive:["md"]},ae("date")),{title:R("ISMS.Size"),dataIndex:"size",width:"15%",responsive:["md"]},{title:R("ISMS.Action"),dataIndex:"action",width:"20%",className:"".concat(ca.a.actionCol),render:function(e,a,r){return l.a.createElement(n.Fragment,{key:r},l.a.createElement(ye.a,{onClick:function(){return function(e){t(!0);var a='/repository?download_file={"cid":"'.concat(e.cid,'","name":"').concat(e.name,'","type":"').concat(e.type,'"}');console.log(a);h.a.get(a,{responseType:"blob"}).then((function(a){t(!1);var n=window.URL.createObjectURL(new Blob([a.data])),l=document.createElement("a");l.href=n,l.setAttribute("download","".concat(e.name)),document.body.appendChild(l),l.click()})).catch((function(e){console.log(e),t(!1),oe.b.error("download fail.")}))}(a)},icon:l.a.createElement(we.f,null)}),l.a.createElement(se.a,{title:"Sure to delete?",onConfirm:function(){return function(e){t(!0);var a='/repository?delete_file={"cid":"'.concat(e.cid,'","name":"').concat(e.name,'","type":"').concat(e.type,'"}');console.log(a),h.a.get(a).then((function(e){console.log(e),t(!1),oe.b.success("delete successfully.")})).catch((function(e){console.log(e),t(!1),oe.b.error("delete fail.")}))}(a)}},l.a.createElement(ye.a,{icon:l.a.createElement(we.c,null)})))}}];return ve=ve.map((function(e){return e.editable?Object(y.a)(Object(y.a)({},e),{},{onCell:function(a){return{record:a,editable:e.editable,dataIndex:e.dataIndex,title:e.title}}}):e})),l.a.createElement(b.a,{title:"Data on Clould Libary",className:ca.a.card,headStyle:{display:"none"}},l.a.createElement(ye.a,{type:"primary",loading:a,onClick:function(){return O(!0)},className:ca.a.clickBtn,icon:l.a.createElement(ya.a,null)},R("ISMS.Upload")),l.a.createElement(pe.a,{title:"Upload",visible:w,onOk:function(){return O(!1)},onCancel:function(){O(!1),c.resetFields(),te.onRemove()},okButtonProps:{form:"FileUpload",key:"submit",htmlType:"submit",disabled:0===v.length,loading:a},okText:a?"Uploading":"Start Upload",cancelText:"Cancel"},l.a.createElement(ce.a,{id:"FileUpload",name:"dynamic_form_nest_item",onFinish:function(e){t(!0),console.log("Received values of form:",e);var a=new FormData;a.append("file",e.upload.fileList[0].originFileObj),console.log(e);var n="/repository?upload_file={".concat("proscend"===A?""===g.Login.Cid?'"cid":"proscend"':g.Login.Cid:'"cid": "'.concat(A,'"'),',"name":"').concat(e.filename||e.upload.file.name,'","type":"').concat(e.type,'","inf": {"MD5":"').concat(void 0===e.MD5?"123":e.MD5,'","model": "').concat(e.model,'"}}');if(console.log(n),e.filename?F.includes(e.filename):F.includes(e.upload.file.name))return oe.b.error("File Name is duplicated! Please try again!"),void t(!1);h.a.post(n,a).then((function(e){console.log(e),_([]),oe.b.success("upload successfully."),t(!1),c.resetFields(),be("")})).catch((function(e){console.log(e),t(!1),oe.b.error("upload fail."),c.resetFields(),be("")}))},autoComplete:"off",form:c},l.a.createElement(ce.a.Item,{label:"File",name:"upload",rules:[{required:!0,message:"Please select a file"}]},l.a.createElement(ha.a,te,l.a.createElement(ye.a,{icon:l.a.createElement(ya.a,null)},"Select File"))),l.a.createElement(ce.a.Item,{label:"Model",name:"model",rules:[{required:!0,message:"Please select a model"}]},l.a.createElement(he.a,{style:{width:200}},["M300","M301","M302","M330","M350","M351","M352","M360"].map((function(e,a){return l.a.createElement(me,{key:a,value:e},e)})))),l.a.createElement(ce.a.Item,{label:"File Name",name:"filename",rules:[{required:!1,message:"Input a file name"}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{label:"File Type",name:"type",rules:[{required:!0,message:"Please select a type"}]},l.a.createElement(he.a,{style:{width:200},onChange:function(e){be(e),c.setFieldsValue({MD5:C})}},l.a.createElement(ue,{label:"Restore"},l.a.createElement(me,{value:"cfg"},"cfg")),l.a.createElement(ue,{label:"Upgrade"},l.a.createElement(me,{value:"fw"},"fw")))),"fw"===Ee&&l.a.createElement(ce.a.Item,{label:"MD5",name:"MD5",rules:[{required:!0,message:"Please input the MD5 number!"}]},l.a.createElement(ie.a,{placeholder:"Please input a specific series of MD5",disabled:!0})))),l.a.createElement("div",null,l.a.createElement(ge.a,{components:D,rowClassName:function(){return"editable-row"},columns:ve,dataSource:s,pagination:!1,className:ca.a.table,loading:a||H})))},wa=t(110),Oa=t.n(wa),Ta={labelCol:{span:8},wrapperCol:{span:16}},Ma=function(e){var a=e.onFinish,t=e.validateMessages,n=e.form,r=e.id,c=e.name;return console.log(r),l.a.createElement(ce.a,Object.assign({},Ta,{onFinish:a,validateMessages:t,form:n,id:r,className:Oa.a.form,name:c}),l.a.createElement("div",null,l.a.createElement(ce.a.Item,{name:"ModelName",label:"ModelName",rules:[{required:!0}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"Version",label:"Version",rules:[{required:!0}]},l.a.createElement(ie.a,{id:"".concat(c,"_").concat(r)})),l.a.createElement(ce.a.Item,{id:"".concat(c,"_").concat(r),name:"MD5",label:"MD5",rules:[{required:!0}]},l.a.createElement(ie.a,{disabled:!0})),l.a.createElement(ce.a.Item,{name:"SoftwareMCSV",label:"SW_MCSV",rules:[{required:!0}]},l.a.createElement(ie.a,{id:"".concat(c,"_").concat(r)})),l.a.createElement(ce.a.Item,{name:"name",label:"name",rules:[{required:!0}]},l.a.createElement(ie.a,{id:"".concat(c,"_").concat(r)}))))},ja=function(){var e=Object(n.useState)([{key:"",ModelName:"",Version:"",force:"",MD5:"",name:"",SoftwareMCSV:"",Transport:[{Protocol:"",Host:"",Port:"",Path:"",LoginName:"",PassWord:""}]}]),a=Object(d.a)(e,2),t=a[0],r=a[1],c=ce.a.useForm(),o=Object(d.a)(c,1)[0],i=Object(n.useState)(!1),s=Object(d.a)(i,2),m=s[0],u=s[1];Object(n.useEffect)((function(){u(!0),h.a.get("/api/fota2.xml").then((function(e){var a,t=e.data;a=(new DOMParser).parseFromString(t,"text/xml");var n=[];a.querySelectorAll("information").forEach((function(e){var a={};a.key=e.getElementsByTagName("ModelName")[0].textContent,a.ModelName=e.getElementsByTagName("ModelName")[0].textContent,a.Version=e.getElementsByTagName("Version")[0].textContent,a.force=e.getElementsByTagName("force")[0].textContent,a.MD5=e.getElementsByTagName("MD5")[0].textContent,a.name=e.getElementsByTagName("name")[0].textContent,a.SoftwareMCSV=e.getElementsByTagName("SoftwareMCSV")[0].textContent;var t=e.querySelectorAll("Transport"),l=[];t.forEach((function(e,a){var t={};t.key="".concat(a),t.Protocol=e.getElementsByTagName("Protocol")[0].textContent,t.Host=e.getElementsByTagName("Host")[0].textContent,t.Port=e.getElementsByTagName("Port")[0].textContent,t.Path=e.getElementsByTagName("Path")[0].textContent,t.LoginName=e.getElementsByTagName("LoginName")[0].textContent,t.PassWord=e.getElementsByTagName("PassWord")[0].textContent,l.push(t)})),a.Transport=l,n.push(a)})),r(n),u(!1)}))}),[]);var p=Object(n.useState)(!1),g=Object(d.a)(p,2),f=g[0],E=g[1],v=Object(n.useState)(!1),_=Object(d.a)(v,2),S=_[0],I=_[1],k=Object(n.useState)(""),w=Object(d.a)(k,2),O=w[0],T=w[1],M=function(e){E(!1),I(!1)},j=function(e){E(!1),I(!1)},C=function(e){e.Transport=[{Protocol:e.Protocol0,Host:e.Host0,Port:e.Port0,Path:e.Path0},{Protocol:e.Protocol1,Host:e.Host1,Port:e.Port1,Path:e.Path1},{Protocol:e.Protocol2,Host:e.Host2,Port:e.Port2,Path:e.Path2}],console.log(e);var a=Object(ne.a)(t);a[O]=e,r(a),N(a)},N=function(e){var a="";return e.forEach((function(e){a+='\n            <?xml version="1.0" encoding="utf-8"?>\n            <firmware>  \n            <information>\n            <ModelName>'.concat(e.ModelName,"</ModelName>\n            <Version>").concat(e.Version,"</Version>\n            <force>").concat(e.force,"</force>\n            <MD5>").concat(e.MD5,"</MD5>\n            <name>").concat(e.name,"</name>\n            <SoftwareMCSV>").concat(e.SoftwareMCSV,"</SoftwareMCSV>\n            <Transport>\n                <Protocol>").concat(e.Transport[0].Protocol,"</Protocol>\n                <Host>").concat(e.Transport[0].Host,"</Host>\n                <Port>").concat(e.Transport[0].Port,"</Port>\n                <Path>").concat(e.Transport[0].Path,"</Path>\n                <LoginName>").concat(e.Transport[0].LoginName,"</LoginName>\n                <PassWord>").concat(e.Transport[0].LoginName,"</PassWord>\n            </Transport>\n            <Transport>\n                <Protocol>").concat(e.Transport[1].Protocol,"</Protocol>\n                <Host>").concat(e.Transport[1].Host,"</Host>\n                <Port>").concat(e.Transport[1].Port,"</Port>\n                <Path>").concat(e.Transport[1].Path,"</Path>\n                <LoginName>").concat(e.Transport[1].LoginName,"</LoginName>\n                <PassWord>").concat(e.Transport[1].PassWord,"</PassWord>\n            </Transport>\n            <Transport>\n                <Protocol>").concat(e.Transport[2].Protocol,"</Protocol>\n                <Host>").concat(e.Transport[2].Host,"</Host>\n                <Port>").concat(e.Transport[2].Port,"</Port>\n                <Path>").concat(e.Transport[2].Path,"</Path>\n                <LoginName>").concat(e.Transport[2].LoginName,"</LoginName>\n                <PassWord>").concat(e.Transport[2].PassWord,"</PassWord>\n            </Transport>\n          </information>\n          </firmware>  \n          ")})),a},x=function(e){return{filterDropdown:function(a){var t=a.setSelectedKeys,n=a.selectedKeys,r=a.confirm,c=a.clearFilters;return l.a.createElement("div",{style:{padding:8}},l.a.createElement(ie.a,{ref:function(e){H.current=e},placeholder:"Search ".concat(e),value:n[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:function(){return B(n,r,e)},style:{width:188,marginBottom:8,display:"block"}}),l.a.createElement(ma.b,null,l.a.createElement(ye.a,{size:"small",type:"primary",onClick:function(){return B(n,r,e)},icon:l.a.createElement(ua.a,null),style:{width:90}},"Search"),l.a.createElement(ye.a,{onClick:function(){return V(c)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return l.a.createElement(ua.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(a,t){return t[e]?t[e].toString().toLowerCase().includes(a.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return H.current.select()}),100)},render:function(a){return U===e?l.a.createElement(ba.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[G],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},A=Object(n.useState)(""),D=Object(d.a)(A,2),G=D[0],P=D[1],F=Object(n.useState)(""),L=Object(d.a)(F,2),U=L[0],R=L[1],B=function(e,a,t){a(),P(e[0]),R(t)},V=function(e){e(),P("")},H=Object(n.useRef)(""),W=[Object(y.a)({title:"ModelName",dataIndex:"ModelName",width:"20%"},x("ModelName")),Object(y.a)({title:"name",dataIndex:"name",width:"25%"},x("name")),Object(y.a)({title:"MD5",dataIndex:"MD5",width:"25%",responsive:["md"]},x("MD5")),{title:"Action",dataIndex:"action",width:"20%",render:function(e,a,c){return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:Oa.a.EdtiDeleBtn,key:c},l.a.createElement(ye.a,{className:Oa.a.EdtiBtn,size:"large",onClick:function(){T(c),E(!0),o.setFieldsValue({ModelName:a.ModelName,Version:a.Version,force:a.force,name:a.name,SoftwareMCSV:a.SoftwareMCSV,MD5:a.MD5,Protocol0:a.Transport[0].Protocol,Host0:a.Transport[0].Host,Port0:a.Transport[0].Port,Path0:a.Transport[0].Path,LoginName0:a.Transport[0].LoginName,PassWord0:a.Transport[0].PassWord,Protocol1:a.Transport[1].Protocol,Host1:a.Transport[1].Host,Port1:a.Transport[1].Port,Path1:a.Transport[1].Path,LoginName1:a.Transport[1].LoginName,PassWord1:a.Transport[1].PassWord,Protocol2:a.Transport[2].Protocol,Host2:a.Transport[2].Host,Port2:a.Transport[2].Port,Path2:a.Transport[2].Path,LoginName2:a.Transport[2].LoginName,PassWord2:a.Transport[2].PassWord})}},"Edit"),l.a.createElement(pe.a,{title:"FOTA Modify",visible:f,onOk:M,onCancel:j,destroyOnClose:!0,okButtonProps:{form:"category-editor-form",key:"submit",htmlType:"submit"},calssName:Oa.a.modal,centered:!0,scroll:!0,maskStyle:{background:"transparent"},bodyStyle:{display:"flex",margin:"30px",justifyContent:"center"}},l.a.createElement(Ma,{form:o,id:"category-editor-form",onFinish:C,name:"nest-messagesE"})),l.a.createElement(ye.a,{size:"large",danger:!0,onClick:function(){!function(e){console.log(e),T(e);var a=Object(ne.a)(t);a.splice(e,1),r(a),N(a)}(c)}},"Delete")))}}];return l.a.createElement(n.Fragment,null,l.a.createElement(b.a,{className:Oa.a.card},l.a.createElement(ye.a,{size:"large",type:"primary",className:Oa.a.actionbtn,onClick:function(){I(!0),o.setFieldsValue({ModelName:"",Version:"",force:"",name:"",SoftwareMCSV:"",MD5:"",Protocol0:"",Host0:"",Port0:"",Path0:"",LoginName0:"",PassWord0:"",Protocol1:"",Host1:"",Port1:"",Path1:"",LoginName1:"",PassWord1:"",Protocol2:"",Host2:"",Port2:"",Path2:"",LoginName2:"",PassWord2:""})}},"New Create"),l.a.createElement(pe.a,{forceRender:!0,title:"Create New FOTA",visible:S,onOk:M,onCancel:j,destroyOnClose:!0,okButtonProps:{form:"category-add-form",key:"submit",htmlType:"submit"},calssName:Oa.a.modal,maskStyle:{background:"transparent"},bodyStyle:{display:"flex",margin:"30px",justifyContent:"center"}},l.a.createElement(Ma,{form:o,id:"category-add-form",onFinish:function(e){console.log("123"),e.Transport=[{Protocol:e.Protocol0,Host:e.Host0,Port:e.Port0,Path:e.Path0},{Protocol:e.Protocol1,Host:e.Host1,Port:e.Port1,Path:e.Path1},{Protocol:e.Protocol2,Host:e.Host2,Port:e.Port2,Path:e.Path2}];var a=Object(ne.a)(t);a.push(e),r(a),N(a)},name:"nest-messagesA"})),l.a.createElement(ge.a,{columns:W,dataSource:t,pagination:!1,scroll:{y:800},className:Oa.a.table,loading:m})))},Ca=_e.a.TabPane,Na=function(){var e=Object(n.useState)(!1),a=Object(d.a)(e,2),t=a[0],r=a[1];return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:ca.a.container},l.a.createElement(_e.a,{defaultActiveKey:"1",className:ca.a.tabs},l.a.createElement(Ca,{tab:l.a.createElement("span",{className:ca.a.TabPane},l.a.createElement(fe.a,{className:ca.a.Tabicon}),R("ISMS.Upgrade")),key:"1"},l.a.createElement("div",{className:ca.a.wrap},l.a.createElement(ia,{uploading:t,setUploading:r}),l.a.createElement(_a,{uploading:t,setUploading:r}))),l.a.createElement(Ca,{tab:l.a.createElement("span",{className:ca.a.TabPane},l.a.createElement(Ne.b,{className:ca.a.Tabicon}),R("ISMS.Repository")),key:"2"},l.a.createElement("div",{className:ca.a.wrap},l.a.createElement(ka,{uploading:t,setUploading:r}))),l.a.createElement(Ca,{disabled:!0,tab:l.a.createElement("span",{className:ca.a.TabPane},l.a.createElement(fe.c,{className:ca.a.Tabicon,style:{color:"lightgray",fontSize:"2.4rem"}}),R("ISMS.FOTA")),key:"3"},l.a.createElement("div",{className:ca.a.wrap},l.a.createElement(ja,null))))))},xa=function(){return l.a.createElement(n.Fragment,null,l.a.createElement(Na,null))},Aa=t(704),Da=t(705),Ga=t(706),Pa=t(707),Fa=t(689),La=t(22),Ua=t.n(La),Ra=t(680),Ba={labelCol:{span:5},wrapperCol:{span:16}},Va={wrapperCol:{offset:8,span:16}},Ha=he.a.Option,Wa=Ra.a.Panel,qa=function(){var e=Object(n.useContext)(I).state,a=ce.a.useForm(),t=Object(d.a)(a,1)[0],r=localStorage.getItem("authUser.cid"),c="proscend"===r?'/cmd?get={"notification":{"filter":{'.concat(e.Login.Cid,"}}}"):'/cmd?get={"notification":{"filter":{"cid":"'.concat(r,'"}}}');console.log(c);var o=j(c),i=Object(d.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)([]),p=Object(d.a)(u,2),g=p[0],f=p[1];Object(n.useEffect)((function(){if(m){var e=[];m.response.notification.forEach((function(a,t){e.push({key:t,cid:a.cid,level:a.conditions.level,line_active:a.line.active,line_token:a.line.token,mail_active:a.mail.active,mail_from:a.mail.mail_from,mail_to:a.mail.mail_to,mail_token:a.mail.token,timezone:a.timezone})})),f(e),console.log(e),t.setFieldsValue({Notification:e})}}),[m]);var E=function(a){var t=a.Notification[a.Notification.length-1];console.log(t);var n="proscend"===r&&""!==e.Login.Cid?'/cmd?set={"notification":[{'.concat(e.Login.Cid,', "timezone":"').concat(t.timezone,'", "conditions":{"level":"').concat(t.level,'"}, "mail":{"active":"').concat(t.mail_active,'", "mail_from":"').concat(t.mail_from,'","mail_to":').concat(JSON.stringify(t.mail_to),', "token":"').concat(t.mail_token,'"},"line":{"active":"').concat(t.line_active,'","token":"').concat(t.line_token,'"}}]}'):'/cmd?set={"notification":[{"cid":"'.concat(r,'", "timezone":"').concat(t.timezone,'", "conditions":{"level":"').concat(t.level,'"}, "mail":{"active":"').concat(t.mail_active,'", "mail_from":"').concat(t.mail_from,'","mail_to":').concat(JSON.stringify(t.mail_to),', "token":"').concat(t.mail_token,'"},"line":{"active":"').concat(t.line_active,'","token":"').concat(t.line_token,'"}}]}');console.log(n),h.a.get(n).then((function(e){console.log(e)}))},_=function(e){console.log("Failed:",e)};return l.a.createElement(b.a,null,s?l.a.createElement("div",{className:Ua.a.spin},l.a.createElement(v.a,null)):l.a.createElement(Ra.a,{defaultActiveKey:["0"],accordion:!0},g.map((function(e,a){return l.a.createElement(Wa,{key:a,header:e.cid},l.a.createElement("div",{className:Ua.a.NotifiForm},l.a.createElement(ce.a,Object.assign({},Ba,{name:["Notification",a],autoComplete:"off",onFinish:E,onFinishFailed:_,form:t,key:a}),l.a.createElement(ce.a.Item,{label:"Time Zone",name:["Notification",a,"timezone"]},l.a.createElement(he.a,{name:"timezone"},l.a.createElement(Ha,{value:"Etc/GMT+12"},"(GMT-12:00) International Date Line West"),l.a.createElement(Ha,{value:"Pacific/Midway"},"(GMT-11:00) Midway Island, Samoa"),l.a.createElement(Ha,{value:"Pacific/Honolulu"},"(GMT-10:00) Hawaii"),l.a.createElement(Ha,{value:"US/Alaska"},"(GMT-09:00) Alaska"),l.a.createElement(Ha,{value:"America/Los_Angeles"},"(GMT-08:00) Pacific Time (US & Canada)"),l.a.createElement(Ha,{value:"America/Tijuana"},"(GMT-08:00) Tijuana, Baja California"),l.a.createElement(Ha,{value:"US/Arizona"},"(GMT-07:00) Arizona"),l.a.createElement(Ha,{value:"America/Chihuahua"},"(GMT-07:00) Chihuahua, La Paz, Mazatlan"),l.a.createElement(Ha,{value:"US/Mountain"},"(GMT-07:00) Mountain Time (US & Canada)"),l.a.createElement(Ha,{value:"America/Managua"},"(GMT-06:00) Central America"),l.a.createElement(Ha,{value:"US/Central"},"(GMT-06:00) Central Time (US & Canada)"),l.a.createElement(Ha,{value:"America/Mexico_City"},"(GMT-06:00) Guadalajara, Mexico City, Monterrey"),l.a.createElement(Ha,{value:"Canada/Saskatchewan"},"(GMT-06:00) Saskatchewan"),l.a.createElement(Ha,{value:"America/Bogota"},"(GMT-05:00) Bogota, Lima, Quito, Rio Branco"),l.a.createElement(Ha,{value:"US/Eastern"},"(GMT-05:00) Eastern Time (US & Canada)"),l.a.createElement(Ha,{value:"US/East-Indiana"},"(GMT-05:00) Indiana (East)"),l.a.createElement(Ha,{value:"Canada/Atlantic"},"(GMT-04:00) Atlantic Time (Canada)"),l.a.createElement(Ha,{value:"America/Caracas"},"(GMT-04:00) Caracas, La Paz"),l.a.createElement(Ha,{value:"America/Manaus"},"(GMT-04:00) Manaus"),l.a.createElement(Ha,{value:"America/Santiago"},"(GMT-04:00) Santiago"),l.a.createElement(Ha,{value:"Canada/Newfoundland"},"(GMT-03:30) Newfoundland"),l.a.createElement(Ha,{value:"America/Sao_Paulo"},"(GMT-03:00) Brasilia"),l.a.createElement(Ha,{value:"America/Argentina/Buenos_Aires"},"(GMT-03:00) Buenos Aires, Georgetown"),l.a.createElement(Ha,{value:"America/Godthab"},"(GMT-03:00) Greenland"),l.a.createElement(Ha,{value:"America/Montevideo"},"(GMT-03:00) Montevideo"),l.a.createElement(Ha,{value:"America/Noronha"},"(GMT-02:00) Mid-Atlantic"),l.a.createElement(Ha,{value:"Atlantic/Cape_Verde"},"(GMT-01:00) Cape Verde Is."),l.a.createElement(Ha,{value:"Atlantic/Azores"},"(GMT-01:00) Azores"),l.a.createElement(Ha,{value:"Africa/Casablanca"},"(GMT+00:00) Casablanca, Monrovia, Reykjavik"),l.a.createElement(Ha,{value:"Etc/Greenwich"},"(GMT+00:00) Greenwich Mean Time : Dublin, Edinburgh, Lisbon, London"),l.a.createElement(Ha,{value:"Europe/Amsterdam"},"(GMT+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna"),l.a.createElement(Ha,{value:"Europe/Belgrade"},"(GMT+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague"),l.a.createElement(Ha,{value:"Europe/Brussels"},"(GMT+01:00) Brussels, Copenhagen, Madrid, Paris"),l.a.createElement(Ha,{value:"Europe/Sarajevo"},"(GMT+01:00) Sarajevo, Skopje, Warsaw, Zagreb"),l.a.createElement(Ha,{value:"Africa/Lagos"},"(GMT+01:00) West Central Africa"),l.a.createElement(Ha,{value:"Asia/Amman"},"(GMT+02:00) Amman"),l.a.createElement(Ha,{value:"Europe/Athens"},"(GMT+02:00) Athens, Bucharest, Istanbul"),l.a.createElement(Ha,{value:"Asia/Beirut"},"(GMT+02:00) Beirut"),l.a.createElement(Ha,{value:"Africa/Cairo"},"(GMT+02:00) Cairo"),l.a.createElement(Ha,{value:"Africa/Harare"},"(GMT+02:00) Harare, Pretoria"),l.a.createElement(Ha,{value:"Europe/Helsinki"},"(GMT+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius"),l.a.createElement(Ha,{value:"Asia/Jerusalem"},"(GMT+02:00) Jerusalem"),l.a.createElement(Ha,{value:"Europe/Minsk"},"(GMT+02:00) Minsk"),l.a.createElement(Ha,{value:"Africa/Windhoek"},"(GMT+02:00) Windhoek"),l.a.createElement(Ha,{value:"Asia/Kuwait"},"(GMT+03:00) Kuwait, Riyadh, Baghdad"),l.a.createElement(Ha,{value:"Europe/Moscow"},"(GMT+03:00) Moscow, St. Petersburg, Volgograd"),l.a.createElement(Ha,{value:"Africa/Nairobi"},"(GMT+03:00) Nairobi"),l.a.createElement(Ha,{value:"Asia/Tbilisi"},"(GMT+03:00) Tbilisi"),l.a.createElement(Ha,{value:"Asia/Tehran"},"(GMT+03:30) Tehran"),l.a.createElement(Ha,{value:"Asia/Muscat"},"(GMT+04:00) Abu Dhabi, Muscat"),l.a.createElement(Ha,{value:"Asia/Baku"},"(GMT+04:00) Baku"),l.a.createElement(Ha,{value:"Asia/Yerevan"},"(GMT+04:00) Yerevan"),l.a.createElement(Ha,{value:"Asia/Kabul"},"(GMT+04:30) Kabul"),l.a.createElement(Ha,{value:"Asia/Yekaterinburg"},"(GMT+05:00) Yekaterinburg"),l.a.createElement(Ha,{value:"Asia/Karachi"},"(GMT+05:00) Islamabad, Karachi, Tashkent"),l.a.createElement(Ha,{value:"Asia/Calcutta"},"(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi"),l.a.createElement(Ha,{value:"Asia/Calcutta"},"(GMT+05:30) Sri Jayawardenapura"),l.a.createElement(Ha,{value:"Asia/Katmandu"},"(GMT+05:45) Kathmandu"),l.a.createElement(Ha,{value:"Asia/Almaty"},"(GMT+06:00) Almaty, Novosibirsk"),l.a.createElement(Ha,{value:"Asia/Dhaka"},"(GMT+06:00) Astana, Dhaka"),l.a.createElement(Ha,{value:"Asia/Rangoon"},"(GMT+06:30) Yangon (Rangoon)"),l.a.createElement(Ha,{value:"Asia/Bangkok"},"(GMT+07:00) Bangkok, Hanoi, Jakarta"),l.a.createElement(Ha,{value:"Asia/Krasnoyarsk"},"(GMT+07:00) Krasnoyarsk"),l.a.createElement(Ha,{value:"Asia/Hong_Kong"},"(GMT+08:00) Beijing, Chongqing, Hong Kong, Urumqi"),l.a.createElement(Ha,{value:"Asia/Kuala_Lumpur"},"(GMT+08:00) Kuala Lumpur, Singapore"),l.a.createElement(Ha,{value:"Asia/Irkutsk"},"(GMT+08:00) Irkutsk, Ulaan Bataar"),l.a.createElement(Ha,{value:"Australia/Perth"},"(GMT+08:00) Perth"),l.a.createElement(Ha,{value:"Asia/Taipei"},"(GMT+08:00) Taipei"),l.a.createElement(Ha,{value:"Asia/Tokyo"},"(GMT+09:00) Osaka, Sapporo, Tokyo"),l.a.createElement(Ha,{value:"Asia/Seoul"},"(GMT+09:00) Seoul"),l.a.createElement(Ha,{value:"Asia/Yakutsk"},"(GMT+09:00) Yakutsk"),l.a.createElement(Ha,{value:"Australia/Adelaide"},"(GMT+09:30) Adelaide"),l.a.createElement(Ha,{value:"Australia/Darwin"},"(GMT+09:30) Darwin"),l.a.createElement(Ha,{value:"Australia/Brisbane"},"(GMT+10:00) Brisbane"),l.a.createElement(Ha,{value:"Australia/Canberra"},"(GMT+10:00) Canberra, Melbourne, Sydney"),l.a.createElement(Ha,{value:"Australia/Hobart"},"(GMT+10:00) Hobart"),l.a.createElement(Ha,{value:"Pacific/Guam"},"(GMT+10:00) Guam, Port Moresby"),l.a.createElement(Ha,{value:"Asia/Vladivostok"},"(GMT+10:00) Vladivostok"),l.a.createElement(Ha,{value:"Asia/Magadan"},"(GMT+11:00) Magadan, Solomon Is., New Caledonia"),l.a.createElement(Ha,{value:"Pacific/Auckland"},"(GMT+12:00) Auckland, Wellington"),l.a.createElement(Ha,{value:"Pacific/Fiji"},"(GMT+12:00) Fiji, Kamchatka, Marshall Is."),l.a.createElement(Ha,{value:"Pacific/Tongatapu"},"(GMT+13:00) Nuku'alofa"))),l.a.createElement(ce.a.Item,{name:["Notification",a,"level"],label:"Level to Inform"},l.a.createElement(He.a.Group,{name:["Notification",a,"level"]},l.a.createElement(He.a,{value:"INFO"},"INFO"),l.a.createElement(He.a,{value:"WARN"},"WARN"),l.a.createElement(He.a,{value:"ERROR"},"ERROR"),l.a.createElement(He.a,{value:"FATAL"},"FATAL"))),l.a.createElement(ce.a.Item,{name:["Notification",a,"mail_active"],label:"Mail active",valuePropName:"checked",initialValue:!1,rules:[{required:!0,message:"equired."}]},l.a.createElement(Ve.a,null)),l.a.createElement(ce.a.Item,{label:"Mail From",name:["Notification",a,"mail_from"]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{label:"Mail To",name:["Notification",a,"mail_to"]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{label:"Mail Token",name:["Notification",a,"mail_token"]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:["Notification",a,"line_active"],label:"Line active",valuePropName:"checked",initialValue:!1,rules:[{required:!0,message:"equired."}]},l.a.createElement(Ve.a,null)),l.a.createElement(ce.a.Item,{label:"Line Token",name:["Notification",a,"line_token"]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,Va,l.a.createElement(ye.a,{type:"primary",htmlType:"submit",key:a},"Submit")))))}))))},za=l.a.memo((function(e){var a=e.record,t=e.NotifiModalvisible,r=e.setNotifiModalvisible,c=ce.a.useForm(),o=Object(d.a)(c,1)[0],i='/cmd?get={"notification":{"filter":{"cid":"'.concat(a.cid,'"}}}'),s=j(i,a.cid),m=Object(d.a)(s,2),u=m[0],p=m[1],g=Object(n.useState)(!1),f=Object(d.a)(g,2),E=f[0],b=f[1];return Object(n.useEffect)((function(){if(p){var e=p.response.notification[0];o.setFieldsValue({timezone:e.timezone,mail_active:e.mail.active,mail_from:e.mail.mail_from,mail_to:e.mail.mail_to,mail_token:e.mail.token,line_token:e.line.token,line_active:e.line.active,level:e.conditions.level})}}),[p,a.cid]),l.a.createElement(pe.a,{visible:t,title:"Notification Setting",onOk:function(){return r(!1)},onCancel:function(){return r(!1)},centered:!0,className:Ua.a.modal,destroyOnClose:!0,footer:[l.a.createElement(ye.a,{key:"submit",type:"primary",loading:E,onClick:function(){o.submit()}},"Submit")]},u?l.a.createElement(v.a,{tip:"Loading..."},l.a.createElement(Ie.a,{message:"Getting Data",description:"We are now getting data from server, please wait for a few seconds"})):l.a.createElement(ce.a,Object.assign({},Ba,{onFinish:function(e){b(!0),console.log(e,a);var t='/cmd?set={"notification":[{"cid":"'.concat(a.cid,'", "timezone":"').concat(e.timezone,'", "conditions":{"level":"').concat(e.level,'"}, "mail":{"active":"').concat(e.mail_active,'", "mail_from":"').concat(e.mail_from,'","mail_to":').concat(JSON.stringify(e.mail_to),', "token":"').concat(e.mail_token,'"},"line":{"active":"').concat(e.line_active,'","token":"').concat(e.line_token,'"}}]}');console.log(t),h.a.get(t).then((function(){b(!1),oe.b.success("update successfully.")})).catch((function(e){b(!1),oe.b.error("update fail."),console.log(e)}))},form:o}),l.a.createElement(ce.a.Item,{label:"Time Zone",name:"timezone"},l.a.createElement(he.a,null,l.a.createElement(Ha,{value:"Etc/GMT+12"},"(GMT-12:00) International Date Line West"),l.a.createElement(Ha,{value:"Pacific/Midway"},"(GMT-11:00) Midway Island, Samoa"),l.a.createElement(Ha,{value:"Pacific/Honolulu"},"(GMT-10:00) Hawaii"),l.a.createElement(Ha,{value:"US/Alaska"},"(GMT-09:00) Alaska"),l.a.createElement(Ha,{value:"America/Los_Angeles"},"(GMT-08:00) Pacific Time (US & Canada)"),l.a.createElement(Ha,{value:"America/Tijuana"},"(GMT-08:00) Tijuana, Baja California"),l.a.createElement(Ha,{value:"US/Arizona"},"(GMT-07:00) Arizona"),l.a.createElement(Ha,{value:"America/Chihuahua"},"(GMT-07:00) Chihuahua, La Paz, Mazatlan"),l.a.createElement(Ha,{value:"US/Mountain"},"(GMT-07:00) Mountain Time (US & Canada)"),l.a.createElement(Ha,{value:"America/Managua"},"(GMT-06:00) Central America"),l.a.createElement(Ha,{value:"US/Central"},"(GMT-06:00) Central Time (US & Canada)"),l.a.createElement(Ha,{value:"America/Mexico_City"},"(GMT-06:00) Guadalajara, Mexico City, Monterrey"),l.a.createElement(Ha,{value:"Canada/Saskatchewan"},"(GMT-06:00) Saskatchewan"),l.a.createElement(Ha,{value:"America/Bogota"},"(GMT-05:00) Bogota, Lima, Quito, Rio Branco"),l.a.createElement(Ha,{value:"US/Eastern"},"(GMT-05:00) Eastern Time (US & Canada)"),l.a.createElement(Ha,{value:"US/East-Indiana"},"(GMT-05:00) Indiana (East)"),l.a.createElement(Ha,{value:"Canada/Atlantic"},"(GMT-04:00) Atlantic Time (Canada)"),l.a.createElement(Ha,{value:"America/Caracas"},"(GMT-04:00) Caracas, La Paz"),l.a.createElement(Ha,{value:"America/Manaus"},"(GMT-04:00) Manaus"),l.a.createElement(Ha,{value:"America/Santiago"},"(GMT-04:00) Santiago"),l.a.createElement(Ha,{value:"Canada/Newfoundland"},"(GMT-03:30) Newfoundland"),l.a.createElement(Ha,{value:"America/Sao_Paulo"},"(GMT-03:00) Brasilia"),l.a.createElement(Ha,{value:"America/Argentina/Buenos_Aires"},"(GMT-03:00) Buenos Aires, Georgetown"),l.a.createElement(Ha,{value:"America/Godthab"},"(GMT-03:00) Greenland"),l.a.createElement(Ha,{value:"America/Montevideo"},"(GMT-03:00) Montevideo"),l.a.createElement(Ha,{value:"America/Noronha"},"(GMT-02:00) Mid-Atlantic"),l.a.createElement(Ha,{value:"Atlantic/Cape_Verde"},"(GMT-01:00) Cape Verde Is."),l.a.createElement(Ha,{value:"Atlantic/Azores"},"(GMT-01:00) Azores"),l.a.createElement(Ha,{value:"Africa/Casablanca"},"(GMT+00:00) Casablanca, Monrovia, Reykjavik"),l.a.createElement(Ha,{value:"Etc/Greenwich"},"(GMT+00:00) Greenwich Mean Time : Dublin, Edinburgh, Lisbon, London"),l.a.createElement(Ha,{value:"Europe/Amsterdam"},"(GMT+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna"),l.a.createElement(Ha,{value:"Europe/Belgrade"},"(GMT+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague"),l.a.createElement(Ha,{value:"Europe/Brussels"},"(GMT+01:00) Brussels, Copenhagen, Madrid, Paris"),l.a.createElement(Ha,{value:"Europe/Sarajevo"},"(GMT+01:00) Sarajevo, Skopje, Warsaw, Zagreb"),l.a.createElement(Ha,{value:"Africa/Lagos"},"(GMT+01:00) West Central Africa"),l.a.createElement(Ha,{value:"Asia/Amman"},"(GMT+02:00) Amman"),l.a.createElement(Ha,{value:"Europe/Athens"},"(GMT+02:00) Athens, Bucharest, Istanbul"),l.a.createElement(Ha,{value:"Asia/Beirut"},"(GMT+02:00) Beirut"),l.a.createElement(Ha,{value:"Africa/Cairo"},"(GMT+02:00) Cairo"),l.a.createElement(Ha,{value:"Africa/Harare"},"(GMT+02:00) Harare, Pretoria"),l.a.createElement(Ha,{value:"Europe/Helsinki"},"(GMT+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius"),l.a.createElement(Ha,{value:"Asia/Jerusalem"},"(GMT+02:00) Jerusalem"),l.a.createElement(Ha,{value:"Europe/Minsk"},"(GMT+02:00) Minsk"),l.a.createElement(Ha,{value:"Africa/Windhoek"},"(GMT+02:00) Windhoek"),l.a.createElement(Ha,{value:"Asia/Kuwait"},"(GMT+03:00) Kuwait, Riyadh, Baghdad"),l.a.createElement(Ha,{value:"Europe/Moscow"},"(GMT+03:00) Moscow, St. Petersburg, Volgograd"),l.a.createElement(Ha,{value:"Africa/Nairobi"},"(GMT+03:00) Nairobi"),l.a.createElement(Ha,{value:"Asia/Tbilisi"},"(GMT+03:00) Tbilisi"),l.a.createElement(Ha,{value:"Asia/Tehran"},"(GMT+03:30) Tehran"),l.a.createElement(Ha,{value:"Asia/Muscat"},"(GMT+04:00) Abu Dhabi, Muscat"),l.a.createElement(Ha,{value:"Asia/Baku"},"(GMT+04:00) Baku"),l.a.createElement(Ha,{value:"Asia/Yerevan"},"(GMT+04:00) Yerevan"),l.a.createElement(Ha,{value:"Asia/Kabul"},"(GMT+04:30) Kabul"),l.a.createElement(Ha,{value:"Asia/Yekaterinburg"},"(GMT+05:00) Yekaterinburg"),l.a.createElement(Ha,{value:"Asia/Karachi"},"(GMT+05:00) Islamabad, Karachi, Tashkent"),l.a.createElement(Ha,{value:"Asia/Calcutta"},"(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi"),l.a.createElement(Ha,{value:"Asia/Calcutta"},"(GMT+05:30) Sri Jayawardenapura"),l.a.createElement(Ha,{value:"Asia/Katmandu"},"(GMT+05:45) Kathmandu"),l.a.createElement(Ha,{value:"Asia/Almaty"},"(GMT+06:00) Almaty, Novosibirsk"),l.a.createElement(Ha,{value:"Asia/Dhaka"},"(GMT+06:00) Astana, Dhaka"),l.a.createElement(Ha,{value:"Asia/Rangoon"},"(GMT+06:30) Yangon (Rangoon)"),l.a.createElement(Ha,{value:"Asia/Bangkok"},"(GMT+07:00) Bangkok, Hanoi, Jakarta"),l.a.createElement(Ha,{value:"Asia/Krasnoyarsk"},"(GMT+07:00) Krasnoyarsk"),l.a.createElement(Ha,{value:"Asia/Hong_Kong"},"(GMT+08:00) Beijing, Chongqing, Hong Kong, Urumqi"),l.a.createElement(Ha,{value:"Asia/Kuala_Lumpur"},"(GMT+08:00) Kuala Lumpur, Singapore"),l.a.createElement(Ha,{value:"Asia/Irkutsk"},"(GMT+08:00) Irkutsk, Ulaan Bataar"),l.a.createElement(Ha,{value:"Australia/Perth"},"(GMT+08:00) Perth"),l.a.createElement(Ha,{value:"Asia/Taipei"},"(GMT+08:00) Taipei"),l.a.createElement(Ha,{value:"Asia/Tokyo"},"(GMT+09:00) Osaka, Sapporo, Tokyo"),l.a.createElement(Ha,{value:"Asia/Seoul"},"(GMT+09:00) Seoul"),l.a.createElement(Ha,{value:"Asia/Yakutsk"},"(GMT+09:00) Yakutsk"),l.a.createElement(Ha,{value:"Australia/Adelaide"},"(GMT+09:30) Adelaide"),l.a.createElement(Ha,{value:"Australia/Darwin"},"(GMT+09:30) Darwin"),l.a.createElement(Ha,{value:"Australia/Brisbane"},"(GMT+10:00) Brisbane"),l.a.createElement(Ha,{value:"Australia/Canberra"},"(GMT+10:00) Canberra, Melbourne, Sydney"),l.a.createElement(Ha,{value:"Australia/Hobart"},"(GMT+10:00) Hobart"),l.a.createElement(Ha,{value:"Pacific/Guam"},"(GMT+10:00) Guam, Port Moresby"),l.a.createElement(Ha,{value:"Asia/Vladivostok"},"(GMT+10:00) Vladivostok"),l.a.createElement(Ha,{value:"Asia/Magadan"},"(GMT+11:00) Magadan, Solomon Is., New Caledonia"),l.a.createElement(Ha,{value:"Pacific/Auckland"},"(GMT+12:00) Auckland, Wellington"),l.a.createElement(Ha,{value:"Pacific/Fiji"},"(GMT+12:00) Fiji, Kamchatka, Marshall Is."),l.a.createElement(Ha,{value:"Pacific/Tongatapu"},"(GMT+13:00) Nuku'alofa"))),l.a.createElement(ce.a.Item,{name:"level",label:"Level to Inform"},l.a.createElement(He.a.Group,null,l.a.createElement(He.a,{value:"INFO"},"INFO"),l.a.createElement(He.a,{value:"WARN"},"WARN"),l.a.createElement(He.a,{value:"ERROR"},"ERROR"),l.a.createElement(He.a,{value:"FATAL"},"FATAL"))),l.a.createElement(ce.a.Item,{name:"mail_active",label:"Mail active"},l.a.createElement(He.a.Group,null,l.a.createElement(He.a,{value:"true"},"on"),l.a.createElement(He.a,{value:"false"},"off"))),l.a.createElement(ce.a.Item,{label:"Mail From",name:"mail_from"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{label:"Mail To",name:"mail_to"},l.a.createElement(he.a,{mode:"tags",style:{width:"100%"},tokenSeparators:[","]})),l.a.createElement(ce.a.Item,{label:"Mail Token",name:"mail_token"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"line_active",label:"Line active"},l.a.createElement(He.a.Group,null,l.a.createElement(He.a,{value:"true"},"on"),l.a.createElement(He.a,{value:"false"},"off"))),l.a.createElement(ce.a.Item,{label:"Line Token",name:"line_token"},l.a.createElement(ie.a,null))))})),Ka=t(676),Ja={labelCol:{span:5},wrapperCol:{span:16}},Ya=he.a.Option,Za=l.a.memo((function(e){var a=e.CreateSchemevisible,t=e.setCreateSchemevisible,n=e.uploading,r=e.setUploading,c=ce.a.useForm(),o=Object(d.a)(c,1)[0],i=j("/scheme_mgnt?list_scheme={}"),s=Object(d.a)(i,2),m=s[0],u=s[1];return l.a.createElement(pe.a,{visible:a,title:"Notification Setting",onOk:function(){return t(!1)},onCancel:function(){return t(!1)},centered:!0,className:Ua.a.modal,destroyOnClose:!0,footer:[l.a.createElement(ye.a,{key:"submit",type:"primary",loading:n,onClick:function(){o.submit()}},"Submit")]},l.a.createElement(ce.a,Object.assign({},Ja,{onFinish:function(e){r(!0);var a='scheme_mgnt?create_scheme={"cid":"'.concat(e.cid,'", "scheme_list":{"user":').concat(e.user,',"group":').concat(e.group,',"device":').concat(e.device,',"expire":').concat(e.expire._d.getTime(),',"tracking":').concat(e.tracking,',"tracking_pool":').concat(e.tracking_pool,',"iot":').concat(e.iot,',"iot_poor":').concat(e.iot_poor,',"period_status":').concat(e.period_status,',"period_gps":').concat(e.period_gps,',"period_alive":').concat(e.period_alive,',"period_iot":').concat(e.period_iot,',"alive_timeout":').concat(e.alive_timeout,"}}");h.a.get(a).then((function(e){console.log(e.data),r(!1),oe.b.success("create successfully."),t(!1)})).catch((function(e){console.log(e),r(!1),oe.b.error("create fail.")}))},form:o}),l.a.createElement(ce.a.Item,{label:"Customer",name:"cid",rules:[{required:!0,message:"Required!!"}]},l.a.createElement(he.a,{loading:m},u&&u.response.map((function(e,a){return l.a.createElement(Ya,{key:a,value:e.cid},e.cid)})))),l.a.createElement(ce.a.Item,{label:"user",name:"user",rules:[{required:!0,message:"Required!!"}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{label:"group",name:"group",rules:[{required:!0,message:"Required!!"}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{label:"device",name:"device",rules:[{required:!0,message:"Required!!"}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{label:"expire",name:"expire",rules:[{required:!0,message:"Required!!"}]},l.a.createElement(Ka.a,null)),l.a.createElement(ce.a.Item,{label:"tracking",name:"tracking",rules:[{required:!0,message:"Required!!"}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{label:"tracking_pool",name:"tracking_pool",rules:[{required:!0,message:"Required!!"}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{label:"iot",name:"iot",rules:[{required:!0,message:"Required!!"}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{label:"iot_poor",name:"iot_poor",rules:[{required:!0,message:"Required!!"}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{label:"period_alive",name:"period_alive",rules:[{required:!0,message:"Required!!"}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{label:"period_status",name:"period_status",rules:[{required:!0,message:"Required!!"}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{label:"period_iot",name:"period_iot",rules:[{required:!0,message:"Required!!"}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{label:"period_gps",name:"period_gps",rules:[{required:!0,message:"Required!!"}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{label:"alive_timeout",name:"alive_timeout",rules:[{required:!0,message:"Required!!"}]},l.a.createElement(ie.a,null))))})),Qa=function(){var e,a=Object(n.useContext)(I).state,t=Object(n.useState)(!1),r=Object(d.a)(t,2),c=r[0],o=r[1],i=ce.a.useForm(),s=Object(d.a)(i,1)[0],p=localStorage.getItem("authUser.cid"),g="proscend"===p?"/scheme_mgnt?list_scheme={".concat(a.Login.Cid,"}"):'/scheme_mgnt?list_scheme={"cid":"'.concat(p,'"}'),f=j(g,c),E=Object(d.a)(f,2),v=E[0],_=E[1],S=Object(n.useState)([]),k=Object(d.a)(S,2),w=k[0],O=k[1],T=Object(n.useState)(!1),M=Object(d.a)(T,2),C=M[0],N=M[1];Object(n.useEffect)((function(){if(_){var e=[];_.response.forEach((function(a,t){e.push({key:t,cid:a.cid,device:a.scheme_list.device,devices:a.scheme_list.devices,expire:a.scheme_list.expire,expires:a.scheme_list.expires,group:a.scheme_list.group,groups:a.scheme_list.group,iot:a.scheme_list.iot,iot_poor:a.scheme_list.iot_poor,iot_poors:a.scheme_list.iot_poors,iots:a.scheme_list.iots,tracking:a.scheme_list.tracking,trackings:a.scheme_list.trackings,tracking_pools:a.scheme_list.tracking_pools,tracking_pool:a.scheme_list.tracking_pool,user:a.scheme_list.user,users:a.scheme_list.users,period_alive:a.scheme_list.period_alive,period_status:a.scheme_list.period_status,period_iot:a.scheme_list.period_iot,period_gps:a.scheme_list.period_gps,alive_timeout:a.scheme_list.alive_timeout}),O(e)}))}}),[_]);var x=Object(n.useState)(""),A=Object(d.a)(x,2),D=A[0],G=A[1],P=function(e){return e.key===D},F=function(){G("")},L=function(){var e=Object(u.a)(m.a.mark((function e(a){var t,n,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=function(){return h.a.get('scheme_mgnt?modify_scheme={"cid":"'.concat(a.cid,'","scheme_list":{"user":').concat(l.user,',"group":').concat(l.group,',"device":').concat(l.device,',"expire":').concat(l.expire,',"tracking":').concat(l.tracking,',"tracking_pool":').concat(l.tracking_pool,',"iot":').concat(l.iot,',"iot_poor":').concat(l.iot_poor,',"period_alive":').concat(l.period_alive,',"alive_timeout":').concat(l.alive_timeout,',"period_status":').concat(l.period_status,',"period_gps":').concat(l.period_gps,',"period_iot":').concat(l.period_iot,"}}"))},n=function(){return h.a.get('/cmd?set={"device_cfg":{"filter":{"cid":"'.concat(a.cid,'"},"obj":{"report_period":{"alive":').concat(l.period_alive,',"timeout":').concat(l.alive_timeout,',\n        "status":').concat(l.period_status,',"iot":').concat(l.period_iot,',"gps":').concat(l.period_gps,"}}}}"))},o(!0),e.next=6,s.validateFields();case 6:l=e.sent,h.a.get([t(),n()]).then(h.a.spread((function(e,a){console.table("EditSchemeUrl \u56de\u50b3\u7d50\u679c",e),console.table("setAllScheme \u56de\u50b3\u7d50\u679c",a),o(!1),G(""),oe.b.success("update successfully.")}))).catch((function(e){o(!1),console.log(e),G(""),oe.b.error("update fail.")})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a){return e.apply(this,arguments)}}(),U=[{title:"CustomerID",width:150,dataIndex:"cid",key:"cid",fixed:"left"},{title:"User",dataIndex:"user",key:"user",width:100,editable:!0},{title:"Users",dataIndex:"users",key:"users",width:100},{title:"Device",width:100,dataIndex:"device",key:"device",editable:!0},{title:"Devices",dataIndex:"devices",key:"devices",width:100},{title:"Group",dataIndex:"group",key:"group",width:100,editable:!0},{title:"Groups",dataIndex:"groups",key:"groups",width:100},{title:"IoT",dataIndex:"iot",key:"iot",width:100,editable:!0},{title:"IoTs",dataIndex:"iots",key:"iots",width:100},{title:"iot_poor",dataIndex:"iot_poor",key:"iot_poor",width:110,editable:!0},{title:"iot_poors",dataIndex:"iot_poors",key:"iot_poors",width:110},{title:"Tracking",dataIndex:"tracking",key:"trackings",width:100,editable:!0},{title:"Trackings",dataIndex:"trackings",key:"tracking",width:100},{title:"tracking_pool",dataIndex:"tracking_pool",key:"tracking_pool",width:110,editable:!0},{title:"tracking_pools",dataIndex:"tracking_pools",key:"tracking_pools",width:110},{title:"Expire",dataIndex:"expire",width:100,editable:!0},{title:"Expires",dataIndex:"expires",width:100},{title:"period_alive",dataIndex:"period_alive",key:"period_alive",width:100,editable:!0},{title:"period_status",dataIndex:"period_status",key:"period_status",width:100,editable:!0},{title:"period_iot",dataIndex:"period_iot",key:"period_iot",width:100,editable:!0},{title:"period_gps",dataIndex:"period_gps",key:"period_gps",width:100,editable:!0},{title:"alive_timeout",dataIndex:"alive_timeout",key:"period_gps",width:100,editable:!0},{title:"Action",key:"action",width:160,fixed:"right",render:function(e,t){var n=P(t),r=localStorage.getItem("authUser.cid")&&""===a.Login.Cid;return n?l.a.createElement("span",null,l.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),L(t)},style:{marginRight:8}},"Save"),l.a.createElement(se.a,{title:"Sure to cancel?",onConfirm:F},l.a.createElement("a",{href:"/#"},"Cancel"))):l.a.createElement("div",{className:Ua.a.InformationBtnWrapper},l.a.createElement(ue.a,{title:"Edit Info"},l.a.createElement("a",{href:"/#",disabled:""!==D,onClick:function(e){e.preventDefault(),function(e){s.setFieldsValue(Object(y.a)({device:"",devices:"",expire:"",expires:"",group:"",groups:"",iot:"",iot_poor:"",iot_poors:"",iots:"",tracking:"",trackings:"",tracking_pools:"",tracking_pool:"",user:"",users:"",period_alive:"",period_status:"",period_iot:"",period_gps:"",alive_timeout:""},e)),G(e.key)}(t)}},l.a.createElement(Ce.b,{className:Ua.a.EditIcon}))),r&&l.a.createElement(ue.a,{title:"Delete Info"},l.a.createElement(se.a,{title:"Sure to Delete?",onConfirm:function(){!function(e){var a='/scheme_mgnt?delete_scheme={"cid":"'.concat(e.cid,'"}');o(!0),h.a.get(a).then((function(e){console.log(e),o(!1),oe.b.success("delete successfully.")})).catch((function(e){console.log(e),o(!1),oe.b.error("delete fail.")}))}(t)}},l.a.createElement(we.c,{className:Ua.a.DeleteIcon}))))}}],R=U.map((function(e){return e.editable?Object(y.a)(Object(y.a)({},e),{},{onCell:function(a){return{record:a,inputType:"number"===e.dataIndex,dataIndex:e.dataIndex,title:e.title,editing:P(a)}}}):e}));return l.a.createElement(b.a,null,l.a.createElement("div",null,l.a.createElement(ye.a,{type:"primary",onClick:function(){N(!0)}},"New Scheme"),l.a.createElement(pe.a,{title:"New Scheme",visible:C,className:Ua.a.modal,onOk:function(){return N(!1)},onCancel:function(){return N(!1)},okButtonProps:{form:"CreateScheme",key:"submit",htmlType:"submit"},okText:"Create",cancelText:"Cancel"},l.a.createElement(Za,{CreateSchemevisible:C,setCreateSchemevisible:N,uploading:c,setUploading:o}))),l.a.createElement(ce.a,{form:s,component:!1},l.a.createElement(ge.a,(e={columns:U,dataSource:w},Object(le.a)(e,"columns",R),Object(le.a)(e,"style",{overflowX:"auto"}),Object(le.a)(e,"loading",v||c),Object(le.a)(e,"components",{body:{cell:function(e){var a=e.editing,t=e.dataIndex,n=e.title,r=e.inputType,c=(e.record,e.index,e.children),o=Object(re.a)(e,["editing","dataIndex","title","inputType","record","index","children"]),i="number"===r?l.a.createElement(Fa.a,null):l.a.createElement(ie.a,null);return l.a.createElement("td",o,a?l.a.createElement(ce.a.Item,{name:t,style:{margin:0},rules:[{required:!0,message:"Please Input ".concat(n,"!")}]},i):c)}}}),Object(le.a)(e,"rowClassName","editable-row"),e))))},Xa=function(e){var a=e.SchemeModalvisible,t=e.setSchemeModalvisible,r=e.record,c='/scheme_mgnt?list_scheme={"cid":"'.concat(r.cid,'"}'),o=j(c),i=Object(d.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)({}),p=Object(d.a)(u,2),g=p[0],f=p[1];return Object(n.useEffect)((function(){if(m){var e=m.response[0].scheme_list,a=new Date(e.expire);e.expire="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate()," ").concat(a.getHours(),":").concat(a.getMinutes());var t=new Date(e.expires);e.expires="".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()," ").concat(t.getHours(),":").concat(t.getMinutes()),f(e)}}),[m]),l.a.createElement(pe.a,{visible:a,onCancel:function(){return t(!1)},centered:!0,className:Ua.a.modal,title:"Scheme",destroyOnClose:!0,footer:[l.a.createElement(ye.a,{key:"submit",type:"primary",loading:s,onClick:function(){t(!1)}},"Confirm")]},s?l.a.createElement(v.a,{tip:"Loading..."},l.a.createElement(Ie.a,{message:"Getting Data",description:"We are now getting data from server, please wait for a few seconds"})):l.a.createElement(Se.a,{bordered:!0,className:Ua.a.desc},g&&l.a.createElement(Se.a.Item,{label:"Current Scheme (used/unused)"},"user: ",g.user," / ",g.users,l.a.createElement("br",null),"device: ",g.device," / ",g.devices,l.a.createElement("br",null),"group: ",g.group," / ",g.groups,l.a.createElement("br",null),"iot: ",g.iot," / ",g.iots,l.a.createElement("br",null),"iot_poor: ",g.iot_poor," / ",g.iot_poors,l.a.createElement("br",null),"tracking: ",g.tracking," / ",g.trackings,l.a.createElement("br",null),"tracking_pool: ",g.tracking_pool," /"," ",g.tracking_pools,l.a.createElement("br",null),"period_alive: ",g.period_alive,l.a.createElement("br",null),"period_status: ",g.period_status,l.a.createElement("br",null),"period_iot: ",g.period_iot,l.a.createElement("br",null),"period_gps: ",g.period_gps,l.a.createElement("br",null),"alive_timeout: ",g.alive_timeout,l.a.createElement("br",null),"expire: ",g.expire,l.a.createElement("br",null))))},$a=_e.a.TabPane,et=he.a.Option,at=function(){var e=Object(n.useContext)(I).state,a=j('/cmd?get={"nodeInf":{"nodeInf":{"cid":{},"gid":{},"token":{},"id":{}}}}'),t=Object(d.a)(a,2),r=(t[0],t[1]),c=Object(n.useState)(!1),o=Object(d.a)(c,2),i=o[0],s=o[1],m=localStorage.getItem("authUser.cid"),u="proscend"===m?"/device_mgnt/group?list_group={".concat(e.Login.Cid,"}"):'/device_mgnt/group?list_group={"cid":"'.concat(m,'"}'),p=j(u,i),g=Object(d.a)(p,2),f=g[0],E=g[1],b=Object(n.useState)([]),v=Object(d.a)(b,2),_=(v[0],v[1]),h=Object(n.useState)([{cid:"",gid:"",node_list:[""],key:""}]),y=Object(d.a)(h,2),S=y[0],k=y[1],w=Object(n.useState)([]),O=Object(d.a)(w,2),T=O[0],M=O[1],C=Object(n.useState)(!1),N=Object(d.a)(C,2),x=N[0],A=N[1];Object(n.useEffect)((function(){if(E){var e=[];console.log(E),E.response.forEach((function(a,t){a.group_list.length||e.push({cid:a.cid,key:t,length:2}),a.group_list.forEach((function(n,l){n.key="".concat(l,"_").concat(t),n.cid=a.cid,n.length=a.group_list.length,e.push(n)}))})),console.log(e),k(e)}}),[E]),Object(n.useEffect)((function(){if(r){console.log(r);var e=[];r.response.nodeInf.forEach((function(a,t){e.push({key:t,id:a.nodeInf.id,cid:a.nodeInf.cid})})),console.log(e),_(e)}}),[r]);var D=new Set,G=new Set,P=[{title:R("ISMS.Customer"),dataIndex:["cid"],key:"cid",width:"10%%",render:function(e,a,t){console.log(e,a,t);var n={children:e,props:{}};return!D.has(a.cid)&&a.node_list?(D.add(a.cid),n.props.rowSpan=a.length):a.node_list?n.props.rowSpan=0:n.props.rowSpan=1,n}},{title:R("ISMS.Group"),dataIndex:["gid"],key:"gid",width:"10%%"},{title:R("ISMS.Device"),dataIndex:["node_list"],key:"node_list",width:"70%",render:function(e,a){if(a.node_list)return a.node_list.map((function(e,a){return l.a.createElement($e.a,{key:a,color:"default"},e)}))}},{title:R("ISMS.Action"),dataIndex:"action",width:"20%",render:function(e,a){var t={children:l.a.createElement("div",null,l.a.createElement(ue.a,{title:"Edit Info"},l.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),A(!0),M(a)}},l.a.createElement(Ce.b,{className:Ua.a.EditIcon})))),props:{}};return!G.has(a.cid)&&a.node_list?(G.add(a.cid),t.props.rowSpan=a.length):a.node_list?t.props.rowSpan=0:t.props.rowSpan=1,t}}];return l.a.createElement("div",null,l.a.createElement(tt,{record:T,setGroupModalvisible:A,GroupModalvisible:x,uploading:i,setUploading:s}),l.a.createElement(ge.a,{loading:i||f,columns:P,dataSource:S,pagination:!1,style:{overflowX:"auto"}}))},tt=function(e){var a=e.GroupModalvisible,t=e.setGroupModalvisible,r=e.record,c=e.uploading,o=e.setUploading,i=ce.a.useForm(),s=Object(d.a)(i,1)[0],m=ce.a.useForm(),u=Object(d.a)(m,1)[0],p='/device_mgnt/group?list_group={"cid":"'.concat(r.cid,'"}'),g=j(p,c),f=Object(d.a)(g,2),E=f[0],b=f[1],v=Object(n.useState)([{gid:"",node_list:[]}]),_=Object(d.a)(v,2),y=_[0],S=_[1],I='/cmd?get={"nodeInf":{"filter":{"cid":"'.concat(r.cid,'"},"nodeInf":{"cid":{},"gid":{},"token":{},"id":{}}}}'),k=j(I),w=Object(d.a)(k,2),O=w[0],T=w[1],M=Object(n.useState)([]),C=Object(d.a)(M,2),N=C[0],x=C[1],A=Object(n.useState)(""),D=Object(d.a)(A,2),G=D[0],P=D[1];var F=function(e){console.log(e),o(!0),o(!0);for(var a="",t=0;t<e.Group.length;t++)t===e.Group.length-1?a+='{"name":"'.concat(e.Group[t].gid,'","node_list":').concat(JSON.stringify(e.GroupDevice[t].node_list),"}"):a+='{"name":"'.concat(e.Group[t].gid,'","node_list":').concat(JSON.stringify(e.GroupDevice[t].node_list),"},");var n='/device_mgnt/group?modify_group={"cid":"'.concat(r.cid,'","group_list":[').concat(a,"]}");h.a.get(n).then((function(e){console.log(e),oe.b.success("Update successfully."),o(!1),o(!1)})).catch((function(e){console.log(e),oe.b.error("Update fail."),o(!1),o(!1)}))};function L(e){var a=e.label,t=(e._,e.closable),n=e.onClose;return l.a.createElement($e.a,{color:"black",closable:t,onClose:n,style:{marginRight:3}},a)}Object(n.useEffect)((function(){if(b){var e=[];b.response[0].group_list.forEach((function(a,t){e.push({key:t,gid:a.gid,node_list:a.node_list})})),S(e),s.setFieldsValue({Group:e,GroupDevice:e})}}),[b]),Object(n.useEffect)((function(){if(T){console.log(T);var e=[];T.response&&T.response.nodeInf.forEach((function(a,t){e.push({key:t,id:a.nodeInf.id})})),x(e),console.log(e)}}),[T]);var U=[{title:"Group",width:"30%",dataIndex:"gid",key:"gid",render:function(e,a,t){return l.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},l.a.createElement(ce.a,{name:["Group",t],onFinish:F,autoComplete:"off",form:s,className:Ua.a.Form},l.a.createElement(ce.a.Item,{style:{marginBottom:"10px"},className:Ua.a.formitem,name:["Group",t,"gid"],rules:[{required:!0,message:"Group is required!"}]},l.a.createElement(ie.a,{disabled:!0}))),l.a.createElement(ue.a,{title:"Delete Group"},l.a.createElement(se.a,{title:"Sure to delete?",onConfirm:function(){!function(e){var a='/device_mgnt/group?delete_group={"cid":"'.concat(r.cid,'","group_list":[{"name":"').concat(e.gid,'"}]}');console.log(a),o(!0),o(!0),h.a.get(a).then((function(e){o(!1),o(!1),oe.b.success("Delete successfully."),console.log(e)})).catch((function(e){o(!1),o(!1),oe.b.error("Delete fail."),console.log(e)}))}(a)}},l.a.createElement(we.d,{className:Ua.a.DeleteGroupIcon,style:{fontSize:"2rem",cursor:"pointer"}}))))}},{title:"Device",width:"70%",dataIndex:"node_list",key:"node_list",render:function(e,a,t){return l.a.createElement(ce.a,{name:["GroupDevice",t],onFinish:F,autoComplete:"off",form:s,className:Ua.a.Form},l.a.createElement(ce.a.Item,{className:Ua.a.formitem,name:["GroupDevice",t,"node_list"],rules:[{required:!0,message:"Deivce Id is required!"}]},l.a.createElement(he.a,{mode:"multiple",placeholder:"Select devices",showArrow:!0,tagRender:L,style:{width:"100%"},className:Ua.a.deviceinput,onFocus:function(){}},N.map((function(e,a){return l.a.createElement(et,{key:a,value:e.id},e.id)})))))}}];return l.a.createElement(pe.a,{visible:a,onOk:function(){return t(!1)},onCancel:function(){return t(!1)},centered:!0,className:Ua.a.modal,destroyOnClose:!0,footer:["Edit Group"!==G&&l.a.createElement(ye.a,{key:"back",onClick:function(){return t(!1)}},"confirm"),"Edit Group"===G&&l.a.createElement(ye.a,{key:"ok",type:"primary",loading:c,onClick:function(){s.submit()}},"Submit")]},l.a.createElement(_e.a,{defaultActiveKey:"1",onChange:function(e){P(e)}},l.a.createElement($a,{tab:"Create Group",key:"Create Group"},l.a.createElement(ce.a,{name:"CreateGroup",onFinish:function(e){console.log("Received values of form:",e),o(!0),o(!0);var a='/device_mgnt/group?create_group={"cid":"'.concat(r.cid,'", "group_list":[{"name":"').concat(e.groupName,'","node_list":').concat(JSON.stringify(e.Device_ID),"}]}");console.log(a),u.resetFields(["Device_ID","groupName"]),h.a.get(a).then((function(e){o(!1),o(!1),oe.b.success("Create completely."),console.log(e)})).catch((function(e){console.log(e),oe.b.error("Create fail."),o(!1),o(!1)}))},autoComplete:"off",form:u,className:Ua.a.Form},l.a.createElement("div",{className:Ua.a.formwrap},l.a.createElement("div",{className:Ua.a.formDiv},l.a.createElement("p",null,"Device"),l.a.createElement(ce.a.Item,{style:{width:250},className:Ua.a.formitem,name:"Device_ID",rules:[{required:!0,message:"Deivce Id is required!"}]},l.a.createElement(he.a,{loading:O||E||c,mode:"multiple",placeholder:"Select devices",showArrow:!0,tagRender:L,className:Ua.a.deviceinput,onFocus:function(){}},N.map((function(e,a){return l.a.createElement(et,{key:a,value:e.id},e.id)}))))),l.a.createElement("div",{className:Ua.a.formDiv},l.a.createElement("p",null,"Group Name"),l.a.createElement(ce.a.Item,{className:Ua.a.formitem,name:"groupName",rules:[{required:!0,message:"Group name is required"}]},l.a.createElement(ie.a,null))),l.a.createElement(ce.a.Item,{className:Ua.a.submitBtn},l.a.createElement(ye.a,{type:"primary",htmlType:"submit",loading:c},"Submit"))))),l.a.createElement($a,{tab:"Edit Group",key:"Edit Group",className:Ua.a.groupPane},l.a.createElement(ge.a,{columns:U,dataSource:y,pagination:!1,loading:c}))))},nt=l.a.memo(tt),lt={labelCol:{span:8},wrapperCol:{span:16}},rt=function(e){var a=e.record,t=e.EdieTokenvisible,r=e.setEdieTokenvisible,c=e.uploading,o=e.setUploading,i=ce.a.useForm(),s=Object(d.a)(i,1)[0];Object(n.useEffect)((function(){s.setFieldsValue({token_list:a.token_list})}),[a]);var m=[{title:"Token",dataIndex:"token_list",key:"token_list",width:"20%",render:function(e,a,t){return l.a.createElement(ce.a.Item,{name:["token_list",t],className:Ua.a.EditTokenFormItem},l.a.createElement(ie.a,{disabled:!0}))}},{title:"Rename",dataIndex:"rename",key:"rename",width:"20%",render:function(e,a,t){return l.a.createElement(ce.a.Item,{name:["rename",t],className:Ua.a.EditTokenFormItem},l.a.createElement(ie.a,null))}},{title:"Delete",dataIndex:"delete",key:"delete",width:"20%",render:function(e,a){return l.a.createElement(ue.a,{title:"Delete Token"},l.a.createElement(se.a,{title:"Sure to Delete?",onConfirm:function(){u(a),r(!1)}},l.a.createElement(we.c,{className:Ua.a.DeleteIcon})))}}],u=function(e){o(!0),console.log(e);var t='/device_mgnt/token?delete_token={"cid":"'.concat(a.cid,'", "token_list":["').concat(e,'"]}');h.a.get(t).then((function(e){console.log(e),o(!1),oe.b.success("delete successfully")})).catch((function(e){console.log(e),o(!1),oe.b.error("delete fail")}))};return l.a.createElement(pe.a,{title:"Edit Token",visible:t,onCancel:function(){r(!1)},okButtonProps:{form:"EditToken",key:"submit",htmlType:"submit"},W:!0,className:Ua.a.modal,destroyOnClose:!0,footer:[l.a.createElement(ye.a,{key:"submit",type:"primary",loading:c,onClick:function(){s.submit()}},R("ISMS.Submit"))]},l.a.createElement(ce.a,Object.assign({},lt,{name:"TokenForm",autoComplete:"off",onFinish:function(e){console.log(e),o(!0);for(var t="",n=0;n<e.token_list.length;n++)void 0!==e.rename[n]&&(t+='{"old_token":"'.concat(e.token_list[n],'","new_token":"').concat(e.rename[n],'"},'));var l='/device_mgnt/token?modify_token={"cid":"'.concat(a.cid,'", "token_list":[').concat(t.substring(0,t.length-1),"]}");h.a.get(l).then((function(e){console.log(e),o(!1),oe.b.success("modify successfully"),s.resetFields(["rename"]),r(!1)})).catch((function(e){console.log(e),o(!1),oe.b.success("modify fail"),s.resetFields(["rename"])}))},form:s}),l.a.createElement(ge.a,{columns:m,dataSource:a.token_list,pagination:!1,loading:c,rowKey:function(e){return e}})))},ct=function(){var e=Object(n.useState)(!1),a=Object(d.a)(e,2),t=a[0],r=a[1],c=j("/device_mgnt/token?list_token={}",t),o=Object(d.a)(c,2),i=o[0],s=o[1],p=Object(n.useState)([]),g=Object(d.a)(p,2),f=g[0],E=g[1],v=Object(n.useState)(""),_=Object(d.a)(v,2),y=_[0],S=_[1],I=Object(n.useState)(!1),k=Object(d.a)(I,2),w=k[0],O=k[1];function T(){return(T=Object(u.a)(m.a.mark((function e(a){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),"/device_mgnt/token?generate_token={}",e.next=4,h.a.get("/device_mgnt/token?generate_token={}").then((function(e){t=e.data.response.token}));case 4:h.a.get('/device_mgnt/token?create_token={"cid":"'.concat(a.cid,'", "token_list":["').concat(t,'"]}')).then((function(e){console.log(e),r(!1),oe.b.success("Create successfully")})).catch((function(e){console.log(e),r(!1),oe.b.error("Create fail")}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){if(s){var e=[];s.response.forEach((function(a,t){e.push({key:t,cid:a.cid,token_list:a.token_list})})),E(e)}}),[s]);var M=[{title:R("ISMS.Customer"),dataIndex:"cid",key:"cid",width:"20%"},{title:R("ISMS.TokenList"),dataIndex:"token_list",key:"token_list",width:"20%",render:function(e,a){return a.token_list.map((function(e,a){return l.a.createElement($e.a,{color:"default",key:a},e)}))}},{title:R("ISMS.Action"),dataIndex:"action",key:"action",width:"20%",render:function(e,a){return l.a.createElement("div",{className:Ua.a.InformationBtnWrapper},l.a.createElement(ue.a,{title:"Edit Token"},l.a.createElement("a",{href:"/#",disabled:0===f.length,onClick:function(e){e.preventDefault(),O(!0),S(a)}},l.a.createElement(Ce.b,{className:Ua.a.EditIcon}))),l.a.createElement(ue.a,{title:"Create Token"},l.a.createElement(se.a,{title:"Sure to add a token?",onConfirm:function(){!function(e){T.apply(this,arguments)}(a)}},l.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault()}},l.a.createElement(we.a,{className:Ua.a.CreateUserIcon})))))}}];return l.a.createElement("div",null,l.a.createElement(rt,{TokenList:f,EdieTokenvisible:w,setEdieTokenvisible:O,uploading:t,setUploading:r,record:y}),l.a.createElement(b.a,null,l.a.createElement(ge.a,{columns:M,dataSource:f,pagination:!1,loading:i||t,style:{overflowX:"auto"}})))},ot=function(e){var a=e.Tokenvisible,t=e.setTokenvisible,r=e.record,c='/device_mgnt/token?list_token={"cid":"'.concat(r.cid,'"}'),o=j(c),i=Object(d.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)([]),p=Object(d.a)(u,2),g=p[0],f=p[1];return Object(n.useEffect)((function(){m&&f(m.response[0].token_list)}),[m]),l.a.createElement(pe.a,{visible:a,onOk:function(){return t(!1)},onCancel:function(){return t(!1)},okText:"confirm",cancelText:"cancel",centered:!0,className:Ua.a.modal,destroyOnClose:!0,title:"Token State"},s?l.a.createElement(v.a,{tip:"Loading..."},l.a.createElement(Ie.a,{message:"Getting Data",description:"We are now getting data from server, please wait for a few seconds"})):l.a.createElement(Se.a,{bordered:!0,className:Ua.a.desc},l.a.createElement(Se.a.Item,{label:"Token"},g.map((function(e,a){return l.a.createElement("p",{key:a},e)})),l.a.createElement("br",null))))},it=t(702),st=t(703),mt=he.a.Option,ut={labelCol:{span:6},wrapperCol:{span:16}},dt=l.a.memo((function(e){var a=e.setUploading,t=e.GroupList,r=e.record,c=e.CreateUservisible,o=e.setCreateUservisible,i=ce.a.useForm(),s=Object(d.a)(i,1)[0],m=Object(n.useState)(!1),u=Object(d.a)(m,2),p=u[0],g=u[1];Object(n.useEffect)((function(){s.setFieldsValue({cid:r.cid})}),[c]);return l.a.createElement(pe.a,{title:"Create User",visible:c,onCancel:function(){return o(!1)},className:Ua.a.modal,destroyOnClose:!0,footer:[l.a.createElement(ye.a,{key:"submit",type:"primary",loading:p,onClick:function(){s.submit()}},R("ISMS.Submit"))]},l.a.createElement(ce.a,{name:"CreateUser",form:s,onFinish:function(e){console.log("Received values of form:",e),a(!0),g(!0),console.log(e);var t='/user_mgnt?create_user={"cid":"'.concat(e.cid,'", "user_list":').concat(JSON.stringify(e.users),"}");console.log(e,t),h.a.get(t).then((function(e){a(!1),g(!1),oe.b.success("Create successfully."),console.log(e),o(!1)})).catch((function(e){console.log(e),a(!1),g(!1),oe.b.error("Create fail.")}))}},l.a.createElement(ce.a.Item,{name:"cid",rules:[{required:!0,message:""}],label:"Customer"},l.a.createElement(ie.a,{disabled:!0})),l.a.createElement(ce.a.List,{name:"users"},(function(e,a){var n=a.add,c=a.remove;return l.a.createElement("div",null,e.map((function(e){return l.a.createElement(ma.b,{key:e.key,style:{display:"flex",marginBottom:8,flexWrap:"wrap"},align:"start"},l.a.createElement(ce.a.Item,Object.assign({className:Ua.a.name},e,{name:[e.name,"name"],fieldKey:[e.fieldKey,"name"],rules:[{type:"email",required:!0,message:"must be name@xxx.com"}]}),l.a.createElement(ie.a,{placeholder:"Name@xxx.com"})),l.a.createElement(ce.a.Item,Object.assign({},e,{className:Ua.a.password,style:{width:250},name:[e.name,"password"],fieldKey:[e.fieldKey,"password"],rules:[{required:!0,message:"Missing password"},{whitespace:!0,message:"spaces are not allow!"},{pattern:new RegExp("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$"),message:"Must contain  at leat a numeric digit/Uppercase and lowercase letter/special character, and at least 8 or more characters"}]}),l.a.createElement(ie.a,{placeholder:"Password",type:"password"})),l.a.createElement(ce.a.Item,Object.assign({},e,{className:Ua.a.level,name:[e.name,"level"],fieldKey:[e.fieldKey,"level"],rules:[{required:!0,message:"Missing level"}]}),l.a.createElement(he.a,{placeholder:"Level  "},l.a.createElement(mt,{value:"super"},"super"),l.a.createElement(mt,{value:"admin"},"admin"),l.a.createElement(mt,{value:"get"},"get"),l.a.createElement(mt,{value:"set"},"set"))),l.a.createElement(ce.a.Item,Object.assign({},e,{className:Ua.a.gid,name:[e.name,"gid"],fieldKey:[e.fieldKey,"gid"],initialValue:[]}),l.a.createElement(he.a,{style:{width:150},mode:"multiple",placeholder:"Group"},t.map((function(e,a){if(e.cid===r.cid)return e.group.map((function(e,t){return l.a.createElement(mt,{key:"".concat(a,"_").concat(t),value:e.gid},e.gid)}))})))),l.a.createElement(it.a,{onClick:function(){c(e.name)}}),l.a.createElement("br",null))})),l.a.createElement(ce.a.Item,null,l.a.createElement(ye.a,{type:"dashed",onClick:function(){n()},block:!0},l.a.createElement(st.a,null)," Add User")))}))))})),pt=l.a.memo((function(e){var a=e.GroupList,t=e.UserEditRecord,r=e.onEditcid,c=e.setUploading,o=e.setEditVisible,i=e.EditVisible,s=e.uploading,m=ce.a.useForm(),u=Object(d.a)(m,1)[0];return Object(n.useEffect)((function(){u.setFieldsValue({name:t.name,level:t.level,gid:t.gid})}),[t]),l.a.createElement(pe.a,{title:"EditUser",visible:i,okButtonProps:{form:"EditUser",key:"submit",htmlType:"submit"},onCancel:function(){return o(!1)},destroyOnClose:!0,footer:[l.a.createElement(ye.a,{key:"submit",type:"primary",loading:s,onClick:function(){u.submit()}},R("ISMS.Submit"))]},l.a.createElement(ce.a,Object.assign({name:"EditUser",autoComplete:"off",form:u,onFinish:function(e){c(!0);var a=void 0===e.password?'/user_mgnt?modify_user={"cid":"'.concat(r,'", "user_list":[{"name":"').concat(e.name,'", "level":"').concat(e.level,'", "gid":').concat(JSON.stringify(e.gid),"}]}"):'/user_mgnt?modify_user={"cid":"'.concat(r,'", "user_list":[{"name":"').concat(e.name,'", "password":"').concat(e.password,'", "level":"').concat(e.level,'", "gid":').concat(JSON.stringify(e.gid),"}]}");h.a.get(a).then((function(e){console.log(e),c(!1),oe.b.success("update successfully."),u.resetFields(),o(!1)})).catch((function(e){console.log(e),c(!1),oe.b.error("update fail."),u.resetFields()})),console.log(a)}},ut),l.a.createElement(ce.a.Item,{label:"name",name:"name",rules:[{type:"email",required:!0,message:"name@xxx.com is required"}]},l.a.createElement(ie.a,{placeholder:"name",disabled:!0})),l.a.createElement(ce.a.Item,{label:"password",name:"password",rules:[{whitespace:!0,message:"spaces are not allow!"},{pattern:new RegExp("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$"),message:"Must contain  at leat a numeric digit/Uppercase and lowercase letter/special character, and at least 8 or more characters"}]},l.a.createElement(ie.a,{placeholder:"password"})),l.a.createElement(ce.a.Item,{label:"level",name:"level",rules:[{required:!0,message:"Missing level"}]},l.a.createElement(he.a,null,l.a.createElement(mt,{value:"super"},"super"),l.a.createElement(mt,{value:"admin"},"admin"),l.a.createElement(mt,{value:"get"},"get"),l.a.createElement(mt,{value:"set"},"set"))),l.a.createElement(ce.a.Item,{name:"gid",label:"Group",initialValue:[]},l.a.createElement(he.a,{mode:"multiple"},a.map((function(e,a){if(e.cid===r)return e.group.map((function(e,t){return l.a.createElement(mt,{key:"".concat(a,"_").concat(t,"_"),value:e.gid},e.gid)}))}))))))})),gt=l.a.memo((function(e){var a=e.CreateVisible,t=e.setCreateVisible,n=e.setUploading,r=ce.a.useForm(),c=Object(d.a)(r,1)[0],o=function(){var e=Object(u.a)(m.a.mark((function e(a){var l,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Received values of form:",a),n(!0),"/user_mgnt?generate_token={}",e.next=5,h.a.get("/user_mgnt?generate_token={}").then((function(e){l=e.data.response.token}));case 5:r=' /inf_mgnt?create_inf={"cid":"'.concat(l,'","inf_list":{"company":"').concat(a.company?a.company:"",'", "contact":"').concat(a.contact?a.contact:"",'", "mail":"').concat(a.mail?a.mail:"",'", "phone":"').concat(a.phone?a.phone:"",'"}}'),console.log(r),h.a.get(r).then((function(e){n(!1),oe.b.success("update successfully."),t(!1),console.log(e)})).catch((function(e){console.log(e),n(!1),oe.b.error("update fail.")}));case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement(pe.a,{title:"Create User Infomation",visible:a,onCancel:function(){return t(!1)},okButtonProps:{form:"CreateInfo",key:"submit",htmlType:"submit"},okText:"Create",cancelText:"Cancel"},l.a.createElement(ce.a,Object.assign({},ut,{name:"CreateInfo",onFinish:o,form:c}),l.a.createElement(ce.a.Item,{name:"company",label:"Company",rules:[{required:!0}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"contact",label:"Contact Person"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"mail",label:"Email"},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"phone",label:"Phone"},l.a.createElement(ie.a,null))))})),ft=function(){var e=Object(n.useContext)(I).state,a=ce.a.useForm(),t=Object(d.a)(a,1)[0],r=localStorage.getItem("authUser.cid"),c=Object(n.useState)(!1),o=Object(d.a)(c,2),i=o[0],s=o[1],p=Object(n.useState)([]),g=Object(d.a)(p,2),f=g[0],E=g[1],v=Object(n.useState)(!1),_=Object(d.a)(v,2),S=_[0],k=_[1],w=Object(n.useState)(!1),O=Object(d.a)(w,2),T=O[0],M=O[1],C=Object(n.useState)(!1),N=Object(d.a)(C,2),x=N[0],A=N[1],D=Object(n.useState)([]),G=Object(d.a)(D,2),P=G[0],F=G[1],L="proscend"===r?"/device_mgnt/group?list_group={".concat(e.Login.Cid,"}"):'/device_mgnt/group?list_group={"cid":"'.concat(r,'"}'),U=j(L,i),B=Object(d.a)(U,2),V=(B[0],B[1]),H=Object(n.useState)(""),W=Object(d.a)(H,2),q=W[0],z=W[1],K=Object(n.useState)(""),J=Object(d.a)(K,2),Y=J[0],Z=J[1],Q=Object(n.useState)(!1),X=Object(d.a)(Q,2),$=X[0],ee=X[1],ae=Object(n.useState)(!1),te=Object(d.a)(ae,2),le=te[0],me=te[1],de=Object(n.useState)(!1),pe=Object(d.a)(de,2),fe=pe[0],Ee=pe[1],be=Object(n.useState)(!1),ve=Object(d.a)(be,2),_e=ve[0],he=ve[1],Se=Object(n.useState)(""),Ie=Object(d.a)(Se,2),ke=Ie[0],Oe=Ie[1],Te=Object(n.useState)(""),Me=Object(d.a)(Te,2),je=Me[0],Ne=Me[1],xe=Object(n.useState)(""),Ae=Object(d.a)(xe,2),De=Ae[0],Ge=Ae[1],Pe=Object(n.useState)(""),Fe=Object(d.a)(Pe,2),Le=Fe[0],Ue=Fe[1],Re=Object(n.useState)(""),Be=Object(d.a)(Re,2),Ve=Be[0],He=Be[1],We="proscend"===r?"/user_mgnt?list_user={".concat(e.Login.Cid,"}"):'/user_mgnt?list_user={"cid":"'.concat(r,'"}'),qe=j(We,i),ze=Object(d.a)(qe,2),Ke=ze[0],Je=ze[1],Ye=j("/inf_mgnt?list_inf={} ",i),Ze=Object(d.a)(Ye,2),Qe=Ze[0],Xe=Ze[1];Object(n.useEffect)((function(){if(Je&&Xe){var e=[];Je.response.forEach((function(a,t){a.user_list.forEach((function(e,a){e.key=a})),Xe.response.forEach((function(n){a.cid===n.cid&&e.push({key:t,cid:a.cid,user_list:a.user_list,company:n.inf_list.company,contact:n.inf_list.contact,mail:n.inf_list.mail,phone:n.inf_list.phone})}))})),E(e)}}),[Je,Xe]),Object(n.useEffect)((function(){if(V){var e=[];V.response.forEach((function(a,t){a.group_list.forEach((function(e,a){e.key=a})),e.push({key:t,cid:a.cid,group:a.group_list})})),F(e)}}),[V]);var ea=Object(n.useState)(""),aa=Object(d.a)(ea,2),ta=aa[0],na=aa[1],la=function(e){return e.key===ta},ra=function(){na("")},ca=function(){var e=Object(u.a)(m.a.mark((function e(a){var n,l,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,t.validateFields();case 4:n=e.sent,l=Object(ne.a)(f),l.findIndex((function(e){return a===e.key})),r='/inf_mgnt?modify_inf={"cid":"'.concat(n.cid,'", "inf_list":{"company":"').concat(n.company,'", "contact":"').concat(n.contact,'", "mail":"').concat(n.mail,'", "phone":"').concat(n.phone,'"}}'),console.log(r),h.a.get(r).then((function(e){console.log(e),s(!1),na(""),oe.b.success("update successfully.")})).catch((function(e){s(!1),console.log(e),na(""),oe.b.error("update fail.")})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(a){return e.apply(this,arguments)}}(),oa=[{title:R("ISMS.Customer"),width:"15%",dataIndex:"cid",key:"cid",editable:!0},{title:R("ISMS.Company"),width:"10%",dataIndex:"company",key:"company",editable:!0},{title:R("ISMS.Contact"),width:"15%",dataIndex:"contact",key:"contact",editable:!0},{title:R("ISMS.Email"),width:"15%",dataIndex:"mail",key:"mail",editable:!0},{title:R("ISMS.Phone"),width:"15%",dataIndex:"phone",key:"phone",editable:!0},{title:R("ISMS.Operation"),width:"30%",dataIndex:"information",key:"information",render:function(a,n){var r=la(n);"proscend"===localStorage.getItem("authUser.cid")&&e.Login.Cid;return r?l.a.createElement("span",null,l.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),ca(n.key)},style:{marginRight:8}},"Save"),l.a.createElement(se.a,{title:"Sure to cancel?",onConfirm:ra},l.a.createElement("a",{href:"/#"},"Cancel"))):l.a.createElement("div",{className:Ua.a.InformationBtnWrapper},l.a.createElement(ue.a,{title:"Edit Info"},l.a.createElement("a",{href:"/#",disabled:""!==ta,onClick:function(e){e.preventDefault(),function(e){t.setFieldsValue(Object(y.a)({name:"",age:"",address:""},e)),na(e.key)}(n)}},l.a.createElement(Ce.b,{className:Ua.a.EditIcon}))),l.a.createElement(ue.a,{title:"Create User"},l.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),M(!0),Ue(n)}},l.a.createElement(we.i,{className:Ua.a.CreateUserIcon}))),l.a.createElement(ue.a,{title:"Edit Group"},l.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),Ge(n),Ee(!0)}},l.a.createElement(we.b,{className:Ua.a.EditGroupIcon}))),l.a.createElement(ue.a,{title:"Notification"},l.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),Ne(n),ee(!0)}},l.a.createElement(we.r,{className:Ua.a.NotificationIcon}))),l.a.createElement(ue.a,{title:"Token"},l.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),Oe(n),he(!0)}},l.a.createElement(we.k,{className:Ua.a.TokenIcon}))),l.a.createElement(ue.a,{title:"View Scheme"},l.a.createElement("a",{href:"/#",onClick:function(e){e.preventDefault(),He(n),me(!0)}},l.a.createElement(we.t,{className:Ua.a.ViewSchemeIcon}))))}}].map((function(e){return e.editable?Object(y.a)(Object(y.a)({},e),{},{onCell:function(a){return{record:a,inputType:"age"===e.dataIndex?"number":"text",dataIndex:e.dataIndex,title:e.title,editing:la(a)}}}):e}));return l.a.createElement("div",null,l.a.createElement(dt,{data:f,GroupList:P,onEditcid:Y,record:Le,setUploading:s,CreateUservisible:T,setCreateUservisible:M}),l.a.createElement(gt,{setUploading:s,CreateVisible:S,setCreateVisible:k}),l.a.createElement(pt,{GroupList:P,UserEditRecord:q,onEditcid:Y,setUploading:s,uploading:i,EditVisible:x,setEditVisible:A}),l.a.createElement(za,{NotifiModalvisible:$,setNotifiModalvisible:ee,record:je}),l.a.createElement(Xa,{SchemeModalvisible:le,setSchemeModalvisible:me,record:Ve}),De&&l.a.createElement(nt,{GroupModalvisible:fe,setGroupModalvisible:Ee,record:De,uploading:i,setUploading:s}),l.a.createElement(ot,{Tokenvisible:_e,setTokenvisible:he,record:ke}),l.a.createElement(b.a,null,""===e.Login.Cid&&"proscend"===r&&l.a.createElement(ye.a,{type:"primary",onClick:function(){return k(!0)},className:Ua.a.NewUserInfoBtn,loading:i},R("ISMS.New User Info")),l.a.createElement(ce.a,{form:t,component:!1},l.a.createElement(ge.a,{className:Ua.a.UserInfoTable,loading:Qe||Ke||i,columns:oa,dataSource:f,expandable:{expandedRowRender:function(e,a){var t=[{title:"Name",dataIndex:["name"],key:"name",width:"20%"},{title:"Level",dataIndex:["level"],key:"level",width:"20%"},{title:"Group",dataIndex:[["gid"]],key:"[gid]",width:"15%",render:function(e,a){return a.gid.map((function(e,a){return l.a.createElement($e.a,{color:"default",key:a},e)}))}},{title:"Action",dataIndex:["action"],key:"action",width:"20%",render:function(e,t,n){return l.a.createElement("div",null,l.a.createElement(ye.a,{loading:i,key:"".concat(n,"_").concat(e),onClick:function(){A(!0),z(t),Z(f["".concat(a)].cid)}},"Edit"),l.a.createElement(ye.a,{key:n,onClick:function(){s(!0);var e=f["".concat(a)].cid,n='/user_mgnt?delete_user={"cid":"'.concat(e,'", "user_list":[{"name":"').concat(t.name,'"}]}');console.log(n),h.a.get(n).then((function(e){console.log(e),s(!1),oe.b.success("Delete successfully.")})).catch((function(e){console.log(e),s(!1),oe.b.error("Delete fail.")}))}},"Delete"))}}];return l.a.createElement(ge.a,{columns:t,dataSource:e.user_list,pagination:!1,size:"middle",className:Ua.a.subHeader})}},components:{body:{cell:function(e){var a=e.editing,t=e.dataIndex,n=e.title,r=e.inputType,c=(e.record,e.index,e.children),o=Object(re.a)(e,["editing","dataIndex","title","inputType","record","index","children"]),i="number"===r?l.a.createElement(Fa.a,null):l.a.createElement(ie.a,null);return l.a.createElement("td",o,a?l.a.createElement(ce.a.Item,{name:t,style:{margin:0},rules:[{required:!0,message:"Please Input ".concat(n,"!")}]},i):c)}}},rowClassName:"editable-row",pagination:{onChange:ra}}))))},Et=_e.a.TabPane,bt=function(){var e=Object(n.useContext)(I).state;return"proscend"===localStorage.getItem("authUser.cid")&&""===e.Login.Cid?l.a.createElement(_e.a,{defaultActiveKey:"User"},l.a.createElement(Et,{tab:l.a.createElement("span",null,l.a.createElement(pa.a,null),R("ISMS.User")),key:"User"},l.a.createElement(ft,null)),l.a.createElement(Et,{tab:l.a.createElement("span",null,l.a.createElement(Aa.a,null),R("ISMS.Group")),key:"group"},l.a.createElement(at,null)),l.a.createElement(Et,{tab:l.a.createElement("span",null,l.a.createElement(Da.a,null),R("ISMS.Token")),key:"token"},l.a.createElement(ct,null)),l.a.createElement(Et,{tab:l.a.createElement("span",null,l.a.createElement(Ga.a,null),R("ISMS.Notification")),key:"Notification"},l.a.createElement(qa,null)),l.a.createElement(Et,{tab:l.a.createElement("span",null,l.a.createElement(Pa.a,null),R("ISMS.Scheme")),key:"scheme"},l.a.createElement(Qa,null))):l.a.createElement(_e.a,{defaultActiveKey:"User"},l.a.createElement(Et,{tab:l.a.createElement("span",null,l.a.createElement(pa.a,null),R("ISMS.User")),key:"User"},l.a.createElement(ft,null)))},vt=function(){return l.a.createElement(n.Fragment,null,l.a.createElement(bt,null))},_t=[{title:"Dashboard",path:"/",icon:l.a.createElement(we.o,{style:{fontSize:"1.5rem"}}),cName:"NavText",auth:!0,component:te},{title:"Topology",path:"/topology",icon:l.a.createElement(we.n,{style:{fontSize:"1.5rem"}}),cName:"NavText",auth:!0,component:la},{title:"Upgrade",path:"/backuprestore",icon:l.a.createElement(we.p,{style:{fontSize:"1.5rem"}}),cName:"NavText",auth:!0,component:xa},{title:"Management",path:"/management",icon:l.a.createElement(we.g,{style:{fontSize:"1.5rem"}}),cName:"NavText",auth:!0,super:!0,component:vt}],ht=t(134),yt=t.n(ht),St=function(){var e=Object(i.g)(),a=Object(n.useContext)(I),r=a.state,c=a.dispatch,s=r.Global.showNav,p=r.Global.IsMD,f=Object(n.useState)(localStorage.getItem("auth.isAuthed")),E=Object(d.a)(f,2),b=E[0],v=E[1],_=""===r.Login.Cid&&"proscend"===localStorage.getItem("authUser.cid"),h=Object(L.a)().t;Object(n.useEffect)((function(){r.Global.innerWidth<1200?c({type:"setShowNav",payload:{showNav:!1}}):c({type:"setShowNav",payload:{showNav:!0}}),r.Global.innerWidth<768?c({type:"setIsMD",payload:{IsMD:!0}}):c({type:"setIsMD",payload:{IsMD:!1}})}),[r.Global.innerWidth]);var y=function(){c({type:"setWindow",payload:{innerWidth:window.innerWidth,innerHeight:window.innerHeight}})};Object(n.useEffect)((function(){}),[s]),Object(n.useEffect)((function(){return window.addEventListener("resize",y),function(){return window.removeEventListener("resize",y)}}),[window.innerWidth]),Object(n.useEffect)((function(){c({type:"setWindow",payload:{innerWidth:window.innerWidth,innerHeight:window.innerHeight}}),v(localStorage.getItem("auth.isAuthed"))}),[localStorage.getItem("auth.isAuthed")]);var S=function(){var a=Object(u.a)(m.a.mark((function a(){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return localStorage.clear(),a.next=3,T();case 3:v(!1),yt.a.fire({title:"Sign Out Success",icon:"success",showConfirmButton:!1,timer:1200}).then((function(){c({type:"setUser",payload:{User:""}}),e.push("/login")}));case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return l.a.createElement("div",{className:g.a.container},l.a.createElement("div",{className:s?p?"".concat(g.a.navwrap," ").concat(g.a.MDshowNav):"".concat(g.a.navwrap):p?"".concat(g.a.MDhideNav," "):"".concat(g.a.navwrap," ").concat(g.a.ChangeBGforHide)},l.a.createElement("ul",{className:g.a.navitems},l.a.createElement("li",{className:g.a.title,style:s?null:{background:"white"}},s?l.a.createElement("img",{src:t(666),className:g.a.Logo}):null,l.a.createElement(o.b,{to:"#",className:g.a.cross,onClick:function(){c({type:"setShowNav",payload:{showNav:!s}})}},s?l.a.createElement(Qe.c,null):l.a.createElement(we.l,{style:{fontSize:"1.5rem"}}))),_t.map((function(e,a){if(!e.super||_)return l.a.createElement("li",{className:e.navitem,key:a},l.a.createElement(o.b,{to:e.path},l.a.createElement(ue.a,{title:e.title,placement:"right",key:a},e.icon)," ",s?l.a.createElement("span",null,h("ISMS.".concat(e.title))," "):null))}))),b?s?l.a.createElement(ye.a,{className:g.a.LogoutBtn,onClick:S},h("ISMS.LogOut")):l.a.createElement(ue.a,{title:"Sign-out",placement:"right"},l.a.createElement(we.h,{style:{fontSize:"1.5rem",cursor:"pointer"},onClick:S})):s?l.a.createElement("button",{className:g.a.LogoutBtn,onClick:function(){e.push("/login")}},h("ISMS.Login")):l.a.createElement(ue.a,{title:"Sign-in",placement:"right"},l.a.createElement(we.j,{style:{fontSize:"1.5rem",cursor:"pointer"},onClick:function(){e.push("/login")}}))))},It=(t(667),t(158)),kt=t.n(It),wt=t(708),Ot={wrapperCol:{xs:{span:5,offset:0},sm:{span:14,offset:5},md:{span:14,offset:5},lg:{span:14,offset:5},xl:{span:10,offset:6}}},Tt=function(){var e=Object(n.useContext)(I),a=e.state,t=e.dispatch,r=Object(i.g)(),c=Object(L.a)().t;return l.a.createElement(b.a,{bodyStyle:{width:"100%"},className:kt.a.card},l.a.createElement(ce.a,Object.assign({},Ot,{className:kt.a.form,name:"basic",initialValues:{remember:!0},onFinish:function(e){console.log(e);var n='/login?user={"name":"'.concat(e.name,'","password":"').concat(e.password,'"}');console.log(n),h.a.get(n,{credentials:"include"}).then((function(e){console.log(e.data,e.data.response.name),yt.a.fire({title:c("ISMS.SignInSuccess"),icon:"success",showConfirmButton:!1,timer:1200}),localStorage.setItem("authUser.name",e.data.response.name),localStorage.setItem("authUser.cid",e.data.response.cid),localStorage.setItem("authUser.level",e.data.response.level),localStorage.setItem("auth.isAuthed",!0),t({type:"setUser",payload:{User:e.data.response.name}}),a.Login.LogPath?r.push(a.Login.LogPath):r.push("/")})).catch((function(e){console.log(e),yt.a.fire({title:c("ISMS.SignInError"),icon:"error",showConfirmButton:!1,timer:1200}),r.push("/login")}))},onFinishFailed:function(e){console.log("Failed:",e)}}),l.a.createElement(ce.a.Item,{className:kt.a.item,name:"name",rules:[{required:!0,message:"Please input your username!"}]},l.a.createElement(ie.a,{prefix:l.a.createElement(pa.a,{className:"site-form-item-icon"}),placeholder:"Username"})),l.a.createElement(ce.a.Item,{className:kt.a.item,name:"password",rules:[{required:!0,message:"Please input your password!"}]},l.a.createElement(ie.a.Password,{prefix:l.a.createElement(wt.a,{className:"site-form-item-icon"})})),l.a.createElement(ce.a.Item,null,l.a.createElement(ye.a,{type:"primary",htmlType:"submit"},R("ISMS.Login")))),l.a.createElement("div",{className:kt.a.registerBtn,onClick:function(){r.push("/register")}},l.a.createElement("span",null,R("ISMS.goRegister1"))," ",R("ISMS.goRegister2")))},Mt=function(){return l.a.createElement(n.Fragment,null,l.a.createElement(Tt,null))},jt=t(157),Ct=t(94),Nt=t(694),xt=t(683),At=t(686),Dt=t(49),Gt=t.n(Dt),Pt=t(159),Ft=t(366),Lt=sa.a.Step,Ut={labelCol:{xs:{span:8},sm:{span:6}},wrapperCol:{xs:{span:16},sm:{span:12}}},Rt={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},Bt=function(e){console.log("Received values of form: ",e)},Vt=function(){var e=ce.a.useForm(),a=Object(d.a)(e,1)[0],t=Object(n.useState)(0),r=Object(d.a)(t,2),c=r[0],o=r[1],i=[{title:"Account Register",content:l.a.createElement(ce.a,Object.assign({},Ut,{form:a,name:"register",onFinish:Bt,scrollToFirstError:!0}),l.a.createElement(ce.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0},l.a.createElement(ie.a.Password,null)),l.a.createElement(ce.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},l.a.createElement(ie.a.Password,null)),l.a.createElement(ce.a.Item,{name:"company",label:"Company",rules:[{required:!0,message:"Please input your company!"}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"contact",label:"Contact Person",rules:[{required:!0,message:"Please input a contact person"}]},l.a.createElement(ie.a,null)),l.a.createElement(ce.a.Item,{name:"phone",label:"Phone Number",rules:[{required:!0,message:"Please input your phone number!"}]},l.a.createElement(ie.a,{style:{width:"100%"}})),l.a.createElement(ce.a.Item,Rt,l.a.createElement(ye.a,{type:"primary",htmlType:"submit"},"Register")))},{title:"Selecte a Package",content:l.a.createElement("div",{className:"site-card-wrapper"},l.a.createElement(jt.a,{gutter:{xs:8,sm:16,md:24,lg:32},justify:"space-around"},l.a.createElement(Ct.a,{className:"gutter-row",span:7},l.a.createElement(b.a,{bordered:!1,bodyStyle:{padding:0},style:{borderRadius:"15px",overflow:"hidden"},hoverable:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.b,{size:"large",header:l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:Gt.a.ListHeader,style:{background:"#1E90FF",color:"white"}},l.a.createElement("div",{className:Gt.a.HeaderIcon},l.a.createElement(Ne.c,{style:{fontSize:"55px"}})),l.a.createElement("p",null,"Essential")),l.a.createElement(xt.a,{disabled:!0,defaultValue:2.5,className:Gt.a.HeaderRate})),footer:l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:Gt.a.Btnbackgroupd},l.a.createElement(ye.a,{className:Gt.a.planBtn,style:{background:"#1E90FF",color:"white"}},"Select this plan!")),l.a.createElement("div",{className:Gt.a.ListFooter,style:{background:"#1e90ff"}},l.a.createElement("span",{style:{color:"white"}},"See more detail!"))),bordered:!1,dataSource:["30-Day trail","100 Routers","Backup","FOTA","IoT","GPS Track"],renderItem:function(e){return l.a.createElement(Nt.b.Item,{className:Gt.a.listItems},l.a.createElement("p",null,e),("Backup"===e||"30-Day trail"===e||"100 Routers"===e)&&l.a.createElement(Pt.a,{className:Gt.a.Essentialv}),("IoT"===e||"FOTA"===e||"GPS Track"===e)&&l.a.createElement(Pt.a,{className:Gt.a.Essentialx}))}})))),l.a.createElement(Ct.a,{className:"gutter-row",span:7},l.a.createElement(b.a,{bordered:!1,bodyStyle:{padding:0},style:{borderRadius:"15px",overflow:"hidden"},hoverable:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.b,{size:"large",header:l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:Gt.a.ListHeader,style:{background:"#32CD32",color:"white"}},l.a.createElement("div",{className:Gt.a.HeaderIcon,style:{background:"#32CD32"}},l.a.createElement(Ft.a,{style:{fontSize:"55px"}})),l.a.createElement("p",null,"Deluxe")),l.a.createElement(xt.a,{disabled:!0,defaultValue:3.5,className:Gt.a.HeaderRate})),footer:l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:Gt.a.Btnbackgroupd},l.a.createElement(ye.a,{className:Gt.a.planBtn,style:{background:"#32CD32",color:"white"}},"Select this plan!")),l.a.createElement("div",{className:Gt.a.ListFooter,style:{background:"#32CD32"}},l.a.createElement("span",{style:{color:"white"}},"See more detail!"))),bordered:!1,dataSource:["100k / month","10000 Routers","Backup","FOTA","IoT","GPS Track"],renderItem:function(e){return l.a.createElement(Nt.b.Item,{className:Gt.a.listItems},l.a.createElement("p",null,e),("Backup"===e||"100k / month"===e||"FOTA"===e||"10000 Routers"===e)&&l.a.createElement(Pt.a,{className:Gt.a.Deluxev}),("IoT"===e||"GPS Track"===e)&&l.a.createElement(Pt.a,{className:Gt.a.Deluxex}))}})))),l.a.createElement(Ct.a,{className:"gutter-row",span:7},l.a.createElement(b.a,{bordered:!1,bodyStyle:{padding:0},style:{borderRadius:"15px",overflow:"hidden"},hoverable:!0},l.a.createElement(l.a.Fragment,null,l.a.createElement(Nt.b,{size:"large",header:l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:Gt.a.ListHeader,style:{background:"#FFD700",color:"brown"}},l.a.createElement("div",{className:Gt.a.HeaderIcon,style:{background:"#FFD700"}},l.a.createElement(Ne.a,{style:{fontSize:"55px"}})),l.a.createElement("p",null,"Platinum")),l.a.createElement(xt.a,{disabled:!0,defaultValue:5,className:Gt.a.HeaderRate})),footer:l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:Gt.a.Btnbackgroupd},l.a.createElement(ye.a,{className:Gt.a.planBtn,style:{background:"#FFD700",color:"brown"}},"Select this plan!")),l.a.createElement("div",{className:Gt.a.ListFooter,style:{background:"#FFD700"}},l.a.createElement("span",{style:{color:"brown"}},"See more detail!"))),bordered:!1,dataSource:["10000k / month","unlimited Routers","Backup","FOTA","IoT","GPS Track"],renderItem:function(e){return l.a.createElement(Nt.b.Item,{className:Gt.a.listItems},l.a.createElement("p",null,e),("Backup"===e||"10000k / month"===e||"unlimited Routers"===e||"IoT"===e||"FOTA"===e||"GPS Track"===e)&&l.a.createElement(Pt.a,{className:Gt.a.Platinumv}))}}))))))},{title:"Complete!",content:l.a.createElement("div",null,l.a.createElement(At.a,{status:"success",title:"Successfully register an account",subTitle:"You can now start using ISMS server!",extra:[l.a.createElement(ye.a,{type:"primary",key:"login"},"Go to Login")]}))}];return l.a.createElement(b.a,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(sa.a,{current:c},i.map((function(e){return l.a.createElement(Lt,{key:e.title,title:e.title})}))),l.a.createElement("div",{className:Gt.a.stepsContent},i[c].content),l.a.createElement("div",{className:Gt.a.stepsAction},c<i.length-1&&l.a.createElement(ye.a,{type:"primary",onClick:function(){o(c+1)}},"Next"),c===i.length-1&&l.a.createElement(ye.a,{type:"primary",onClick:function(){return oe.b.success("Processing complete!")}},"Done"),c>0&&l.a.createElement(ye.a,{style:{margin:"0 8px"},onClick:function(){o(c-1)}},"Previous"))))},Ht=function(){return l.a.createElement(n.Fragment,null,l.a.createElement(Vt,null))},Wt=t(95),qt=t.n(Wt),zt=me.a.SubMenu,Kt=he.a.Option,Jt=function(){var e=Object(n.useContext)(I),a=e.state,t=e.dispatch,r=Object(n.useState)(localStorage.getItem("authUser.name")),c=Object(d.a)(r,2),o=c[0],s=c[1],p=Object(i.g)();Object(n.useEffect)((function(){s(localStorage.getItem("authUser.name"))}),[a.Login.User]),Object(n.useEffect)((function(){a.Global.Lang&&D.a.changeLanguage(a.Global.Lang)}),[a.Global.Lang]);var g=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("logout"),localStorage.clear(),e.next=4,T();case 4:yt.a.fire({title:"Sign Out Success",icon:"success",showConfirmButton:!1,timer:1200}),t({type:"setUser",payload:{User:""}}),p.push("/login");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:qt.a.head},l.a.createElement(we.l,{className:a.Global.IsMD?qt.a.Reverse:"".concat(qt.a.Reverse," ").concat(qt.a.HideReverse),onClick:function(){t({type:"setShowNav",payload:{showNav:!a.Global.showNav}})}}),l.a.createElement(me.a,{mode:"horizontal",className:qt.a.menu},l.a.createElement(zt,{key:"user",icon:l.a.createElement(we.m,{className:qt.a.user}),title:o},l.a.createElement(me.a.Item,{key:"setting2",onClick:function(){p.push("/mysetting")}},R("ISMS.Setting")),l.a.createElement(me.a.Item,{key:"setting3",onClick:function(){return g()}},R("ISMS.LogOut")))),"super@proscend.com"===o&&l.a.createElement(me.a,{mode:"horizontal",className:qt.a.menu},l.a.createElement(me.a.Item,{key:"s1",className:qt.a.superSelect},l.a.createElement(he.a,{defaultValue:"Super",style:{width:100},onChange:function(e){console.log("selected ".concat(e)),t({type:"setCid",payload:{Cid:e}})}},l.a.createElement(Kt,{value:""},"Super"),l.a.createElement(Kt,{value:'"cid":"proscend"'},"Proscend-1"),l.a.createElement(Kt,{value:'"cid":"proscend-2"'},"Proscend-2"),l.a.createElement(Kt,{value:'"cid":"proscend-3"'},"Proscend-3")))),l.a.createElement(me.a,{mode:"horizontal",className:qt.a.menu},l.a.createElement(zt,{key:"language",icon:l.a.createElement(Ne.d,{className:qt.a.language}),onClick:function(e){var a=e.key;t(a?{type:"setLang",payload:{Lang:a}}:{type:"setLang",payload:{Lang:"en"}})}},l.a.createElement(me.a.Item,{key:"zh-TW"},"ZH \u7e41\u9ad4\u4e2d\u6587"),l.a.createElement(me.a.Item,{key:"en"},"EN \u82f1\u6587"))))},Yt=function(){var e=Object(i.g)();return l.a.createElement(n.Fragment,null,l.a.createElement(At.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:l.a.createElement(ye.a,{type:"primary",onClick:function(){e.push("/")}},"Back Home")}))},Zt=function(){var e=Object(i.g)();return l.a.createElement(n.Fragment,null,l.a.createElement(At.a,{status:"500",title:"500",subTitle:"Sorry, something went wrong.",extra:l.a.createElement(ye.a,{type:"primary",onClick:function(){e.push("/")}},"Back Home")}))},Qt=function(){return l.a.createElement(n.Fragment,null,l.a.createElement(ft,null))},Xt=(t(672),function(){return l.a.createElement(o.a,null,l.a.createElement(O,null,l.a.createElement("div",{className:"container_"},l.a.createElement("div",null,l.a.createElement(St,null)),l.a.createElement("div",{className:"rightPage"},l.a.createElement(Jt,null),l.a.createElement("div",{className:"content"},l.a.createElement(i.d,null,l.a.createElement(i.b,{path:"/mysetting",exact:!0,component:Qt}),l.a.createElement(i.b,{path:"/login",exact:!0,component:Mt}),l.a.createElement(i.b,{path:"/register",exact:!0,component:Ht}),l.a.createElement(i.b,{path:"/internalerror",exact:!0,component:Zt}),_t.map((function(e,a){return l.a.createElement(i.b,{key:a,path:e.path,exact:!0,render:function(){return localStorage.getItem("auth.isAuthed")?l.a.createElement(e.component,null):l.a.createElement(i.a,{to:"/login"})}})})),l.a.createElement(i.b,{component:Yt})))))))});c.a.render(l.a.createElement(Xt,null),document.getElementById("root"))},78:function(e,a,t){e.exports={Logo:"Navbar_Logo__uDjvZ",LogoSmall:"Navbar_LogoSmall__1E9Kr",MD:"Navbar_MD__15iKw",MDhideNav:"Navbar_MDhideNav__jX8gA",NavIconWrapper:"Navbar_NavIconWrapper__2b3aF",container:"Navbar_container__6M_3M",navwrap:"Navbar_navwrap__1AREv",MDshowNav:"Navbar_MDshowNav__1LNnM",ChangeBGforHide:"Navbar_ChangeBGforHide__U8OlD",MDmenue:"Navbar_MDmenue__3A6-P",hideNavbar:"Navbar_hideNavbar__1zkup",navitems:"Navbar_navitems__5VD67",title:"Navbar_title__ShavZ",cross:"Navbar_cross__1AtCn",LogoutBtn:"Navbar_LogoutBtn__2D_xx"}},95:function(e,a,t){e.exports={head:"header_head__1ME8S",Reverse:"header_Reverse__2vU4q",HideReverse:"header_HideReverse__eXuCH",menu:"header_menu__2HDPY",inform:"header_inform__TD8fl",user:"header_user__2i2UO",language:"header_language__1NHnv",superSelect:"header_superSelect__1jGp3"}}},[[374,1,2]]]);
//# sourceMappingURL=main.c42f76cb.chunk.js.map